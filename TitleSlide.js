/* Generated by Spago v0.93.44 */
(()=>{var nt={compose:function(n){return function(r){return function(e){return n(r(e))}}}};var V=function(n){return n.identity},Z={identity:function(n){return n},Semigroupoid0:function(){return nt}};var pn=function(n){return function(r){return function(e){return n(e)(r)}}},k=function(n){return function(r){return n}};var Ba=function(n){return function(r){for(var e=r.length,t=new Array(e),a=0;a<e;a++)t[a]=n(r[a]);return t}};var I=function(){function n(){}return n.value=new n,n}();var m=function(n){return n.map},Yt=function(n){var r=m(n);return function(e){return function(t){return r(t)(e)}}},_n=function(n){return m(n)(k(void 0))};var Sr=function(n){var r=m(n);return function(e){return r(k(e))}};var $n={map:Ba};var ic=V(Z);var bn=function(n){return n.apply};var ge=function(n){var r=bn(n),e=m(n.Functor0());return function(t){return function(a){return r(e(k(ic))(t))(a)}}};var T=function(n){return n.pure};var ye=function(n){var r=bn(n.Apply0()),e=T(n);return function(t){return function(a){return r(e(t))(a)}}};var lc=typeof Array.prototype.flatMap=="function"?function(n){return function(r){return n.flatMap(r)}}:function(n){return function(r){for(var e=[],t=n.length,a=0;a<t;a++)for(var o=r(n[a]),u=o.length,i=0;i<u;i++)e.push(o[i]);return e}};var Kn=function(n){return n.discard};var S=function(n){return n.bind},Zn=function(n){return pn(S(n))};var nr={discard:function(n){return S(n)}};var Ja=function(n){return function(r){return function(e){for(var t=r,a=e.length,o=a-1;o>=0;o--)t=n(e[o])(t);return t}}},Ga=function(n){return function(r){return function(e){for(var t=r,a=e.length,o=0;o<a;o++)t=n(t)(e[o]);return t}}};var Nn=function(n){return n.reflectSymbol};var qn=function(n){return function(r){return r[n]}},Rn=function(n){return function(r){return function(e){var t={};for(var a in e)({}).hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t[n]=r,t}}};var an=function(n){return n.append};var gc=Number.POSITIVE_INFINITY,yc=Number.NEGATIVE_INFINITY;var Tc=function(n){return function(r){return function(e){return function(t){return function(a){return t<a?n:t===a?r:e}}}}};var za=Tc;var hc=function(n){return function(r){return n===r}};var ja=hc;var Qa={eq:ja};var en=function(n){return n.eq};var O=function(){function n(){}return n.value=new n,n}(),W=function(){function n(){}return n.value=new n,n}(),Y=function(){function n(){}return n.value=new n,n}();var De={eq:function(n){return function(r){return n instanceof O&&r instanceof O||n instanceof W&&r instanceof W||n instanceof Y&&r instanceof Y}}};var Xa=function(n){return function(r){return n-r}};var Ya=function(n){return function(r){return n+r}},Ka=function(n){return function(r){return n*r}};var Za=function(n){return n.zeroRecord},er=function(n){return n.zero};var Kr={addRecord:function(n){return function(r){return function(e){return{}}}},mulRecord:function(n){return function(r){return function(e){return{}}}},oneRecord:function(n){return function(r){return{}}},zeroRecord:function(n){return function(r){return{}}}};var vr={add:Ya,zero:0,mul:Ka,one:1};var nu=function(n){return n.oneRecord},ir=function(n){return n.one},ru=function(n){return n.mulRecord},Pn=function(n){return n.mul},eu=function(n){return n.addRecord},Zr=function(){return function(n){return{add:eu(n)(I.value),mul:ru(n)(I.value),one:nu(n)(I.value)(I.value),zero:Za(n)(I.value)(I.value)}}},fr=function(n){return n.add};var gr=function(n){var r=Nn(n);return function(){return function(e){var t=eu(e),a=ru(e),o=nu(e),u=Za(e);return function(i){var f=fr(i),v=Pn(i),c=ir(i),_=er(i);return{addRecord:function(E){return function($){return function(h){var M=t(I.value)($)(h),L=r(I.value),R=Rn(L),tn=qn(L);return R(f(tn($))(tn(h)))(M)}}},mulRecord:function(E){return function($){return function(h){var M=a(I.value)($)(h),L=r(I.value),R=Rn(L),tn=qn(L);return R(v(tn($))(tn(h)))(M)}}},oneRecord:function(E){return function($){var h=o(I.value)(I.value),M=r(I.value),L=Rn(M);return L(c)(h)}},zeroRecord:function(E){return function($){var h=u(I.value)(I.value),M=r(I.value),L=Rn(M);return L(_)(h)}}}}}}};var Fc=Zr(),tu=function(n){return n.subRecord},Te=function(n){return n.sub};var eo={subRecord:function(n){return function(r){return function(e){return{}}}},SemiringRecord0:function(){return Kr}},tt=function(n){var r=Nn(n),e=gr(n)();return function(){return function(t){var a=tu(t),o=e(t.SemiringRecord0());return function(u){var i=Te(u),f=o(u.Semiring0());return{subRecord:function(v){return function(c){return function(_){var E=a(I.value)(c)(_),$=r(I.value),h=Rn($),M=qn($);return h(i(M(c))(M(_)))(E)}}},SemiringRecord0:function(){return f}}}}}},to=function(){return function(n){var r=Fc(n.SemiringRecord0());return{sub:tu(n)(I.value),Semiring0:function(){return r}}}};var ot={sub:Xa,Semiring0:function(){return vr}};var ao=function(){return{compare:za(O.value)(Y.value)(W.value),Eq0:function(){return Qa}}}();var K=function(n){return n.compare};var ou=function(n){var r=n.toString();return isNaN(r+".0")?r:r+".0"};var au={show:ou};var G=function(n){return n.show};var Oc=V(Z),s=function(){function n(){}return n.value=new n,n}(),l=function(){function n(r){this.value0=r}return n.create=function(r){return new n(r)},n}();var Dr=function(n){return function(r){return function(e){if(e instanceof s)return n;if(e instanceof l)return r(e.value0);throw new Error("Failed pattern match at Data.Maybe (line 237, column 1 - line 237, column 51): "+[n.constructor.name,r.constructor.name,e.constructor.name])}}},ee=Dr(!0)(k(!1));var gn={map:function(n){return function(r){return r instanceof l?new l(n(r.value0)):s.value}}};var jn=function(n){return Dr(n)(Oc)},Nr=function(){return function(n){if(n instanceof l)return n.value0;throw new Error("Failed pattern match at Data.Maybe (line 288, column 1 - line 288, column 46): "+[n.constructor.name])}};var iu=function(n){return function(r){return n&&r}},fu=function(n){return function(r){return n||r}},cu=function(n){return!n};var io=function(n){return n.not};var it=function(n){return n.ff};var Ce=function(n){return n.disj},tr={ff:!1,tt:!0,implies:function(n){return function(r){return Ce(tr)(io(tr)(n))(r)}},conj:iu,disj:fu,not:cu};var Hn=function(n){return n.mempty};var Q=function(){function n(r,e){this.value0=r,this.value1=e}return n.create=function(r){return function(e){return new n(r,e)}},n}();var te=function(n){return n.value1};var oe=function(n){return n.value0};var go=function(n){return n};var ul=function(n){var r=Ce(n);return{append:function(e){return function(t){return r(e)(t)}}}};var gu=function(n){var r=ul(n);return{mempty:it(n),Semigroup0:function(){return r}}};var p=function(n){return n};var yu=function(){return p};var cl=yu();var Do=function(){return function(){return function(){return function(){return function(n){return cl}}}}};var pl=V(Z),dl=en(De);var _l=Do()()()(),ct=function(n){return n.foldr};var Rr=function(n){var r=ge(n.Apply0()),e=T(n);return function(t){var a=ct(t);return function(o){return a(function(u){return r(o(u))})(e(void 0))}}},Co=function(n){var r=Rr(n);return function(e){return pn(r(e))}};var Me=function(n){return n.foldl};var Du=function(n){var r=Me(n);return function(e){var t=function(a){return function(o){if(a instanceof s)return new l(o);if(a instanceof l)return new l(function(){var u=dl(e(a.value0)(o))(W.value);return u?a.value0:o}());throw new Error("Failed pattern match at Data.Foldable (line 441, column 3 - line 441, column 27): "+[a.constructor.name,o.constructor.name])}};return r(t)(s.value)}},Eo=function(n){var r=K(n);return function(e){return Du(e)(r)}};var Tu=function(n){var r=ct(n);return function(e){var t=an(e.Semigroup0()),a=Hn(e);return function(o){return r(function(u){return function(i){return t(o(u))(i)}})(a)}}},Dn={foldr:Ja,foldl:Ga,foldMap:function(n){return Tu(Dn)(n)}};var Mo=function(n){return n.foldMap};var bu=function(n){var r=Mo(n);return function(e){return _l(go)(r(gu(e)))}};var Pr=function(n){var r=bu(n);return function(e){return r(e)(pl)}};var lt=function(n){return n.toUpperCase()};var ae=function(n){return function(r){return r.join(n)}};var hu=function(){function n(a){return[a]}function r(a){return function(o){return[a,o]}}function e(a){return function(o){return function(u){return[a,o,u]}}}function t(a){return function(o){return a.concat(o)}}return function(a){return function(o){return function(u){return function(i){return function(f){function v(c,_){switch(_-c){case 0:return u([]);case 1:return o(n)(i(f[c]));case 2:return a(o(r)(i(f[c])))(i(f[c+1]));case 3:return a(a(o(e)(i(f[c])))(i(f[c+1])))(i(f[c+2]));default:var E=c+Math.floor((_-c)/4)*2;return a(o(t)(v(c,E)))(v(E,_))}}return v(0,f.length)}}}}}}();var kl=V(Z),or=function(n){return n.traverse};var Jl=function(n){var r=or(n);return function(e){return r(e)(kl)}},ar={traverse:function(n){var r=n.Apply0();return hu(bn(r))(m(r.Functor0()))(T(n))},sequence:function(n){return Jl(ar)(n)},Functor0:function(){return $n},Foldable1:function(){return Dn}};var Lu=function(n){return function(){return n}},wu=function(n){return function(r){return function(){return r(n())()}}};var Su=function(n){var r=S(n.Bind1()),e=T(n.Applicative0());return function(t){return function(a){return r(a)(function(o){return e(t(o))})}}},xe=function(n){var r=S(n.Bind1()),e=T(n.Applicative0());return function(t){return function(a){return r(t)(function(o){return r(a)(function(u){return e(o(u))})})}}};var Nu=function(n,r,e){var t=0,a;return function(o){if(t===2)return a;if(t===1)throw new ReferenceError(n+" was needed before it finished initializing (module "+r+", line "+o+")",r,o);return t=1,a=e(),t=2,a}},Tn={Applicative0:function(){return hn},Bind1:function(){return br}},br={bind:wu,Apply0:function(){return Io(0)}},hn={pure:Lu,Apply0:function(){return Io(0)}},Ru=Nu("functorEffect","Effect",function(){return{map:ye(hn)}}),Io=Nu("applyEffect","Effect",function(){return{apply:xe(Tn),Functor0:function(){return Ru(0)}}}),F=Ru(20),Pu=Io(23);var Cn={liftEffect:V(Z),Monad0:function(){return Tn}},En=function(n){return n.liftEffect};function Hu(n){return function(r){return function(e){return function(){var t=new Image;t.src=n,t.addEventListener("load",function(){e(t)()},!1),t.addEventListener("error",function(){r()},!1)}}}}function Wu(n,r,e){return function(){var t=document.getElementById(n);return t&&t instanceof HTMLCanvasElement?r(t):e}}function ue(n){return function(){return n.getContext("2d")}}function Le(n){return function(){return n.width}}function we(n){return function(){return n.height}}function Lo(n){return function(r){return function(){n.width=r}}}function wo(n){return function(r){return function(){n.height=r}}}function So(n){return function(){return n.toDataURL()}}function hr(n){return function(r){return function(){n.fillStyle=r}}}function Au(n){return function(r){return function(){n.globalCompositeOperation=r}}}function Se(n){return function(){n.beginPath()}}function Ne(n){return function(){n.fill()}}function Re(n){return function(r){return function(e){return function(){n.lineTo(r,e)}}}}function No(n){return function(r){return function(e){return function(){n.moveTo(r,e)}}}}function Ro(n){return function(){n.closePath()}}function Po(n){return function(r){return function(){n.rect(r.x,r.y,r.width,r.height)}}}function Ho(n){return function(r){return function(){n.clearRect(r.x,r.y,r.width,r.height)}}}function Wo(n){return function(r){return function(){n.translate(r.translateX,r.translateY)}}}function Uu(n){return function(r){return function(){n.textAlign=r}}}function $u(n){return function(r){return function(){n.textBaseline=r}}}function pt(n){return function(r){return function(){n.font=r}}}function Ao(n){return function(r){return function(e){return function(t){return function(){n.fillText(r,e,t)}}}}}function Uo(n){return function(){n.save()}}function $o(n){return function(){n.restore()}}function qo(n){return function(r){return function(e){return function(t){return function(a){return function(o){return function(){n.drawImage(r,e,t,a,o)}}}}}}}function Oo(n){return function(r){return function(e){return function(t){return function(a){return function(o){return function(u){return function(i){return function(f){return function(v){return function(){n.drawImage(r,e,t,a,o,u,i,f,v)}}}}}}}}}}}var es=ge(Pu),sr=function(){function n(){}return n.value=new n,n}(),ts=function(){function n(){}return n.value=new n,n}(),os=function(){function n(){}return n.value=new n,n}(),as=function(){function n(){}return n.value=new n,n}(),us=function(){function n(){}return n.value=new n,n}(),ie=function(){function n(){}return n.value=new n,n}(),Cr=function(){function n(){}return n.value=new n,n}(),Pe=function(){function n(){}return n.value=new n,n}(),ko=function(){function n(){}return n.value=new n,n}(),Jo=function(){function n(){}return n.value=new n,n}(),Go=function(){function n(){}return n.value=new n,n}();var Ur=function(){function n(){}return n.value=new n,n}(),is=function(){function n(){}return n.value=new n,n}(),fs=function(){function n(){}return n.value=new n,n}(),cs=function(){function n(){}return n.value=new n,n}(),ls=function(){function n(){}return n.value=new n,n}(),ss=function(){function n(){}return n.value=new n,n}(),ms=function(){function n(){}return n.value=new n,n}(),ps=function(){function n(){}return n.value=new n,n}(),ds=function(){function n(){}return n.value=new n,n}(),_s=function(){function n(){}return n.value=new n,n}(),vs=function(){function n(){}return n.value=new n,n}(),gs=function(){function n(){}return n.value=new n,n}(),ys=function(){function n(){}return n.value=new n,n}(),Ds=function(){function n(){}return n.value=new n,n}(),Ts=function(){function n(){}return n.value=new n,n}(),bs=function(){function n(){}return n.value=new n,n}(),hs=function(){function n(){}return n.value=new n,n}(),Cs=function(){function n(){}return n.value=new n,n}(),Es=function(){function n(){}return n.value=new n,n}(),Ms=function(){function n(){}return n.value=new n,n}(),Fs=function(){function n(){}return n.value=new n,n}(),xs=function(){function n(){}return n.value=new n,n}(),Is=function(){function n(){}return n.value=new n,n}(),Ls=function(){function n(){}return n.value=new n,n}(),ws=function(){function n(){}return n.value=new n,n}(),Ss=function(){function n(){}return n.value=new n,n}(),Fn=function(n){return function(r){return function(){Uo(n)();var t=r();return $o(n)(),t}}},Vo=function(n){return function(r){return Hu(n)(r(s.value))(function(e){return r(l.create(e))})}};var zo=function(n){return function(r){var e=function(t){if(t instanceof sr)return"top";if(t instanceof ts)return"hanging";if(t instanceof os)return"middle";if(t instanceof as)return"alphabetic";if(t instanceof us)return"ideographic";if(t instanceof ie)return"bottom";throw new Error("Failed pattern match at Graphics.Canvas (line 577, column 5 - line 577, column 33): "+[t.constructor.name])};return $u(n)(e(r))}},jo=function(n){return function(r){var e=function(t){if(t instanceof Cr)return"left";if(t instanceof Pe)return"right";if(t instanceof ko)return"center";if(t instanceof Jo)return"start";if(t instanceof Go)return"end";throw new Error("Failed pattern match at Graphics.Canvas (line 531, column 5 - line 531, column 32): "+[t.constructor.name])};return Uu(n)(e(r))}};var ku=function(n){return function(r){var e=function(t){if(t instanceof Ur)return"source-over";if(t instanceof is)return"source-in";if(t instanceof fs)return"source-out";if(t instanceof cs)return"source-atop";if(t instanceof ls)return"destination-over";if(t instanceof ss)return"destination-in";if(t instanceof ms)return"destination-out";if(t instanceof ps)return"destination-atop";if(t instanceof ds)return"lighter";if(t instanceof _s)return"copy";if(t instanceof vs)return"xor";if(t instanceof gs)return"multiply";if(t instanceof ys)return"screen";if(t instanceof Ds)return"overlay";if(t instanceof Ts)return"darken";if(t instanceof bs)return"lighten";if(t instanceof hs)return"color-dodge";if(t instanceof Cs)return"color-burn";if(t instanceof Es)return"hard-light";if(t instanceof Ms)return"soft-light";if(t instanceof Fs)return"difference";if(t instanceof xs)return"exclusion";if(t instanceof Is)return"hue";if(t instanceof Ls)return"saturation";if(t instanceof ws)return"color";if(t instanceof Ss)return"luminosity";throw new Error("Failed pattern match at Graphics.Canvas (line 326, column 5 - line 326, column 45): "+[t.constructor.name])};return Au(n)(e(r))}},Qo=function(n){return function(r){return es(wo(n)(r.height))(Lo(n)(r.width))}},Xo=function(n){return Wu(n,l.create,s.value)},Ju=function(n){return function(){var e=Le(n)(),t=we(n)();return{width:e,height:t}}},Gu=function(n){return function(r){return function(){Se(n)();var t=r();return Ne(n)(),t}}};var dt=isFinite;function Vu(n,r,e,t){var a=parseFloat(n);return r(a)?e(a):t}var _t=Math.tan;var ju=3.141592653589793;var Yo=function(n){return Vu(n,dt,l.create,s.value)};var gt=function(n){return function(r){return r(function(e){return n(e)})}},Er=function(n){return function(r){return{x:r.x+n.translateX,y:r.y+n.translateY}}};var xn=function(n){return n.translate},Qu=function(n){return function(r){return{width:r.width*n.scaleX,height:r.height*n.scaleY}}},Ko=function(n){return n.scale},Xu=function(n){var r=Ko(n);return function(e){return r({scaleX:e,scaleY:e})}},Wn=function(n){return n.position},In=function(n){return function(r){return function(e){return e(n)(r)}}},Ws=function(n){var r=m(n);return function(e){return gt(function(t){var a=r(In(t)),o=e(t);return function(u){return a(o(u))}})}};var Zo=function(n){return n.mapLayerWrapper},Mn=function(n){return n.draw},As=function(n){var r=xn(n);return function(e){return function(t){return function(a){var o={translateX:t.translateX-e.offsetX,translateY:t.translateY-e.offsetY};return r(o)(a)}}}},An=function(n){var r=T(n);return function(e){var t=As(e);return function(a){return function(o){return function(u){if(a instanceof s)return r(u);if(a instanceof l)return t(a.value0)(o)(u);throw new Error("Failed pattern match at Template.Layer (line 59, column 1 - line 59, column 115): "+[a.constructor.name,o.constructor.name,u.constructor.name])}}}}},Bn=function(n){return n.dragStart},kn=function(n){return n.dragEnd},pr=function(n){return n.drag},Un=function(n){return n.containsPoint},Mr=function(n){var r=Ws(n);return{position:gt(function(e){return Wn(e)}),translate:function(e){return r(function(t){return xn(t)(e)})},containsPoint:function(e){return gt(function(t){return Un(t)(e)})},draw:function(e){return gt(function(t){return Mn(t)(e)})},dragStart:function(e){return r(function(t){return Bn(t)(e)})},drag:function(e){return r(function(t){return pr(t)(e)})},dragEnd:r(function(e){return kn(e)})}};var Ku=function(n){return function(r){return function(e){return function(t){return{position:n,dimensions:r,angle:e,fillStyle:t,dragOffset:s.value}}}}},Yu=function(n){return n*ju/180},na=function(n){var r=n.Applicative0(),e=T(r),t=An(r);return{position:function(a){return e(a.position)},translate:function(a){return function(o){return e({dimensions:o.dimensions,angle:o.angle,fillStyle:o.fillStyle,dragOffset:o.dragOffset,position:Er(a)(o.position)})}},containsPoint:function(a){return function(o){var u=(o.dimensions.height-a.y)/_t(Yu(o.angle));return e(o.position.x+u<=a.x&&a.x<=o.position.x+o.dimensions.width&&o.position.y<=a.y&&a.y<=o.position.y+o.dimensions.height)}},draw:function(a){return function(o){return Fn(a)(function(){return hr(a)(o.fillStyle)(),Se(a)(),No(a)(o.position.x)(o.position.y+o.dimensions.height)(),Re(a)(o.position.x+o.dimensions.width)(o.position.y+o.dimensions.height)(),Re(a)(o.position.x+o.dimensions.width)(o.position.y)(),Re(a)(o.position.x+o.dimensions.height/_t(Yu(o.angle)))(o.position.y)(),Ro(a)(),Ne(a)()})}},dragStart:function(a){return function(o){return e({position:o.position,dimensions:o.dimensions,angle:o.angle,fillStyle:o.fillStyle,dragOffset:new l(a)})}},drag:function(a){return function(o){return t(na(n))(o.dragOffset)(a)(o)}},dragEnd:function(a){return e({position:a.position,dimensions:a.dimensions,angle:a.angle,fillStyle:a.fillStyle,dragOffset:s.value})}}};var Zu=function(n,r){for(var e=n>r?-1:1,t=new Array(e*(r-n)+1),a=n,o=0;a!==r;)t[o++]=a,a+=e;return t[o]=a,t},$s=function(n,r){if(n<1)return[];var e=new Array(n);return e.fill(r)},qs=function(n,r){for(var e=[],t=0,a=0;a<n;a++)e[t++]=r;return e},Os=typeof Array.prototype.fill=="function"?$s:qs;var Fr=function(n){return n.length};var ni=function(n,r,e,t){return t<0||t>=e.length?r:n(e[t])};var ri=function(n,r,e,t){for(var a=0,o=t.length;a<o;a++)if(e(t[a]))return n(a);return r};var ei=function(n,r,e,t,a){if(e<0||e>=a.length)return r;var o=a.slice();return o[e]=t,n(o)},He=function(n){return n.slice().reverse()},ra=function(n){if(n.length<=1e4)return Array.prototype.concat.apply([],n);for(var r=[],e=0,t=n.length;e<t;e++)for(var a=n[e],o=0,u=a.length;o<u;o++)r.push(a[o]);return r};var ti=function(n,r,e){for(var t=r.length<e.length?r.length:e.length,a=new Array(t),o=0;o<t;o++)a[o]=n(r[o])(e[o]);return a},oi=function(n,r){for(var e=r.length,t=0;t<e;t++)if(n(r[t]))return!0;return!1};var ai=function(n){return function(){return{value:n}}};var Ln=function(n){return function(){return n.value}},ui=function(n){return function(r){return function(){var e=n(r.value);return r.value=e.state,e.value}}},fe=function(n){return function(r){return function(){r.value=n}}};var Js=_n(F),xr=ai,Gs=ui,ea=function(n){return Gs(function(r){var e=n(r);return{state:e,value:e}})},ta=function(n){return function(r){return Js(ea(n)(r))}};function Ks(n){return n}var mi=Ks;function Zs(n){return n.slice()}var pi=Zs;var di=function(n,r){return r.push(n)};var Dt=function(r){return function(e){return function(){return r(e)}}},aa=function(r){return function(e){return function(t){return function(){return r(e,t)}}}};var _i=Dt(mi);var um=Dt(pi),vi=function(n){return function(r){return function(){var t=um(r)();return n(t)(),_i(t)()}}};var ua=aa(di);var Ae=function(n){return function(r){return function(e){return n(r,e)}}},ia=function(n){return function(r){return function(e){return function(t){return n(r,e,t)}}}},Tt=function(n){return function(r){return function(e){return function(t){return function(a){return n(r,e,t,a)}}}}},fa=function(n){return function(r){return function(e){return function(t){return function(a){return function(o){return n(r,e,t,a,o)}}}}}};var Di=function(n){return function(r){return function(e){return function(t){return function(a){return function(o){for(var u=[],i=o;;){var f=a(i);if(n(f))return u;var v=r(f);u.push(e(v)),i=t(v)}}}}}}};var Ti=function(n){return function(r){return function(e){return function(t){return function(a){return function(o){for(var u=[],i=o;;){var f=a(i);u.push(e(f));var v=t(f);if(n(v))return u;i=r(v)}}}}}}};var gm=Nr();var bi={unfoldr1:Ti(ee)(gm)(oe)(te)};var bm=Nr(),Ue=function(n){return n.unfoldr};var ca={unfoldr:Di(ee)(bm)(oe)(te),Unfoldable10:function(){return bi}};var Cm=ia(ti);var bt=function(){return Cm(Q.create)}();var Em=function(){return fa(ei)(l.create)(s.value)}();var qe=function(n){return function(r){return vi(ua(r))(n)()}};var Ci=Ae(Zu);var dr=function(){return Tt(ni)(l.create)(s.value)}();var Ei=function(n){return function(r){return function(e){var t=function(a){return Em(n)(r(a))(e)};return Dr(s.value)(t)(dr(e)(n))}}};var la=function(){return Tt(ri)(l.create)(s.value)}();var Mi=Ae(oi);var Mm=Pr(Dn)(tr),Fm=or(ar),xm=Te(to()(tt({reflectSymbol:function(){return"x"}})()(tt({reflectSymbol:function(){return"y"}})()(eo)(ot))(ot))),Im=Rr(hn)(Dn);var sa=function(n){var r=n.Applicative0(),e=T(r),t=n.Bind1().Apply0().Functor0(),a=m(t),o=Fm(r),u=Mr(t),i=Un(u),f=Mn(u),v=An(r);return{position:function(c){return e(c.position)},translate:function(c){return function(_){return e({layers:_.layers,dragOffset:_.dragOffset,position:Er(c)(_.position)})}},containsPoint:function(c){return function(_){return a(Mm)(o(i(xm(c)(_.position)))(_.layers))}},draw:function(c){return function(_){return Fn(c)(function(){return Wo(c)({translateX:_.position.x,translateY:_.position.y})(),Im(function(){var $=Fn(c),h=f(c);return function(M){return $(h(M))}}())(He(_.layers))()})}},dragStart:function(c){return function(_){return e({layers:_.layers,position:_.position,dragOffset:new l(c)})}},drag:function(c){return function(_){return v(sa(n))(_.dragOffset)(c)(_)}},dragEnd:function(c){return e({layers:c.layers,position:c.position,dragOffset:s.value})}}},Fi=function(n){return{layers:n,position:{x:0,y:0},dragOffset:s.value}};var Oe=n=>n.width,Be=n=>n.height;var ht=n=>r=>()=>n.letterSpacing=r;var xi=function(n){return function(r){return function(e){return function(t){return qo(n)(r)(e.x)(e.y)(t.width)(t.height)}}}};var ma=function(n){return{width:Oe(n),height:Be(n)}};var Sm=Pn(Zr()(gr({reflectSymbol:function(){return"scaleX"}})()(gr({reflectSymbol:function(){return"scaleY"}})()(Kr)(vr))(vr))),Nm=Kn(nr),Rm=m(gn);var Li=function(n){var r=T(n.Monad0().Applicative0());return{scale:function(e){return function(t){return r({image:t.image,position:t.position,composite:t.composite,dragOffset:t.dragOffset,scale:Sm(e)(t.scale)})}}}},Ct=function(n){var r=n.Monad0(),e=r.Applicative0(),t=T(e),a=S(r.Bind1()),o=En(n),u=An(e);return{position:function(i){return t(i.position)},translate:function(i){return function(f){return t({image:f.image,scale:f.scale,composite:f.composite,dragOffset:f.dragOffset,position:Er(i)(f.position)})}},containsPoint:function(i){return function(f){return a(o(Ln(f.image)))(function(v){if(v instanceof s)return t(!1);if(v instanceof l)return t(f.position.x<=i.x&&i.x<=f.position.x+Oe(v.value0)*f.scale.scaleX&&f.position.y<=i.y&&i.y<=f.position.y+Be(v.value0)*f.scale.scaleY);throw new Error("Failed pattern match at Template.Layer.Image (line 74, column 5 - line 78, column 107): "+[v.constructor.name])})}},dragStart:function(i){return function(f){return t({image:f.image,position:f.position,scale:f.scale,composite:f.composite,dragOffset:new l(i)})}},drag:function(i){return function(f){return u(Ct(n))(f.dragOffset)(i)(f)}},dragEnd:function(i){return t({image:i.image,position:i.position,scale:i.scale,composite:i.composite,dragOffset:s.value})},draw:function(i){return function(f){return function(){var c=Ln(f.image)();if(c instanceof s)return void 0;if(c instanceof l)return Fn(i)(function(){return ku(i)(f.composite)(),xi(i)(c.value0)(f.position)(Qu(f.scale)(ma(c.value0)))()})();throw new Error("Failed pattern match at Template.Layer.Image (line 86, column 5 - line 91, column 78): "+[c.constructor.name])}}}}},wi=function(n){return function(r){return{image:r.image,position:r.position,composite:r.composite,dragOffset:r.dragOffset,scale:n}}},pa=function(n){var r=En(n);return function(e){return function(t){return function(a){return function(o){return r(function(){var i=xr(s.value)();return Vo(e)(function(){var f=pn(ta)(i);return function(v){return f(k(v))}}())(),{image:i,position:t,scale:a,composite:o,dragOffset:s.value}})}}}}},Si=function(n){var r=En(n);return function(e){return function(t){return function(a){return r(function(){var u=xr(s.value)();return{image:u,position:e,scale:t,composite:a,dragOffset:s.value}})}}}},Ni=function(n){var r=n.Monad0(),e=Nm(r.Bind1()),t=En(n),a=T(r.Applicative0());return function(o){return function(u){return e(t(Vo(o)(function(){var i=pn(ta)(u.image);return function(f){return i(k(f))}}())))(function(){return a(u)})}}},Ri=function(n){return n.scale},Pi=function(n){var r=n.Monad0(),e=S(r.Bind1()),t=En(n),a=T(r.Applicative0());return function(o){return e(t(Ln(o.image)))(function(u){return a(Rm(ma)(u))})}};var Ir=function(n){return n.lift};var km=m(gn);var Mt=function(n){return n},qr=function(n){return n};var ce={lift:function(n){var r=Su(n)(l.create);return function(e){return Mt(r(e))}}};var Jm=function(n){var r=m(n);return{map:function(e){return function(t){return r(km(e))(t)}}}},Gm=function(n){return{Applicative0:function(){return ke(n)},Bind1:function(){return Or(n)}}},Or=function(n){var r=S(n.Bind1()),e=T(n.Applicative0());return{bind:function(t){return function(a){return r(t)(function(o){if(o instanceof s)return e(s.value);if(o instanceof l){var u=a(o.value0);return u}throw new Error("Failed pattern match at Control.Monad.Maybe.Trans (line 55, column 11 - line 57, column 42): "+[o.constructor.name])})}},Apply0:function(){return Hi(n)}}},Hi=function(n){var r=Jm(n.Bind1().Apply0().Functor0());return{apply:xe(Gm(n)),Functor0:function(){return r}}},ke=function(n){return{pure:function(){var r=T(n.Applicative0());return function(e){return Mt(r(l.create(e)))}}(),Apply0:function(){return Hi(n)}}};var le=function(n){var r=T(n.Applicative0());return function(e){return Mt(r(e))}};var Vm=Ir(ce);var Wi=function(n){var r=S(Or(n)),e=le(n),t=Vm(n);return function(a){return function(o){return function(u){return r(e(dr(u)(a)))(function(i){return r(t(o(i)))(function(f){return e(Ei(a)(k(f))(u))})})}}}};var _a=function(n){return bt(Ci(0)(Fr(n)))(n)};var zm=or(ar),jm=Pr(Dn)(tr),Qm=Rr(hn)(Dn),Xm=Ir(ce),Ym=V(Z);var Ui=function(n){var r=n.Applicative0(),e=n.Bind1().Apply0().Functor0(),t=Yt(e),a=zm(r),o=Mr(e),u=xn(o),i=m(e),f=Un(o),v=Mn(o),c=S(Or(n)),_=Xm(n),E=le(n),$=Wn(o),h=Wi(n),M=Bn(o),L=T(ke(n)),R=pr(o),tn=kn(o);return{position:k(T(r)({x:0,y:0})),translate:function(w){return function(B){return t(a(u(w))(B.layers))(function(ln){return{dragIndex:B.dragIndex,layers:ln}})}},containsPoint:function(w){return function(B){return i(jm)(a(f(w))(B.layers))}},draw:function(w){return function(B){return Qm(function(){var ln=Fn(w),mn=v(w);return function(_r){return ln(mn(_r))}}())(He(B.layers))}},dragStart:function(w){return function(B){return i(jn(B))(qr(c(_(a(f({x:w.offsetX,y:w.offsetY}))(B.layers)))(function(ln){return c(E(la(Ym)(ln)))(function(mn){return c(E(dr(B.layers)(mn)))(function(_r){return c(_($(_r)))(function(jr){return c(h(mn)(M({offsetX:w.offsetX-jr.x,offsetY:w.offsetY-jr.y}))(B.layers))(function(zt){return L({dragIndex:new l(mn),layers:zt})})})})})})))}},drag:function(w){return function(B){return i(jn(B))(qr(c(E(B.dragIndex))(function(ln){return c(E(dr(B.layers)(ln)))(function(mn){return c(_($(mn)))(function(_r){return c(h(ln)(R({translateX:w.translateX-_r.x,translateY:w.translateY-_r.y}))(B.layers))(function(jr){return L({dragIndex:B.dragIndex,layers:jr})})})})})))}},dragEnd:function(w){return i(jn({layers:w.layers,dragIndex:s.value}))(qr(c(E(w.dragIndex))(function(B){return c(h(B)(tn)(w.layers))(function(ln){return L({dragIndex:s.value,layers:ln})})})))}}},$i=function(n){return{layers:n,dragIndex:s.value}};var va=function(n){var r=T(n),e=An(n);return{position:function(t){return r({x:t.rect.x,y:t.rect.y})},translate:function(t){return function(a){return r({fillStyle:a.fillStyle,dragOffset:a.dragOffset,rect:{width:a.rect.width,height:a.rect.height,x:a.rect.x+t.translateX,y:a.rect.y+t.translateY}})}},containsPoint:function(t){return function(a){return r(a.rect.x<=t.x&&t.x<=a.rect.x+a.rect.width&&a.rect.y<=t.y&&t.y<=a.rect.y+a.rect.height)}},draw:function(t){return function(a){return function(){return hr(t)(a.fillStyle)(),Gu(t)(Po(t)(a.rect))()}}},dragStart:function(t){return function(a){return r({rect:a.rect,fillStyle:a.fillStyle,dragOffset:new l(t)})}},drag:function(t){return function(a){return e(va(n))(a.dragOffset)(t)(a)}},dragEnd:function(t){return r({rect:t.rect,fillStyle:t.fillStyle,dragOffset:s.value})}}},qi=function(n){return function(r){return{rect:n,fillStyle:r,dragOffset:s.value}}};var np=Kn(nr),ga=function(n){var r=n.Monad0(),e=r.Bind1(),t=S(e),a=En(n),o=np(e),u=T(r.Applicative0());return function(i){return function(f){return t(a(Ln(f)))(function(v){return t(i(v))(function(c){return o(a(fe(c)(f)))(function(){return u(c)})})})}}},Oi=function(n){var r=Sr(n.Monad0().Bind1().Apply0().Functor0()),e=ga(n);return function(t){return function(a){return r(void 0)(e(t)(a))}}};var ep=Zn(br),tp=function(n){return n};var Je=function(n){var r=n.Monad0().Bind1(),e=Zn(r),t=En(n),a=Sr(r.Apply0().Functor0()),o=ga(n);return function(u){var i=Wn(u),f=xn(u),v=Un(u),c=Bn(u),_=pr(u),E=kn(u),$=Mn(u);return{position:function(h){return e(i)(t(Ln(h)))},translate:function(h){return function(M){return a(M)(o(f(h))(M))}},containsPoint:function(h){return function(M){return e(v(h))(t(Ln(M)))}},dragStart:function(h){return function(M){return a(M)(o(c(h))(M))}},drag:function(h){return function(M){return a(M)(o(_(h))(M))}},dragEnd:function(h){return a(h)(o(E)(h))},draw:function(h){return function(M){return ep($(h))(Ln(M))}}}}};var Bi=function(n){var r=Oi(n);return function(e){return function(t){return r(e)(t)}}};var op=function(n){var r=En(n);return function(e){return function(t){return r(ea(e)(t))}}},ki=function(n){var r=Sr(n.Monad0().Bind1().Apply0().Functor0()),e=op(n);return function(t){return function(a){return r(void 0)(e(t)(a))}}},xt=function(n){var r=m(n.Monad0().Bind1().Apply0().Functor0()),e=En(n);return function(t){return r(tp)(e(xr(t)))}};var nn=function(n){return n};function Gi(n){return n.split(/\r\n|[\n\v\f\r\u0085\u2028\u2029]/)}function Vi(n){return n.split(/[\u000a-\u000d\u0085\u2028\u2029\u0009\u0020\u00a0\u1680\u2000-\u200a\u202f\u205f\u3000]+/)}var OC=typeof Array.from=="function",BC=typeof Symbol<"u"&&Symbol!=null&&typeof Symbol.iterator<"u"&&typeof String.prototype[Symbol.iterator]=="function",kC=typeof String.prototype.fromCodePoint=="function",JC=typeof String.prototype.codePointAt=="function";var nf=function(n){return Vi(n)};var St=function(n){return Gi(n)};var Nt=n=>r=>()=>n.measureText(r);var Rt=or(ar)(hn),Lp=Me(Dn),wp=m($n),of=m(F),Sp=Eo(ao)(Dn),rf=G(au),Np=Co(hn)(Dn),Rp=m(gn);var se=function(n){return function(r){return{position:r.position,maxWidth:r.maxWidth,fillStyle:r.fillStyle,fontName:r.fontName,fontSize:r.fontSize,fontStyle:r.fontStyle,fontWeight:r.fontWeight,align:r.align,baseline:r.baseline,lineHeight:r.lineHeight,letterSpacing:r.letterSpacing,dragOffset:r.dragOffset,context:r.context,text:n}}},af=function(n){return function(r){return{text:r.text,position:r.position,maxWidth:r.maxWidth,fillStyle:r.fillStyle,fontName:r.fontName,fontStyle:r.fontStyle,fontWeight:r.fontWeight,align:r.align,baseline:r.baseline,lineHeight:r.lineHeight,letterSpacing:r.letterSpacing,dragOffset:r.dragOffset,context:r.context,fontSize:n}}},ba=function(n){return function(r){return function(){var t=Nt(n)(r)();return t.width}}},Pp=function(n){return function(r){return function(e){var t=nf(e);return function(){var o=Rt(ba(n))(t)(),u=ba(n)(" ")(),i=function(c){return function(_){if(c.value1.value0.length===0)return new Q(c.value0,new Q([_.value0],_.value1));var E=c.value1.value1+u+_.value1>r;return E?new Q(qe(c.value0)(c.value1.value0),new Q([_.value0],_.value1)):new Q(c.value0,new Q(qe(c.value1.value0)(_.value0),c.value1.value1+u+_.value1))}},f=Lp(i)(new Q([],new Q([],0)))(bt(t)(o)),v=wp(ae(" "))(f.value0);return f.value1.value0.length===0?v:qe(v)(ae(" ")(f.value1.value0))}}}},ef=function(n){return function(r){return function(e){return of(ra)(Rt(Pp(n)(r))(St(e)))}}},Hp=function(n){return function(r){return function(){var t=Nt(n)(r)();return t.actualBoundingBoxAscent+t.actualBoundingBoxDescent}}};var tf=function(n){return function(r){return of(function(){var e=jn(0);return function(t){return e(Sp(t))}}())(Rt(Hp(n))(r))}},Pt=function(n){var r=n.Monad0().Applicative0(),e=T(r),t=En(n),a=An(r);return{position:function(o){return e(o.position)},translate:function(o){return function(u){return e({text:u.text,maxWidth:u.maxWidth,fillStyle:u.fillStyle,fontName:u.fontName,fontSize:u.fontSize,fontStyle:u.fontStyle,fontWeight:u.fontWeight,align:u.align,baseline:u.baseline,lineHeight:u.lineHeight,letterSpacing:u.letterSpacing,dragOffset:u.dragOffset,context:u.context,position:Er(o)(u.position)})}},containsPoint:function(o){return function(u){return t(Fn(u.context)(function(){hr(u.context)(u.fillStyle)(),pt(u.context)(u.fontStyle+(" "+(u.fontWeight+(" "+(rf(u.fontSize)+("px "+u.fontName))))))(),zo(u.context)(u.baseline)(),jo(u.context)(u.align)(),ht(u.context)(u.letterSpacing)();var f=function(){if(u.maxWidth instanceof l)return ef(u.context)(u.maxWidth.value0)(u.text)();if(u.maxWidth instanceof s)return St(u.text);throw new Error("Failed pattern match at Template.Layer.Text (line 66, column 14 - line 68, column 44): "+[u.maxWidth.constructor.name])}(),v=Rt(ba(u.context))(f)(),c=tf(u.context)(f)();return pn(Mi)(_a(v))(function(_){var E=function(){return u.baseline instanceof sr?u.position.y+c*u.lineHeight*nn(_.value0):u.baseline instanceof ie?u.position.y-c-nn((Fr(f)-_.value0|0)-1|0)*c*u.lineHeight:u.position.y+c*u.lineHeight*nn(_.value0)}();if(u.align instanceof Jo||u.align instanceof Cr)return u.position.x<=o.x&&o.x<=u.position.x+_.value1&&E<=o.y&&o.y<=E+c;if(u.align instanceof Go||u.align instanceof Pe)return u.position.x-_.value1<=o.x&&o.x<=u.position.x&&E<=o.y&&o.y<=E+c;if(u.align instanceof ko)return u.position.x-_.value1/2<=o.x&&o.x<=u.position.x+_.value1/2&&E<=o.y&&o.y<=E+c;throw new Error("Failed pattern match at Template.Layer.Text (line 79, column 7 - line 89, column 65): "+[u.align.constructor.name])})}))}},dragStart:function(o){return function(u){return e({text:u.text,position:u.position,maxWidth:u.maxWidth,fillStyle:u.fillStyle,fontName:u.fontName,fontSize:u.fontSize,fontStyle:u.fontStyle,fontWeight:u.fontWeight,align:u.align,baseline:u.baseline,lineHeight:u.lineHeight,letterSpacing:u.letterSpacing,context:u.context,dragOffset:new l(o)})}},drag:function(o){return function(u){return a(Pt(n))(u.dragOffset)(o)(u)}},dragEnd:function(o){return e({text:o.text,position:o.position,maxWidth:o.maxWidth,fillStyle:o.fillStyle,fontName:o.fontName,fontSize:o.fontSize,fontStyle:o.fontStyle,fontWeight:o.fontWeight,align:o.align,baseline:o.baseline,lineHeight:o.lineHeight,letterSpacing:o.letterSpacing,context:o.context,dragOffset:s.value})},draw:function(o){return function(u){return Fn(o)(function(){hr(o)(u.fillStyle)(),pt(o)(u.fontStyle+(" "+(u.fontWeight+(" "+(rf(u.fontSize)+("px "+u.fontName))))))(),zo(o)(u.baseline)(),jo(o)(u.align)(),ht(o)(u.letterSpacing)();var f=function(){if(u.maxWidth instanceof l)return ef(o)(u.maxWidth.value0)(u.text)();if(u.maxWidth instanceof s)return St(u.text);throw new Error("Failed pattern match at Template.Layer.Text (line 102, column 14 - line 104, column 44): "+[u.maxWidth.constructor.name])}(),v=tf(o)(f)();return Np(_a(f))(function(c){var _=function(){return u.baseline instanceof sr?u.position.y+nn(c.value0)*v*u.lineHeight:u.baseline instanceof ie?u.position.y-nn((Fr(f)-c.value0|0)-1|0)*v*u.lineHeight:u.position.y+nn(c.value0)*v*u.lineHeight}();return Ao(o)(c.value1)(u.position.x)(_)})()})}}}},ha=function(n){return function(r){return{text:r.text,position:r.position,fillStyle:r.fillStyle,fontName:r.fontName,fontSize:r.fontSize,fontStyle:r.fontStyle,fontWeight:r.fontWeight,align:r.align,baseline:r.baseline,lineHeight:r.lineHeight,letterSpacing:r.letterSpacing,dragOffset:r.dragOffset,context:r.context,maxWidth:Rp(n)(r.maxWidth)}}};var ff=function(n){return n};var cf=function(n){return n},Wp={mapLayerWrapper:function(n){return function(r){var e=m(r.Bind1().Apply0().Functor0());return function(t){return function(a){return e(ff)(t(a))}}}}},Ap=Zo(Wp);var Up={mapLayerWrapper:function(n){return function(r){var e=m(r.Bind1().Apply0().Functor0());return function(t){return function(a){return e(cf)(t(a))}}}}},$p=Zo(Up);var lf=function(n){return function(r){var e=Wn(r),t=Ap(r)(n),a=Un(r),o=Bn(r),u=pr(r),i=Mn(r);return{position:function(f){return e(f)},translate:function(){var f=xn(r);return function(v){return t(f(v))}}(),containsPoint:function(f){return function(v){return a(f)(v)}},dragStart:function(f){return t(o({offsetX:f.offsetX,offsetY:0}))},drag:function(f){return t(u({translateX:f.translateX,translateY:0}))},dragEnd:t(kn(r)),draw:function(f){return function(v){return i(f)(v)}}}}};var sf=function(n){var r=T(n.Applicative0());return function(e){var t=Wn(e),a=Un(e),o=Mn(e);return{position:function(u){return t(u)},translate:function(){var u=$p(e)(n),i=xn(e);return function(f){return u(i(f))}}(),containsPoint:function(u){return function(i){return a(u)(i)}},dragStart:k(r),drag:k(r),dragEnd:r,draw:function(u){return function(i){return o(u)(i)}}}}};var mf=ff;var Ge=cf;function Ht(n,r){var e={};for(var t in r)({}).hasOwnProperty.call(r,t)&&(e[t]=r[t]);for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e}var pf=function(){return function(){return function(n){return function(r){return Ht(n,r)}}}};var Br=function(n){return function(r){return function(){return r[n]}}},Jp=Br("URL"),Gp=Br("documentURI"),Vp=Br("origin"),zp=Br("compatMode"),jp=Br("characterSet"),Qp=Br("contentType");var Xp=Br("documentElement");function Wt(n){return function(r){return function(){return r.createElement(n)}}}function df(n,r,e){return n==null?r:e(n)}var N=function(n){return df(n,s.value,l.create)};function _f(n,r,e,t){if(typeof window<"u"){var a=window[e];if(a!=null&&t instanceof a)return r(t)}for(var o=t;o!=null;){var u=Object.getPrototypeOf(o),i=u.constructor.name;if(i===e)return r(t);if(i==="Object")return n;o=u}return n}var g=function(n){return function(r){return _f(s.value,l.create,n,r)}};var At=function(n){return function(r){return r[n]}},td=At("namespaceURI"),od=At("prefix"),ad=At("localName"),ud=At("tagName");function Ve(n){return function(r){return function(e){return function(){e.setAttribute(n,r)}}}}function Ca(n){return function(){var r=n.getBoundingClientRect();return{top:r.top,right:r.right,bottom:r.bottom,left:r.left,width:r.width,height:r.height,x:r.x,y:r.y}}}var Ut=function(n){return function(r){return function(){return r[n]}}},fd=Ut("children"),cd=Ut("firstElementChild"),ld=Ut("lastElementChild"),sd=Ut("childElementCount");var yf=p,Jn=p;var Xn=function(n){return function(r){return function(){return r[n]}}};var vd=Xn("baseURI"),gd=Xn("ownerDocument"),yd=Xn("parentNode"),Dd=Xn("parentElement");var Td=Xn("childNodes"),bd=Xn("firstChild"),hd=Xn("lastChild"),Cd=Xn("previousSibling"),Ed=Xn("nextSibling"),Md=Xn("nodeValue");var Fd=Xn("textContent");function Ea(n){return function(r){return function(){r.appendChild(n)}}}function Df(n){return function(r){return function(){return r.getElementById(n)}}}var Nd=m(F),kr=function(n){var r=Nd(N),e=Df(n);return function(t){return r(e(t))}};function wn(n){return function(){return function(r){return n(r)()}}}function Sn(n){return function(r){return function(e){return function(t){return function(){return t.addEventListener(n,r,e)}}}}}var Tf=p;function bf(n){return function(r){return r.item(n)}}var Od=m(gn),Bd=function(n){var r=bf(n);return function(e){return N(r(e))}},hf=function(n){var r=Ue(n);return function(e){return r(function(t){return Od(pn(Q.create)(t+1|0))(Bd(t)(e))})(0)}};function Ma(n){return function(){return URL.createObjectURL(n)}}var Fa=function(){return window};function Cf(n){return n.body}var Xd=m(F);var Jr=p;var Ef=p,xa=p;var Mf=function(n){return Xd(N)(function(){return Cf(n)})};function Ff(n,r,e){var t=Object.prototype.toString.call(e);return t.indexOf("[object HTML")===0&&t.indexOf("Element]")===t.length-8?r(e):n}function Ia(n){return function(){return n.click()}}function La(n){return function(){return n.offsetWidth}}function wa(n){return function(){return n.offsetHeight}}var xf=p;var If=p;var Sa=function(n){return Ff(s.value,l.create,n)};function Sf(n){return function(){return n.files}}function me(n){return function(){return n.value}}var I_=m(F);var $t=g("HTMLInputElement");var Na=function(){var n=I_(N);return function(r){return n(Sf(r))}}();function qt(n){return function(){return n.value}}var Rf=g("HTMLTextAreaElement");function Ra(n){return function(){return n.document}}function ze(n){return n.clientX}function je(n){return n.clientY}function Qe(n){return n.touches}var Ot=g("TouchEvent");function Pf(n,r){return r.item(n)}var Bt=function(n){return function(r){return N(Pf(n,r))}};function Xe(n){return n.clientX}function Ye(n){return n.clientY}var kt=g("MouseEvent");var Yn=T(hn),tv=Kn(nr),Ke=Je(Cn)(Mr(F)),ov=Mn(Ke),de=Wn(Ke),Hf=Bn(Ke),Gt=pr(Ke),Wf=kn(Ke),Ha=Or(Tn),pe=S(Ha),Pa=Zn(Ha),Jt=le(Tn),Gr=Ir(ce)(Tn),Af=tv(Ha),Uf=Zn(br),$f=T(ke(Tn)),av=xt(Cn),uv=pf()(),Vr=Bi(Cn),iv=hf(ca),_e=function(n){return function(r){return function(e){return function(){var a=Ca(If(r))(),o=La(r)(),u=wa(r)(),i=Le(n)(),f=we(n)();return{x:(e.x-a.left)*i/o,y:(e.y-a.top)*f/u}}}}},Gn=function(n){return function(){var e=ue(n.canvas)(),t=Ju(n.canvas)();return Ho(e)({x:0,y:0,width:t.width,height:t.height})(),Fn(e)(ov(e)(n.layer))()}},fv=function(n){return wn(function(r){var e=Ot(r);if(e instanceof s)return Yn(void 0);if(e instanceof l){var t=Bt(0)(Qe(e.value0));if(t instanceof s)return Gn(n);if(t instanceof l)return function(){var o=de(n.layer)(),u=_e(n.canvas)(n.canvasHtmlElement)({x:nn(ze(t.value0)),y:nn(je(t.value0))})(),i={offsetX:u.x-o.x,offsetY:u.y-o.y};return Hf(i)(n.layer)(),Gn(n)()};throw new Error("Failed pattern match at Template.Main (line 190, column 24 - line 200, column 24): "+[t.constructor.name])}throw new Error("Failed pattern match at Template.Main (line 188, column 63 - line 200, column 24): "+[e.constructor.name])})},cv=function(n){return wn(function(r){var e=Ot(r);if(e instanceof s)return Yn(void 0);if(e instanceof l){var t=Bt(0)(Qe(e.value0));if(t instanceof s)return Gn(n);if(t instanceof l)return function(){var o=de(n.layer)(),u=_e(n.canvas)(n.canvasHtmlElement)({x:nn(ze(t.value0)),y:nn(je(t.value0))})(),i={translateX:u.x-o.x,translateY:u.y-o.y};return Gt(i)(n.layer)(),Gn(n)()};throw new Error("Failed pattern match at Template.Main (line 218, column 24 - line 228, column 24): "+[t.constructor.name])}throw new Error("Failed pattern match at Template.Main (line 216, column 62 - line 228, column 24): "+[e.constructor.name])})},lv=function(n){return wn(function(r){var e=Ot(r);if(e instanceof s)return Yn(void 0);if(e instanceof l){var t=Bt(0)(Qe(e.value0));if(t instanceof s)return Gn(n);if(t instanceof l)return function(){var o=de(n.layer)(),u=_e(n.canvas)(n.canvasHtmlElement)({x:nn(ze(t.value0)),y:nn(je(t.value0))})(),i={translateX:u.x-o.x,translateY:u.y-o.y};return Gt(i)(n.layer)(),Wf(n.layer)(),Gn(n)()};throw new Error("Failed pattern match at Template.Main (line 247, column 24 - line 258, column 24): "+[t.constructor.name])}throw new Error("Failed pattern match at Template.Main (line 245, column 61 - line 258, column 24): "+[e.constructor.name])})},qf=function(n){return function(r){return qr(pe(Pa(Jt)(Gr(Xo(n))))(function(e){return Af(Gr(Qo(e)(r)))(function(){return pe(Gr(Uf(Ra)(Fa)))(function(t){return pe(Pa(Jt)(Gr(kr("canvas")(Jr(t)))))(function(a){return pe(Jt(Sa(a)))(function(o){return $f({canvas:e,canvasElement:a,canvasHtmlElement:o,document:t})})})})})}))}},Of=function(n){var r=In(n);return function(e){return function(t){return function(){var o=av(r(t))();return uv(e)({layer:o})}}}},sv=function(n){return wn(function(r){var e=kt(r);if(e instanceof s)return Yn(void 0);if(e instanceof l)return function(){var a=de(n.layer)(),o=_e(n.canvas)(n.canvasHtmlElement)({x:nn(Xe(e.value0)),y:nn(Ye(e.value0))})(),u={translateX:o.x-a.x,translateY:o.y-a.y};return Gt(u)(n.layer)(),Wf(n.layer)(),Gn(n)()};throw new Error("Failed pattern match at Template.Main (line 231, column 60 - line 242, column 22): "+[e.constructor.name])})},mv=function(n){return wn(function(r){var e=kt(r);if(e instanceof s)return Yn(void 0);if(e instanceof l)return function(){var a=de(n.layer)(),o=_e(n.canvas)(n.canvasHtmlElement)({x:nn(Xe(e.value0)),y:nn(Ye(e.value0))})(),u={translateX:o.x-a.x,translateY:o.y-a.y};return Gt(u)(n.layer)(),Gn(n)()};throw new Error("Failed pattern match at Template.Main (line 203, column 62 - line 213, column 22): "+[e.constructor.name])})},pv=function(n){return wn(function(r){var e=kt(r);if(e instanceof s)return Yn(void 0);if(e instanceof l)return function(){var a=de(n.layer)(),o=_e(n.canvas)(n.canvasHtmlElement)({x:nn(Xe(e.value0)),y:nn(Ye(e.value0))})(),u={offsetX:o.x-a.x,offsetY:o.y-a.y};return Hf(u)(n.layer)(),Gn(n)()};throw new Error("Failed pattern match at Template.Main (line 175, column 62 - line 185, column 22): "+[e.constructor.name])})},dv=function(n){return wn(function(r){return Gn(n)})},Wa=function(n){return function(r){return function(e){return function(t){return qr(function(){var a=Jr(t.document);return pe(Pa(Jt)(Gr(kr(n)(a))))(function(o){return pe(Gr(wn(function(u){return function(){var f=Wt("canvas")(xa(t.document))();Ve("id")("hidden-clip-canvas")(f)();var v=Mf(t.document)();if(v instanceof l){Ea(yf(f))(xf(v.value0))();var c=Xo("hidden-clip-canvas")();if(c instanceof l){Qo(c.value0)({width:e.width,height:e.height})();var _=ue(c.value0)(),E=t.canvas;Oo(_)(E)(e.x)(e.y)(e.width)(e.height)(0)(0)(e.width)(e.height)();var $=So(c.value0)(),h=Wt("a")(xa(t.document))();Ve("href")($)(h)(),Ve("download")(r)(h)();var M=Sa(h);if(M instanceof l)return Ia(M.value0)();throw new Error("Failed pattern match at Template.Main (line 170, column 9 - line 170, column 53): "+[M.constructor.name])}throw new Error("Failed pattern match at Template.Main (line 159, column 5 - line 159, column 64): "+[c.constructor.name])}throw new Error("Failed pattern match at Template.Main (line 156, column 5 - line 156, column 53): "+[v.constructor.name])}})))(function(u){return Af(Gr(Sn("click")(u)(!1)(Jn(o))))(function(){return $f(o)})})})}())}}}};var _v=function(n){return function(r){return function(e){return function(t){return function(){var o=kr(r)(Jr(n.document))();if(o instanceof l){var u=Rf(o.value0);if(u instanceof l){var i=qt(u.value0)();Vr(t(i))(e)();var f=wn(function(v){return function(){var _=qt(u.value0)();return Vr(t(_))(e)()}})();return Sn("input")(f)(!1)(Jn(o.value0))()}throw new Error("Failed pattern match at Template.Main (line 294, column 7 - line 294, column 55): "+[u.constructor.name])}throw new Error("Failed pattern match at Template.Main (line 293, column 3 - line 293, column 79): "+[o.constructor.name])}}}}},Vt=function(n){return function(r){return function(e){return function(t){return _v(n)(r)(e)(function(a){return function(o){return function(u){return Yn(o(u))}}(t(a))})}}}},Bf=function(n){return function(r){return function(e){return function(t){return function(){var o=kr(r)(Jr(n.document))();if(o instanceof l){var u=$t(o.value0);if(u instanceof l){var i=me(u.value0)();(function(){var v=Yo(i);if(v instanceof l)return Vr(t(v.value0))(e)();if(v instanceof s)return void 0;throw new Error("Failed pattern match at Template.Main (line 313, column 3 - line 315, column 25): "+[v.constructor.name])})();var f=wn(function(v){return function(){var _=me(u.value0)(),E=Yo(_);if(E instanceof l)return Vr(t(E.value0))(e)();if(E instanceof s)return void 0;throw new Error("Failed pattern match at Template.Main (line 319, column 5 - line 321, column 27): "+[E.constructor.name])}})();return Sn("input")(f)(!1)(Jn(o.value0))()}throw new Error("Failed pattern match at Template.Main (line 310, column 7 - line 310, column 52): "+[u.constructor.name])}throw new Error("Failed pattern match at Template.Main (line 309, column 3 - line 309, column 79): "+[o.constructor.name])}}}}},vv=function(n){return function(r){return function(e){return function(t){return Bf(n)(r)(e)(function(a){return function(o){return function(u){return Yn(o(u))}}(t(a))})}}}},Aa=function(n){return function(r){return function(e){return vv(n)(r)(e)(af)}}},kf=function(n){var r=Xu(n);return function(e){return function(t){return function(a){return function(){var u=xr(1)();return Bf(e)(t)(a)(function(i){return function(f){return function(){var c=Ln(u)();return fe(i)(u)(),r(i/c)(f)()}}})()}}}}},gv=function(n){return function(r){return function(e){return function(t){return function(){var o=kr(r)(Jr(n.document))();if(o instanceof l){var u=$t(o.value0);if(u instanceof l){var i=me(u.value0)();Vr(t(i))(e)();var f=wn(function(v){return function(){var _=me(u.value0)();return Vr(t(_))(e)()}})();return Sn("input")(f)(!1)(Jn(o.value0))()}throw new Error("Failed pattern match at Template.Main (line 278, column 7 - line 278, column 52): "+[u.constructor.name])}throw new Error("Failed pattern match at Template.Main (line 277, column 3 - line 277, column 79): "+[o.constructor.name])}}}}},Ua=function(n){return function(r){return function(e){return function(t){return gv(n)(r)(e)(function(a){return function(o){return function(u){return Yn(o(u))}}(t(a))})}}}},yv=function(n){return function(r){return function(e){return function(t){return function(){var o=kr(r)(Jr(n.document))();if(o instanceof l){var u=$t(o.value0);if(u instanceof l){var i=function(c){if(c instanceof s)return Yn(void 0);if(c instanceof l){var _=dr(iv(c.value0))(0);if(_ instanceof s)return Yn(void 0);if(_ instanceof l)return Vr(t(_.value0))(e);throw new Error("Failed pattern match at Template.Main (line 345, column 26 - line 347, column 56): "+[_.constructor.name])}throw new Error("Failed pattern match at Template.Main (line 343, column 28 - line 347, column 56): "+[c.constructor.name])},f=Na(u.value0)();i(f)();var v=wn(function(c){return Uf(i)(Na(u.value0))})();return Sn("change")(v)(!1)(Jn(o.value0))()}throw new Error("Failed pattern match at Template.Main (line 341, column 7 - line 341, column 52): "+[u.constructor.name])}throw new Error("Failed pattern match at Template.Main (line 340, column 3 - line 340, column 79): "+[o.constructor.name])}}}}};var Dv=function(n){return function(r){return function(e){return function(t){return yv(n)(r)(e)(function(a){return t(Tf(a))})}}}};var Jf=function(n){return function(r){return function(e){return function(t){return Dv(n)(r)(e)(function(a){return function(o){return function(){var i=Ma(a)();return t(i)(o)()}}})}}}},Gf=function(n){return function(){var e=pv(n)(),t=mv(n)(),a=sv(n)(),o=fv(n)(),u=cv(n)(),i=lv(n)(),f=dv(n)();return Sn("mousedown")(e)(!1)(Jn(n.canvasElement))(),Sn("mousemove")(t)(!1)(Jn(n.canvasElement))(),Sn("mouseup")(a)(!1)(Jn(n.canvasElement))(),Sn("touchstart")(o)(!1)(Jn(n.canvasElement))(),Sn("touchmove")(u)(!1)(Jn(n.canvasElement))(),Sn("touchend")(i)(!1)(Jn(n.canvasElement))(),Sn("input")(f)(!1)(Ef(n.document))()}};var bv=Kn(nr),hv=Pr(Dn)(tr),jf=or(ar),Qf=_n(F),Cv=jf(hn),Ev=Zn(br),ve=xt(Cn),Mv=Si(Cn),Fv=Ni(Cn),xv=kf(Li(Cn)),$a=pa(Cn),Xf=Je(Cn),Vf=In(Xf(Pt(Cn))),Yf=sf(Tn),Kf=Ct(Cn),qa=In(Yf(Kf)),Iv=In(sa(Tn)),Lv=In(Xf(Kf)),wv=In(Yf(va(hn))),Sv=Of(Ui(Tn));var Zf=function(n){var r=Ct(n),e=Wn(r),t=n.Monad0(),a=t.Bind1(),o=S(a),u=m(a.Apply0().Functor0()),i=Pi(n),f=xn(r),v=t.Applicative0(),c=T(v),_=Un(r),E=Mn(r),$=Bn(r),h=An(v),M=kn(r);return{position:function(L){return e(L.guillotine)},translate:function(L){return function(R){return o(u(function(tn){return function(w){return w+L.translateX}(function(w){return w.x}(tn))})(e(R.guillotine)))(function(tn){return o(i(R.guillotine))(function(w){var B=Ri(R.guillotine).scaleY,ln=function(){return w instanceof l&&w.value0.width!==0?wi({scaleX:(R.xMax-tn)/w.value0.width,scaleY:B})(R.guillotine):R.guillotine}();return o(f(L)(ln))(function(mn){return c({xMax:R.xMax,guillotine:mn})})})})}},containsPoint:function(L){return function(R){return _(L)(R.guillotine)}},draw:function(L){return function(R){return E(L)(R.guillotine)}},dragStart:function(L){return function(R){return o($(L)(R.guillotine))(function(tn){return c({xMax:R.xMax,guillotine:tn})})}},drag:function(L){return function(R){return h(Zf(n))(R.guillotine.dragOffset)(L)(R)}},dragEnd:function(L){return o(M(L.guillotine))(function(R){return c({xMax:L.xMax,guillotine:R})})}}},nc=function(n){var r=n.Monad0(),e=na(r),t=Wn(e),a=r.Bind1(),o=S(a),u=xn(e),i=Zf(n),f=xn(i),v=Je(n)(Pt(n)),c=xn(v),_=bv(a),E=ki(n),$=r.Applicative0(),h=T($),M=a.Apply0().Functor0(),L=m(M),R=jf($),tn=Mr(M),w=Un(tn),B=In(e),ln=In(i),mn=In(v),_r=Mn(tn),jr=Bn(e),zt=An($),ec=kn(e);return{position:function(rn){return t(rn.overlayBackground)},translate:function(rn){return function(P){return o(u(rn)(P.overlayBackground))(function(jt){return o(f(rn)(P.guillotine))(function(tc){return o(c(rn)(P.author))(function(oc){return o(c(rn)(P.title))(function(Oa){return _(E(ha(function(Qt){return Qt-rn.translateX}))(Oa))(function(){return _(E(ha(function(Qt){return Qt-rn.translateX}))(P.bodyText))(function(){return h({overlayBackground:jt,guillotine:tc,author:oc,bodyText:P.bodyText,title:Oa})})})})})})})}},containsPoint:function(rn){return function(P){return L(hv)(R(w(rn))([B(P.overlayBackground),ln(P.guillotine),mn(P.bodyText),mn(P.author),mn(P.title)]))}},draw:function(rn){return function(P){return Qf(Cv(_r(rn))([B(P.overlayBackground),ln(P.guillotine),mn(P.bodyText),mn(P.author),mn(P.title)]))}},dragStart:function(rn){return function(P){return o(jr(rn)(P.overlayBackground))(function(jt){return h({guillotine:P.guillotine,bodyText:P.bodyText,author:P.author,title:P.title,overlayBackground:jt})})}},drag:function(rn){return function(P){return zt(nc(n))(P.overlayBackground.dragOffset)(rn)(P)}},dragEnd:function(rn){return o(ec(rn.overlayBackground))(function(P){return h({guillotine:rn.guillotine,bodyText:rn.bodyText,author:rn.author,title:rn.title,overlayBackground:P})})}}},Nv=In(lf(Tn)(nc(Cn))),U=2,zf={scaleX:U,scaleY:U},Rv=function(n){var r=n.Monad0(),e=S(r.Bind1()),t=pa(n),a=T(r.Applicative0());return function(o){return function(u){return function(i){return function(f){return e(t(o)(u)(i)(Ur.value))(function(v){return a({guillotine:v,xMax:f})})}}}}},Pv=Rv(Cn),Hv=function(){return{width:1080,height:1080*5/4}}(),Ze=function(){return Pn(Zr()(gr({reflectSymbol:function(){return"height"}})()(gr({reflectSymbol:function(){return"width"}})()(Kr)(vr))(vr)))({width:2*U,height:U})(Hv)}(),zr=function(){return Ze.height}(),sn=function(){return Ze.width}(),rc=Qf(function(){var r=qf("canvas")(Ze)();if(r instanceof l){var e=ue(r.value0.canvas)(),t=Ev(ve)(Mv({x:0,y:0})({scaleX:1,scaleY:1})(Ur.value))();Jf(r.value0)("image")(t)(Fv)(),xv(r.value0)("image-size")(t)();var a=Pv("./img/guillotine2x.png")({x:sn/2+285*U,y:60*U})({scaleX:(sn-180*U-(sn/2+285*U))/1560,scaleY:1})(sn-180*U)(),o=$a("./img/guillotinewit2x.png")({x:60*U,y:60*U})({scaleX:1,scaleY:1})(Ur.value)(),u=$a("./img/jacobinlogo.svg")({x:sn-120*U,y:zr-200*U})(zf)(Ur.value)(),i=$a("./img/jacobinlogowit.svg")({x:sn/2-120*U,y:zr-200*U})(zf)(Ur.value)(),f=ve({text:"Broodtekst",lineHeight:.95,position:{x:sn-U*60,y:U*150},fillStyle:"#f00",fontName:"Oswald",fontStyle:"normal",fontWeight:"500",fontSize:180,align:Pe.value,baseline:sr.value,letterSpacing:"-3px",dragOffset:s.value,maxWidth:new l(sn/2-2*60*U),context:e})();Vt(r.value0)("bodytext")(f)(se)(),Aa(r.value0)("bodytext-size")(f)();var v={x:60*U,y:800*U},c=ve({text:"Titel",lineHeight:.9,position:v,maxWidth:new l(sn/2-2*60*U),fillStyle:"#fff",fontName:"Oswald",fontStyle:"normal",fontWeight:"700",fontSize:2*100,align:Cr.value,baseline:ie.value,letterSpacing:"-2px",dragOffset:s.value,context:e})();Vt(r.value0)("title")(c)(se)(),Aa(r.value0)("title-size")(c)();var _=ve({text:"AUTEUR",lineHeight:.95,position:v,fillStyle:"#fff",fontName:"Oswald",fontStyle:"normal",fontWeight:"500",fontSize:U*50,align:Cr.value,baseline:sr.value,letterSpacing:"-3px",dragOffset:s.value,maxWidth:s.value,context:e})();Ua(r.value0)("author")(_)(se)();var E=Fi([Vf(c),Vf(_)]),$=ve({text:"AUTEUR",lineHeight:.95,position:{x:sn/2+128*U,y:zr-200*U},fillStyle:"#f00",fontName:"Oswald",fontStyle:"normal",fontWeight:"400",fontSize:2*50,align:Cr.value,baseline:sr.value,letterSpacing:"-3px",dragOffset:s.value,maxWidth:s.value,context:e})();Ua(r.value0)("author")($)(function(ln){return se(lt(ln))})();var h=ve({text:"Titel",lineHeight:.9,position:{x:sn/2+128*U,y:zr-200*U+50*U},maxWidth:new l(sn/2-(128+2*60+20)*U),fillStyle:"#f00",fontName:"Oswald",fontStyle:"normal",fontWeight:"700",fontSize:2*50,align:Cr.value,baseline:sr.value,letterSpacing:"-2px",dragOffset:s.value,context:e})();Vt(r.value0)("title")(h)(se)();var M=Ku({x:sn/2+60*U,y:0})({width:sn,height:zr})(82.5)("#fff"),L={overlayBackground:M,guillotine:a,bodyText:f,author:$,title:h},R=$i([qa(Ge(i)),qa(Ge(u)),Iv(E),Nv(mf(L)),qa(Ge(o)),Lv(t),wv(Ge(qi({x:0,y:0,width:Ze.width,height:Ze.height})("#f00")))]),tn=Sv(r.value0)(R)();Gn(tn)(),Gf(tn)();var w=Wa("download-left")("jacobin-titel-links.png")({x:0,y:0,width:sn/2,height:zr})(tn)();if(w instanceof l){var B=Wa("download-right")("jacobin-titel-rechts.png")({x:sn/2,y:0,width:sn/2,height:zr})(tn)();if(B instanceof l)return void 0;throw new Error("Failed pattern match at Jacobin.TitleSlide (line 289, column 3 - line 289, column 169): "+[B.constructor.name])}throw new Error("Failed pattern match at Jacobin.TitleSlide (line 288, column 3 - line 288, column 153): "+[w.constructor.name])}throw new Error("Failed pattern match at Jacobin.TitleSlide (line 132, column 3 - line 132, column 72): "+[r.constructor.name])});rc();})();

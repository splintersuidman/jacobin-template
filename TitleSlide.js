/* Generated by Spago v0.93.44 */
(()=>{var Oi=function(t){return function(e){for(var n=t.length,r=e.length,u=new Array(n*r),a=0,o=0;o<n;o++)for(var l=t[o],i=0;i<r;i++)u[a++]=l(e[i]);return u}};var Qo={compose:function(t){return function(e){return function(n){return t(e(n))}}}};var J=function(t){return t.identity},Y={identity:function(t){return t},Semigroupoid0:function(){return Qo}};var Ut=!0;var tt=function(t){return function(e){return function(n){return t(n)(e)}}},Z=function(t){return function(e){return t}};var Bi=function(t){return function(e){for(var n=e.length,r=new Array(n),u=0;u<n;u++)r[u]=t(e[u]);return r}};var q=function(){function t(){}return t.value=new t,t}();var p=function(t){return t.map},we=function(t){var e=p(t);return function(n){return function(r){return e(r)(n)}}},xt=function(t){return p(t)(Z(void 0))};var Qe=function(t){var e=p(t);return function(n){return e(Z(n))}};var Lt={map:Bi};var qp=J(Y);var Zo={apply:Oi,Functor0:function(){return Lt}},st=function(t){return t.apply},ki=function(t){var e=st(t),n=p(t.Functor0());return function(r){return function(u){return e(n(Z)(r))(u)}}},be=function(t){var e=st(t),n=p(t.Functor0());return function(r){return function(u){return e(n(Z(qp))(r))(u)}}};var D=function(t){return t.pure};var jr=function(t){var e=st(t.Apply0()),n=D(t);return function(r){return function(u){return e(n(r))(u)}}};var Ji=typeof Array.prototype.flatMap=="function"?function(t){return function(e){return t.flatMap(e)}}:function(t){return function(e){for(var n=[],r=t.length,u=0;u<r;u++)for(var a=e(t[u]),o=a.length,l=0;l<o;l++)n.push(a[l]);return n}};var Ne=function(t){return t.discard};var ea={bind:Ji,Apply0:function(){return Zo}},C=function(t){return t.bind},se=function(t){return tt(C(t))};var Se={discard:function(t){return C(t)}};var Gi=function(t){return function(e){return function(n){for(var r=e,u=n.length,a=u-1;a>=0;a--)r=t(n[a])(r);return r}}},Vi=function(t){return function(e){return function(n){for(var r=e,u=n.length,a=0;a<u;a++)r=t(r)(n[a]);return r}}};var ji=function(t){return function(e){return t.length===0?e:e.length===0?t:t.concat(e)}};var Kt=function(t){return t.reflectSymbol};var pe=function(t){return function(e){return e[t]}},ue=function(t){return function(e){return function(n){var r={};for(var u in n)({}).hasOwnProperty.call(n,u)&&(r[u]=n[u]);return r[t]=e,r}}};var Ae={append:ji};var H=function(t){return t.append};var yt=function(t){return t.alt};var Yi="\uFFFF",Qi="\0",Xp=Number.POSITIVE_INFINITY,Yp=Number.NEGATIVE_INFINITY;var wu=function(t){return function(e){return function(n){return function(r){return function(u){return r<u?t:r===u?e:n}}}}};var Ki=wu,Zi=wu;var tc=wu;var bu=function(t){return function(e){return t===e}};var ec=bu,nc=bu,rc=bu;var oc={eq:nc},na={eq:ec},ra={eq:rc};var X=function(t){return t.eq};var O=function(){function t(){}return t.value=new t,t}(),W=function(){function t(){}return t.value=new t,t}(),et=function(){function t(){}return t.value=new t,t}();var lr={eq:function(t){return function(e){return t instanceof O&&e instanceof O||t instanceof W&&e instanceof W||t instanceof et&&e instanceof et}}};var ac=function(t){return function(e){return t-e|0}},uc=function(t){return function(e){return t-e}};var lc=function(t){return function(e){return t+e|0}},ic=function(t){return function(e){return t*e|0}},cc=function(t){return function(e){return t+e}},fc=function(t){return function(e){return t*e}};var sc=function(t){return t.zeroRecord},ve=function(t){return t.zero};var ir={addRecord:function(t){return function(e){return function(n){return{}}}},mulRecord:function(t){return function(e){return function(n){return{}}}},oneRecord:function(t){return function(e){return{}}},zeroRecord:function(t){return function(e){return{}}}};var We={add:cc,zero:0,mul:fc,one:1},oa={add:lc,zero:0,mul:ic,one:1},dc=function(t){return t.oneRecord},Ue=function(t){return t.one},pc=function(t){return t.mulRecord},Zt=function(t){return t.mul},vc=function(t){return t.addRecord},cr=function(){return function(t){return{add:vc(t)(q.value),mul:pc(t)(q.value),one:dc(t)(q.value)(q.value),zero:sc(t)(q.value)(q.value)}}},le=function(t){return t.add};var fn=function(t){var e=Kt(t);return function(){return function(n){var r=vc(n),u=pc(n),a=dc(n),o=sc(n);return function(l){var i=le(l),f=Zt(l),c=Ue(l),v=ve(l);return{addRecord:function(m){return function(h){return function(b){var L=r(q.value)(h)(b),A=e(q.value),z=ue(A),it=pe(A);return z(i(it(h))(it(b)))(L)}}},mulRecord:function(m){return function(h){return function(b){var L=u(q.value)(h)(b),A=e(q.value),z=ue(A),it=pe(A);return z(f(it(h))(it(b)))(L)}}},oneRecord:function(m){return function(h){var b=a(q.value)(q.value),L=e(q.value),A=ue(L);return A(c)(b)}},zeroRecord:function(m){return function(h){var b=o(q.value)(q.value),L=e(q.value),A=ue(L);return A(v)(b)}}}}}}};var nv=cr(),mc=function(t){return t.subRecord},fr=function(t){return t.sub};var Tu={subRecord:function(t){return function(e){return function(n){return{}}}},SemiringRecord0:function(){return ir}},aa=function(t){var e=Kt(t),n=fn(t)();return function(){return function(r){var u=mc(r),a=n(r.SemiringRecord0());return function(o){var l=fr(o),i=a(o.Semiring0());return{subRecord:function(f){return function(c){return function(v){var m=u(q.value)(c)(v),h=e(q.value),b=ue(h),L=pe(h);return b(l(L(c))(L(v)))(m)}}},SemiringRecord0:function(){return i}}}}}},Cu=function(){return function(t){var e=nv(t.SemiringRecord0());return{sub:mc(t)(q.value),Semiring0:function(){return e}}}};var ua={sub:uc,Semiring0:function(){return We}},_c={sub:ac,Semiring0:function(){return oa}};var Qr=function(){return{compare:Zi(O.value)(et.value)(W.value),Eq0:function(){return oc}}}(),ie=function(){return{compare:Ki(O.value)(et.value)(W.value),Eq0:function(){return na}}}(),la=function(){return{compare:tc(O.value)(et.value)(W.value),Eq0:function(){return ra}}}();var B=function(t){return t.compare};var Ke=function(t){return t.top};var Kr={top:Yi,bottom:Qi,Ord0:function(){return la}};var sn=function(t){return t.bottom};var Rc=function(t){var e=t.toString();return isNaN(e+".0")?e:e+".0"},Dc=function(t){var e=t.charCodeAt(0);if(e<32||e===127){switch(t){case"\x07":return"'\\a'";case"\b":return"'\\b'";case"\f":return"'\\f'";case`
`:return"'\\n'";case"\r":return"'\\r'";case"	":return"'\\t'";case"\v":return"'\\v'"}return"'\\"+e.toString(10)+"'"}return t==="'"||t==="\\"?"'\\"+t+"'":"'"+t+"'"};var yc=function(t){return function(e){for(var n=[],r=0,u=e.length;r<u;r++)n[r]=t(e[r]);return"["+n.join(",")+"]"}};var ia={show:Rc};var ca={show:Dc};var E=function(t){return t.show},Mu=function(t){return{show:yc(E(t))}};var dv=J(Y),d=function(){function t(){}return t.value=new t,t}(),s=function(){function t(e){this.value0=e}return t.create=function(e){return new t(e)},t}();var me=function(t){return function(e){return function(n){if(n instanceof d)return t;if(n instanceof s)return e(n.value0);throw new Error("Failed pattern match at Data.Maybe (line 237, column 1 - line 237, column 51): "+[t.constructor.name,e.constructor.name,n.constructor.name])}}},dn=me(!0)(Z(!1));var dt={map:function(t){return function(e){return e instanceof s?new s(t(e.value0)):d.value}}};var jt=function(t){return me(t)(dv)},He=function(){return function(t){if(t instanceof s)return t.value0;throw new Error("Failed pattern match at Data.Maybe (line 288, column 1 - line 288, column 46): "+[t.constructor.name])}};var Rt=function(){function t(e){this.value0=e}return t.create=function(e){return new t(e)},t}(),mt=function(){function t(e){this.value0=e}return t.create=function(e){return new t(e)},t}();var Ln=function(t){return t.defer};var bc=function(t){return function(e){return t&&e}},Tc=function(t){return function(e){return t||e}},Cc=function(t){return!t};var da=function(t){return t.not};var to=function(t){return t.ff};var pr=function(t){return t.disj},_e={ff:!1,tt:!0,implies:function(t){return function(e){return pr(_e)(da(_e)(t))(e)}},conj:bc,disj:Tc,not:Cc};var Ec=function(t){return Math.min(Math.abs(t),2147483647)},Mc=function(t){return function(e){return e===0?0:e>0?Math.floor(t/e):-Math.floor(t/-e)}},xc=function(t){return function(e){if(e===0)return 0;var n=Math.abs(e);return(t%n+n)%n}};var Lc={Ring0:function(){return _c}};var eo=function(t){return t.mod};var pa={degree:Ec,div:Mc,mod:xc,CommutativeRing0:function(){return Lc}};var _t=function(t){return t.mempty};var M=function(){function t(e,n){this.value0=e,this.value1=n}return t.create=function(e){return function(n){return new t(e,n)}},t}();var tn=function(t){return t.value1};var en=function(t){return t.value0};var ga=function(t){return t};var Mv=function(t){var e=pr(t);return{append:function(n){return function(r){return e(n)(r)}}}};var Wu=function(t){var e=Mv(t);return{mempty:to(t),Semigroup0:function(){return e}}};var _=function(t){return t};var Uu=function(){return _};var Ac=Uu();var In=function(){return Ac};var Hu=function(){return function(){return function(){return function(){return function(t){return Ac}}}}};var Sv=J(Y),Pv=X(lr);var Av=Hu()()()(),qt=function(t){return t.foldr};var Sn=function(t){var e=be(t.Apply0()),n=D(t);return function(r){var u=qt(r);return function(a){return u(function(o){return e(a(o))})(n(void 0))}}},ao=function(t){var e=Sn(t);return function(n){return tt(e(n))}};var gt=function(t){return t.foldl};var Uc=function(t){var e=gt(t);return function(n){var r=function(u){return function(a){if(u instanceof d)return new s(a);if(u instanceof s)return new s(function(){var o=Pv(n(u.value0)(a))(W.value);return o?u.value0:a}());throw new Error("Failed pattern match at Data.Foldable (line 441, column 3 - line 441, column 27): "+[u.constructor.name,a.constructor.name])}};return e(r)(d.value)}},uo=function(t){var e=B(t);return function(n){return Uc(n)(e)}};var qu=function(t){var e=gt(t);return function(n){return e(le(n))(ve(n))}};var Hc=function(t){var e=qt(t);return function(n){var r=H(n.Semigroup0()),u=_t(n);return function(a){return e(function(o){return function(l){return r(a(o))(l)}})(u)}}},pt={foldr:Gi,foldl:Vi,foldMap:function(t){return Hc(pt)(t)}};var $e=function(t){return t.foldMap};var Pn=function(t){var e=$e(t);return function(n){return Av(ga)(e(Wu(n)))}};var An=function(t){var e=Pn(t);return function(n){return e(n)(Sv)}};var Da=function(t){return t.toUpperCase()};var Wn=function(t){return function(e){return e.join(t)}};var hr=function(t){return t===""};var $c=function(){function t(u){return[u]}function e(u){return function(a){return[u,a]}}function n(u){return function(a){return function(o){return[u,a,o]}}}function r(u){return function(a){return u.concat(a)}}return function(u){return function(a){return function(o){return function(l){return function(i){function f(c,v){switch(v-c){case 0:return o([]);case 1:return a(t)(l(i[c]));case 2:return u(a(e)(l(i[c])))(l(i[c+1]));case 3:return u(u(a(n)(l(i[c])))(l(i[c+1])))(l(i[c+2]));default:var m=c+Math.floor((v-c)/4)*2;return u(a(r)(f(c,m)))(f(m,v))}}return f(0,i.length)}}}}}}();var Rr=function(t){return t};var ku={map:function(t){return function(e){return t(e)}}};var Bc={apply:function(t){return function(e){return t(e)}},Functor0:function(){return ku}},$v={bind:function(t){return function(e){return e(t)}},Apply0:function(){return Bc}},qv={pure:Rr,Apply0:function(){return Bc}},kc={Applicative0:function(){return qv},Bind1:function(){return $v}};var D1=J(Y),St=function(t){return t.traverse};var y1=function(t){var e=St(t);return function(n){return e(n)(D1)}},Xt={traverse:function(t){var e=t.Apply0();return $c(st(e))(p(e.Functor0()))(D(t))},sequence:function(t){return y1(Xt)(t)},Functor0:function(){return Lt},Foldable1:function(){return pt}};var Kc=function(t){return function(e){var n=St(e)(t);return function(r){return function(u){return n(u)(r)}}}};var Zc=function(t){return function(){return t}},tf=function(t){return function(e){return function(){return e(t())()}}};var nf=function(t){var e=C(t.Bind1()),n=D(t.Applicative0());return function(r){return function(u){return e(u)(function(a){return n(r(a))})}}},Hn=function(t){var e=C(t.Bind1()),n=D(t.Applicative0());return function(r){return function(u){return e(r)(function(a){return e(u)(function(o){return n(a(o))})})}}};var rf=function(t,e,n){var r=0,u;return function(a){if(r===2)return u;if(r===1)throw new ReferenceError(t+" was needed before it finished initializing (module "+e+", line "+a+")",e,a);return r=1,u=n(),r=2,u}},wt={Applicative0:function(){return Dt},Bind1:function(){return mn}},mn={bind:tf,Apply0:function(){return Xu(0)}},Dt={pure:Zc,Apply0:function(){return Xu(0)}},of=rf("functorEffect","Effect",function(){return{map:jr(Dt)}}),Xu=rf("applyEffect","Effect",function(){return{apply:Hn(wt),Functor0:function(){return of(0)}}}),P=of(20),af=Xu(23);var Bt={liftEffect:J(Y),Monad0:function(){return wt}},Pt=function(t){return t.liftEffect};function uf(t){return function(e){return function(n){return function(){var r=new Image;r.src=t,r.addEventListener("load",function(){n(r)()},!1),r.addEventListener("error",function(){e()},!1)}}}}function lf(t,e,n){return function(){var r=document.getElementById(t);return r&&r instanceof HTMLCanvasElement?e(r):n}}function Dr(t){return function(){return t.getContext("2d")}}function co(t){return function(){return t.width}}function fo(t){return function(){return t.height}}function Yu(t){return function(e){return function(){t.width=e}}}function Qu(t){return function(e){return function(){t.height=e}}}function Ku(t){return function(){return t.toDataURL()}}function Ce(t){return function(e){return function(){t.fillStyle=e}}}function cf(t){return function(e){return function(){t.globalCompositeOperation=e}}}function so(t){return function(){t.beginPath()}}function po(t){return function(){t.fill()}}function vo(t){return function(e){return function(n){return function(){t.lineTo(e,n)}}}}function Zu(t){return function(e){return function(n){return function(){t.moveTo(e,n)}}}}function tl(t){return function(){t.closePath()}}function el(t){return function(e){return function(){t.rect(e.x,e.y,e.width,e.height)}}}function nl(t){return function(e){return function(){t.clearRect(e.x,e.y,e.width,e.height)}}}function rl(t){return function(e){return function(){t.translate(e.translateX,e.translateY)}}}function ff(t){return function(e){return function(){t.textAlign=e}}}function sf(t){return function(e){return function(){t.textBaseline=e}}}function yr(t){return function(e){return function(){t.font=e}}}function mo(t){return function(e){return function(n){return function(r){return function(){t.fillText(e,n,r)}}}}}function ol(t){return function(){t.save()}}function al(t){return function(){t.restore()}}function ul(t){return function(e){return function(n){return function(r){return function(u){return function(a){return function(){t.drawImage(e,n,r,u,a)}}}}}}}function ll(t){return function(e){return function(n){return function(r){return function(u){return function(a){return function(o){return function(l){return function(i){return function(f){return function(){t.drawImage(e,n,r,u,a,o,l,i,f)}}}}}}}}}}}var I1=be(af),Ee=function(){function t(){}return t.value=new t,t}(),N1=function(){function t(){}return t.value=new t,t}(),S1=function(){function t(){}return t.value=new t,t}(),P1=function(){function t(){}return t.value=new t,t}(),A1=function(){function t(){}return t.value=new t,t}(),qe=function(){function t(){}return t.value=new t,t}(),ge=function(){function t(){}return t.value=new t,t}(),_n=function(){function t(){}return t.value=new t,t}(),Fr=function(){function t(){}return t.value=new t,t}(),wr=function(){function t(){}return t.value=new t,t}(),br=function(){function t(){}return t.value=new t,t}();var $n=function(){function t(){}return t.value=new t,t}(),W1=function(){function t(){}return t.value=new t,t}(),U1=function(){function t(){}return t.value=new t,t}(),H1=function(){function t(){}return t.value=new t,t}(),$1=function(){function t(){}return t.value=new t,t}(),q1=function(){function t(){}return t.value=new t,t}(),O1=function(){function t(){}return t.value=new t,t}(),B1=function(){function t(){}return t.value=new t,t}(),k1=function(){function t(){}return t.value=new t,t}(),z1=function(){function t(){}return t.value=new t,t}(),J1=function(){function t(){}return t.value=new t,t}(),G1=function(){function t(){}return t.value=new t,t}(),V1=function(){function t(){}return t.value=new t,t}(),j1=function(){function t(){}return t.value=new t,t}(),X1=function(){function t(){}return t.value=new t,t}(),Y1=function(){function t(){}return t.value=new t,t}(),Q1=function(){function t(){}return t.value=new t,t}(),K1=function(){function t(){}return t.value=new t,t}(),Z1=function(){function t(){}return t.value=new t,t}(),tm=function(){function t(){}return t.value=new t,t}(),em=function(){function t(){}return t.value=new t,t}(),nm=function(){function t(){}return t.value=new t,t}(),rm=function(){function t(){}return t.value=new t,t}(),om=function(){function t(){}return t.value=new t,t}(),am=function(){function t(){}return t.value=new t,t}(),um=function(){function t(){}return t.value=new t,t}(),bt=function(t){return function(e){return function(){ol(t)();var r=e();return al(t)(),r}}},cl=function(t){return function(e){return uf(t)(e(d.value))(function(n){return e(s.create(n))})}};var Tr=function(t){return function(e){var n=function(r){if(r instanceof Ee)return"top";if(r instanceof N1)return"hanging";if(r instanceof S1)return"middle";if(r instanceof P1)return"alphabetic";if(r instanceof A1)return"ideographic";if(r instanceof qe)return"bottom";throw new Error("Failed pattern match at Graphics.Canvas (line 577, column 5 - line 577, column 33): "+[r.constructor.name])};return sf(t)(n(e))}},Cr=function(t){return function(e){var n=function(r){if(r instanceof ge)return"left";if(r instanceof _n)return"right";if(r instanceof Fr)return"center";if(r instanceof wr)return"start";if(r instanceof br)return"end";throw new Error("Failed pattern match at Graphics.Canvas (line 531, column 5 - line 531, column 32): "+[r.constructor.name])};return ff(t)(n(e))}};var mf=function(t){return function(e){var n=function(r){if(r instanceof $n)return"source-over";if(r instanceof W1)return"source-in";if(r instanceof U1)return"source-out";if(r instanceof H1)return"source-atop";if(r instanceof $1)return"destination-over";if(r instanceof q1)return"destination-in";if(r instanceof O1)return"destination-out";if(r instanceof B1)return"destination-atop";if(r instanceof k1)return"lighter";if(r instanceof z1)return"copy";if(r instanceof J1)return"xor";if(r instanceof G1)return"multiply";if(r instanceof V1)return"screen";if(r instanceof j1)return"overlay";if(r instanceof X1)return"darken";if(r instanceof Y1)return"lighten";if(r instanceof Q1)return"color-dodge";if(r instanceof K1)return"color-burn";if(r instanceof Z1)return"hard-light";if(r instanceof tm)return"soft-light";if(r instanceof em)return"difference";if(r instanceof nm)return"exclusion";if(r instanceof rm)return"hue";if(r instanceof om)return"saturation";if(r instanceof am)return"color";if(r instanceof um)return"luminosity";throw new Error("Failed pattern match at Graphics.Canvas (line 326, column 5 - line 326, column 45): "+[r.constructor.name])};return cf(t)(n(e))}},fl=function(t){return function(e){return I1(Qu(t)(e.height))(Yu(t)(e.width))}},sl=function(t){return lf(t,s.create,d.value)},_f=function(t){return function(){var n=co(t)(),r=fo(t)();return{width:n,height:r}}},gf=function(t){return function(e){return function(){so(t)();var r=e();return po(t)(),r}}};var ba=isFinite;function hf(t,e,n,r){var u=parseFloat(t);return e(u)?n(u):r}var Er=Math.round;var Ta=Math.tan;var Rf=3.141592653589793;var Ca=function(t){return hf(t,ba,s.create,d.value)};var Ea=function(t){return function(e){return e(function(n){return t(n)})}},Be=function(t){return function(e){return{x:e.x+t.translateX,y:e.y+t.translateY}}};var Tt=function(t){return t.translate},Df=function(t){return function(e){return{width:e.width*t.scaleX,height:e.height*t.scaleY}}},dl=function(t){return t.scale},yf=function(t){var e=dl(t);return function(n){return e({scaleX:n,scaleY:n})}},Ct=function(t){return t.position},kt=function(t){return function(e){return function(n){return n(t)(e)}}},pm=function(t){var e=p(t);return function(n){return Ea(function(r){var u=e(kt(r)),a=n(r);return function(o){return u(a(o))}})}};var qn=function(t){return t.mapLayerWrapper},Et=function(t){return t.draw},Ff=function(t){var e=Tt(t);return function(n){return function(r){return function(u){var a={translateX:r.translateX-n.offsetX,translateY:r.translateY-n.offsetY};return e(a)(u)}}}},Yt=function(t){var e=D(t);return function(n){var r=Ff(n);return function(u){return function(a){return function(o){if(u instanceof d)return e(o);if(u instanceof s)return r(u.value0)(a)(o);throw new Error("Failed pattern match at Template.Layer (line 61, column 1 - line 61, column 115): "+[u.constructor.name,a.constructor.name,o.constructor.name])}}}}},zt=function(t){return t.dragStart},Jt=function(t){return t.dragEnd},ce=function(t){return t.drag},$t=function(t){return t.containsPoint},gn=function(t){var e=pm(t);return{position:Ea(function(n){return Ct(n)}),translate:function(n){return e(function(r){return Tt(r)(n)})},containsPoint:function(n){return Ea(function(r){return $t(r)(n)})},draw:function(n){return Ea(function(r){return Et(r)(n)})},dragStart:function(n){return e(function(r){return zt(r)(n)})},drag:function(n){return e(function(r){return ce(r)(n)})},dragEnd:e(function(n){return Jt(n)})}};var bf=function(t){return function(e){return function(n){return function(r){return{position:t,dimensions:e,angle:n,fillStyle:r,dragOffset:d.value}}}}},wf=function(t){return t*Rf/180},pl=function(t){var e=t.Applicative0(),n=D(e),r=Yt(e);return{position:function(u){return n(u.position)},translate:function(u){return function(a){return n({dimensions:a.dimensions,angle:a.angle,fillStyle:a.fillStyle,dragOffset:a.dragOffset,position:Be(u)(a.position)})}},containsPoint:function(u){return function(a){var o=(a.dimensions.height-u.y)/Ta(wf(a.angle));return n(a.position.x+o<=u.x&&u.x<=a.position.x+a.dimensions.width&&a.position.y<=u.y&&u.y<=a.position.y+a.dimensions.height)}},draw:function(u){return function(a){return bt(u)(function(){return Ce(u)(a.fillStyle)(),so(u)(),Zu(u)(a.position.x)(a.position.y+a.dimensions.height)(),vo(u)(a.position.x+a.dimensions.width)(a.position.y+a.dimensions.height)(),vo(u)(a.position.x+a.dimensions.width)(a.position.y)(),vo(u)(a.position.x+a.dimensions.height/Ta(wf(a.angle)))(a.position.y)(),tl(u)(),po(u)()})}},dragStart:function(u){return function(a){return n({position:a.position,dimensions:a.dimensions,angle:a.angle,fillStyle:a.fillStyle,dragOffset:new s(u)})}},drag:function(u){return function(a){return r(pl(t))(a.dragOffset)(u)(a)}},dragEnd:function(u){return n({position:u.position,dimensions:u.dimensions,angle:u.angle,fillStyle:u.fillStyle,dragOffset:d.value})}}};var Tf=function(t,e){for(var n=t>e?-1:1,r=new Array(n*(e-t)+1),u=t,a=0;u!==e;)r[a++]=u,u+=n;return r[a]=u,r},mm=function(t,e){if(t<1)return[];var n=new Array(t);return n.fill(e)},_m=function(t,e){for(var n=[],r=0,u=0;u<t;u++)n[r++]=e;return n},gm=typeof Array.prototype.fill=="function"?mm:_m,Cf=function(){function t(u,a){this.head=u,this.tail=a}var e={};function n(u){return function(a){return new t(u,a)}}function r(u){for(var a=[],o=0,l=u;l!==e;)a[o++]=l.head,l=l.tail;return a}return function(u,a){return r(u(n)(e)(a))}}(),Mt=function(t){return t.length};var Ef=function(t,e,n,r){return r<0||r>=n.length?e:t(n[r])};var Mf=function(t,e,n,r){for(var u=0,a=r.length;u<a;u++)if(n(r[u]))return t(u);return e};var xf=function(t,e,n,r,u){if(n<0||n>=u.length)return e;var a=u.slice();return a[n]=r,t(a)},hn=function(t){return t.slice().reverse()},Rn=function(t){if(t.length<=1e4)return Array.prototype.concat.apply([],t);for(var e=[],n=0,r=t.length;n<r;n++)for(var u=t[n],a=0,o=u.length;a<o;a++)e.push(u[a]);return e};var Lf=function(t,e,n){for(var r=n.length,u=e,a=new Array(r),o=0;o<r;o++)u=t(u)(n[o]),a[o]=u;return a};var If=function(t,e,n){return n.slice(t,e)},Nf=function(t,e,n){for(var r=e.length<n.length?e.length:n.length,u=new Array(r),a=0;a<r;a++)u[a]=t(e[a])(n[a]);return u},Sf=function(t,e){for(var n=e.length,r=0;r<n;r++)if(t(e[r]))return!0;return!1},Pf=function(t,e){for(var n=e.length,r=0;r<n;r++)if(!t(e[r]))return!1;return!0};var Af=function(t){return function(){return{value:t}}};var te=function(t){return function(){return t.value}},Wf=function(t){return function(e){return function(){var n=t(e.value);return e.value=n.state,n.value}}},xr=function(t){return function(e){return function(){e.value=t}}};var Dm=xt(P),Dn=Af,ym=Wf,vl=function(t){return ym(function(e){var n=t(e);return{state:n,value:n}})},ml=function(t){return function(e){return Dm(vl(t)(e))}};var ee=function(){function t(e){this.value0=e}return t.create=function(e){return new t(e)},t}(),ne=function(){function t(e){this.value0=e}return t.create=function(e){return new t(e)},t}(),rn=function(t){return t.tailRecM};var bm=function(t){var e=function(n){var r=!1,u;function a(o){if(o instanceof ee){n=t(o.value0);return}if(o instanceof ne)return r=!0,o.value0;throw new Error("Failed pattern match at Control.Monad.Rec.Class (line 103, column 3 - line 103, column 25): "+[o.constructor.name])}for(;!r;)u=a(n);return u};return function(n){return e(t(n))}};var Uf={tailRecM:function(t){var e=function(r){return r},n=bm(function(r){return e(t(r))});return function(r){return Rr(n(r))}},Monad0:function(){return kc}};function xm(t){return t}var Of=xm;function Lm(t){return t.slice()}var Bf=Lm;var kf=function(t,e){return e.push(t)};var xa=function(e){return function(n){return function(){return e(n)}}},_l=function(e){return function(n){return function(r){return function(){return e(n,r)}}}};var zf=xa(Of);var Um=xa(Bf),Jf=function(t){return function(e){return function(){var r=Um(e)();return t(r)(),zf(r)()}}};var gl=_l(kf);var go=function(t){return function(e,n,r,u,a){return t(e)(n)(r)(u)(a)}};var yn=function(t){return function(e){return function(n){return t(e,n)}}},ho=function(t){return function(e){return function(n){return function(r){return t(e,n,r)}}}},La=function(t){return function(e){return function(n){return function(r){return function(u){return t(e,n,r,u)}}}}},hl=function(t){return function(e){return function(n){return function(r){return function(u){return function(a){return t(e,n,r,u,a)}}}}}};var jf=function(t){return function(e){return function(n){return function(r){return function(u){return function(a){for(var o=[],l=a;;){var i=u(l);if(t(i))return o;var f=e(i);o.push(n(f)),l=r(f)}}}}}}};var Xf=function(t){return function(e){return function(n){return function(r){return function(u){return function(a){for(var o=[],l=a;;){var i=u(l);o.push(n(i));var f=r(i);if(t(f))return o;l=e(f)}}}}}}};var Ym=He();var Rl={unfoldr1:Xf(dn)(Ym)(en)(tn)};var Zm=He(),on=function(t){return t.unfoldr};var yl={unfoldr:jf(dn)(Zm)(en)(tn),Unfoldable10:function(){return Rl}};var t_=H(Ae);var ts=ho(Nf);var ze=function(){return ts(M.create)}();var es=function(){return hl(xf)(s.create)(d.value)}();var At=function(t){return function(e){return Jf(gl(e))(t)()}},Fl=ho(If),yo=function(t){return function(e){return t<=0?{before:[],after:e}:{before:Fl(0)(t)(e),after:Fl(t)(Mt(e))(e)}}};var bl=function(t){return[t]};var Ir=ho(Lf);var Tl=yn(Tf);var Je=function(){return La(Ef)(s.create)(d.value)}();var Cl=function(t){return function(e){return function(n){var r=function(u){return es(t)(e(u))(n)};return me(d.value)(r)(Je(n)(t))}}};var El=function(t){return yn(Cf)(qt(t))};var Fo=function(){return La(Mf)(s.create)(d.value)}();var Ml=function(t){var e=X(t);return function(n){return Fo(function(r){return e(r)(n)})}},xl=function(t){var e=Ml(t);return function(n){return function(r){return dn(e(n)(r))}}};var Bn=function(t){return function(e){return t_([t])(e)}};var ns=tt(C(ea));var wo=yn(Sf);var Pa=yn(Pf);var e_=An(pt)(_e),n_=St(Xt),r_=fr(Cu()(aa({reflectSymbol:function(){return"x"}})()(aa({reflectSymbol:function(){return"y"}})()(Tu)(ua))(ua))),o_=Sn(Dt)(pt);var Ll=function(t){var e=t.Applicative0(),n=D(e),r=t.Bind1().Apply0().Functor0(),u=p(r),a=n_(e),o=gn(r),l=$t(o),i=Et(o),f=Yt(e);return{position:function(c){return n(c.position)},translate:function(c){return function(v){return n({layers:v.layers,dragOffset:v.dragOffset,position:Be(c)(v.position)})}},containsPoint:function(c){return function(v){return u(e_)(a(l(r_(c)(v.position)))(v.layers))}},draw:function(c){return function(v){return bt(c)(function(){return rl(c)({translateX:v.position.x,translateY:v.position.y})(),o_(function(){var h=bt(c),b=i(c);return function(L){return h(b(L))}}())(hn(v.layers))()})}},dragStart:function(c){return function(v){return n({layers:v.layers,position:v.position,dragOffset:new s(c)})}},drag:function(c){return function(v){return f(Ll(t))(v.dragOffset)(c)(v)}},dragEnd:function(c){return n({layers:c.layers,position:c.position,dragOffset:d.value})}}},rs=function(t){return{layers:t,position:{x:0,y:0},dragOffset:d.value}};var bo=t=>t.width,To=t=>t.height;var kn=t=>e=>()=>t.letterSpacing=e;var os=function(t){return function(e){return function(n){return function(r){return ul(t)(e)(n.x)(n.y)(r.width)(r.height)}}}};var Il=function(t){return{width:bo(t),height:To(t)}};var l_=Zt(cr()(fn({reflectSymbol:function(){return"scaleX"}})()(fn({reflectSymbol:function(){return"scaleY"}})()(ir)(We))(We))),i_=Ne(Se),c_=p(dt);var as=function(t){var e=D(t.Monad0().Applicative0());return{scale:function(n){return function(r){return e({image:r.image,position:r.position,composite:r.composite,dragOffset:r.dragOffset,scale:l_(n)(r.scale)})}}}},Aa=function(t){var e=t.Monad0(),n=e.Applicative0(),r=D(n),u=C(e.Bind1()),a=Pt(t),o=Yt(n);return{position:function(l){return r(l.position)},translate:function(l){return function(i){return r({image:i.image,scale:i.scale,composite:i.composite,dragOffset:i.dragOffset,position:Be(l)(i.position)})}},containsPoint:function(l){return function(i){return u(a(te(i.image)))(function(f){if(f instanceof d)return r(!1);if(f instanceof s)return r(i.position.x<=l.x&&l.x<=i.position.x+bo(f.value0)*i.scale.scaleX&&i.position.y<=l.y&&l.y<=i.position.y+To(f.value0)*i.scale.scaleY);throw new Error("Failed pattern match at Template.Layer.Image (line 74, column 5 - line 80, column 90): "+[f.constructor.name])})}},dragStart:function(l){return function(i){return r({image:i.image,position:i.position,scale:i.scale,composite:i.composite,dragOffset:new s(l)})}},drag:function(l){return function(i){return o(Aa(t))(i.dragOffset)(l)(i)}},dragEnd:function(l){return r({image:l.image,position:l.position,scale:l.scale,composite:l.composite,dragOffset:d.value})},draw:function(l){return function(i){return function(){var c=te(i.image)();if(c instanceof d)return void 0;if(c instanceof s)return bt(l)(function(){return mf(l)(i.composite)(),os(l)(c.value0)(i.position)(Df(i.scale)(Il(c.value0)))()})();throw new Error("Failed pattern match at Template.Layer.Image (line 88, column 5 - line 94, column 54): "+[c.constructor.name])}}}}},us=function(t){return function(e){return{image:e.image,position:e.position,composite:e.composite,dragOffset:e.dragOffset,scale:t}}},Sl=function(t){var e=Pt(t);return function(n){return function(r){return function(u){return function(a){return e(function(){var l=Dn(d.value)();return cl(n)(function(){var i=tt(ml)(l);return function(f){return i(Z(f))}}())(),{image:l,position:r,scale:u,composite:a,dragOffset:d.value}})}}}}},ls=function(t){var e=Pt(t);return function(n){return function(r){return function(u){return e(function(){var o=Dn(d.value)();return{image:o,position:n,scale:r,composite:u,dragOffset:d.value}})}}}},is=function(t){var e=t.Monad0(),n=i_(e.Bind1()),r=Pt(t),u=D(e.Applicative0());return function(a){return function(o){return n(r(cl(a)(function(){var l=tt(ml)(o.image);return function(i){return l(Z(i))}}())))(function(){return u(o)})}}},cs=function(t){return t.scale},fs=function(t){var e=t.Monad0(),n=C(e.Bind1()),r=Pt(t),u=D(e.Applicative0());return function(a){return n(r(te(a.image)))(function(o){return u(c_(Il)(o))})}};var zn=function(t){return t.throwError};var Me=function(t){return t.lift};var g_=p(dt);var Ua=function(t){return t},Jn=function(t){return t};var Sr={lift:function(t){var e=nf(t)(s.create);return function(n){return Ua(e(n))}}};var h_=function(t){var e=p(t);return{map:function(n){return function(r){return e(g_(n))(r)}}}},R_=function(t){return{Applicative0:function(){return Eo(t)},Bind1:function(){return Gn(t)}}},Gn=function(t){var e=C(t.Bind1()),n=D(t.Applicative0());return{bind:function(r){return function(u){return e(r)(function(a){if(a instanceof d)return n(d.value);if(a instanceof s){var o=u(a.value0);return o}throw new Error("Failed pattern match at Control.Monad.Maybe.Trans (line 55, column 11 - line 57, column 42): "+[a.constructor.name])})}},Apply0:function(){return gs(t)}}},gs=function(t){var e=h_(t.Bind1().Apply0().Functor0());return{apply:Hn(R_(t)),Functor0:function(){return e}}},Eo=function(t){return{pure:function(){var e=D(t.Applicative0());return function(n){return Ua(e(s.create(n)))}}(),Apply0:function(){return gs(t)}}};var Pr=function(t){var e=D(t.Applicative0());return function(n){return Ua(e(n))}};var D_=Me(Sr);var hs=function(t){var e=C(Gn(t)),n=Pr(t),r=D_(t);return function(u){return function(a){return function(o){return e(n(Je(o)(u)))(function(l){return e(r(a(l)))(function(i){return n(Cl(u)(Z(i))(o))})})}}}};var Hl=function(t){return ze(Tl(0)(Mt(t)))(t)};var y_=St(Xt),F_=An(pt)(_e),w_=Sn(Dt)(pt),b_=Me(Sr),T_=J(Y);var Ds=function(t){var e=t.Applicative0(),n=t.Bind1().Apply0().Functor0(),r=we(n),u=y_(e),a=gn(n),o=Tt(a),l=p(n),i=$t(a),f=Et(a),c=C(Gn(t)),v=b_(t),m=Pr(t),h=Ct(a),b=hs(t),L=zt(a),A=D(Eo(t)),z=ce(a),it=Jt(a);return{position:Z(D(e)({x:0,y:0})),translate:function(k){return function(K){return r(u(o(k))(K.layers))(function(ht){return{dragIndex:K.dragIndex,layers:ht}})}},containsPoint:function(k){return function(K){return l(F_)(u(i(k))(K.layers))}},draw:function(k){return function(K){return w_(function(){var ht=bt(k),Fe=f(k);return function(Ye){return ht(Fe(Ye))}}())(hn(K.layers))}},dragStart:function(k){return function(K){return l(jt(K))(Jn(c(v(u(i({x:k.offsetX,y:k.offsetY}))(K.layers)))(function(ht){return c(m(Fo(T_)(ht)))(function(Fe){return c(m(Je(K.layers)(Fe)))(function(Ye){return c(v(h(Ye)))(function(xn){return c(b(Fe)(L({offsetX:k.offsetX-xn.x,offsetY:k.offsetY-xn.y}))(K.layers))(function(ur){return A({dragIndex:new s(Fe),layers:ur})})})})})})))}},drag:function(k){return function(K){return l(jt(K))(Jn(c(m(K.dragIndex))(function(ht){return c(m(Je(K.layers)(ht)))(function(Fe){return c(v(h(Fe)))(function(Ye){return c(b(ht)(z({translateX:k.translateX-Ye.x,translateY:k.translateY-Ye.y}))(K.layers))(function(xn){return A({dragIndex:K.dragIndex,layers:xn})})})})})))}},dragEnd:function(k){return l(jt({layers:k.layers,dragIndex:d.value}))(Jn(c(m(k.dragIndex))(function(K){return c(b(K)(it)(k.layers))(function(ht){return A({dragIndex:d.value,layers:ht})})})))}}},ys=function(t){return{layers:t,dragIndex:d.value}};var $l=function(t){var e=D(t),n=Yt(t);return{position:function(r){return e({x:r.rect.x,y:r.rect.y})},translate:function(r){return function(u){return e({fillStyle:u.fillStyle,dragOffset:u.dragOffset,rect:{width:u.rect.width,height:u.rect.height,x:u.rect.x+r.translateX,y:u.rect.y+r.translateY}})}},containsPoint:function(r){return function(u){return e(u.rect.x<=r.x&&r.x<=u.rect.x+u.rect.width&&u.rect.y<=r.y&&r.y<=u.rect.y+u.rect.height)}},draw:function(r){return function(u){return function(){return Ce(r)(u.fillStyle)(),gf(r)(el(r)(u.rect))()}}},dragStart:function(r){return function(u){return e({rect:u.rect,fillStyle:u.fillStyle,dragOffset:new s(r)})}},drag:function(r){return function(u){return n($l(t))(u.dragOffset)(r)(u)}},dragEnd:function(r){return e({rect:r.rect,fillStyle:r.fillStyle,dragOffset:d.value})}}},Fs=function(t){return function(e){return{rect:t,fillStyle:e,dragOffset:d.value}}};var M_=Ne(Se),ql=function(t){var e=t.Monad0(),n=e.Bind1(),r=C(n),u=Pt(t),a=M_(n),o=D(e.Applicative0());return function(l){return function(i){return r(u(te(i)))(function(f){return r(l(f))(function(c){return a(u(xr(c)(i)))(function(){return o(c)})})})}}},ws=function(t){var e=Qe(t.Monad0().Bind1().Apply0().Functor0()),n=ql(t);return function(r){return function(u){return e(void 0)(n(r)(u))}}};var L_=se(mn),I_=function(t){return t};var Mo=function(t){var e=t.Monad0().Bind1(),n=se(e),r=Pt(t),u=Qe(e.Apply0().Functor0()),a=ql(t);return function(o){var l=Ct(o),i=Tt(o),f=$t(o),c=zt(o),v=ce(o),m=Jt(o),h=Et(o);return{position:function(b){return n(l)(r(te(b)))},translate:function(b){return function(L){return u(L)(a(i(b))(L))}},containsPoint:function(b){return function(L){return n(f(b))(r(te(L)))}},dragStart:function(b){return function(L){return u(L)(a(c(b))(L))}},drag:function(b){return function(L){return u(L)(a(v(b))(L))}},dragEnd:function(b){return u(b)(a(m)(b))},draw:function(b){return function(L){return L_(h(b))(te(L))}}}}};var bs=function(t){var e=ws(t);return function(n){return function(r){return e(n)(r)}}};var N_=function(t){var e=Pt(t);return function(n){return function(r){return e(vl(n)(r))}}},Ts=function(t){var e=Qe(t.Monad0().Bind1().Apply0().Functor0()),n=N_(t);return function(r){return function(u){return e(void 0)(n(r)(u))}}},$a=function(t){var e=p(t.Monad0().Bind1().Apply0().Functor0()),n=Pt(t);return function(r){return e(I_)(n(Dn(r)))}};var S_={mapLayerWrapper:function(t){return function(e){var n=we(e.Bind1().Apply0().Functor0());return function(r){return function(u){return n(r(u.layer))(function(a){return{offsetY:u.offsetY,gridSizeY:u.gridSizeY,layer:a}})}}}}},P_=qn(S_),A_={mapLayerWrapper:function(t){return function(e){var n=we(e.Bind1().Apply0().Functor0());return function(r){return function(u){return n(r(u.layer))(function(a){return{offsetX:u.offsetX,gridSizeX:u.gridSizeX,layer:a}})}}}}},W_=qn(A_);var Es=function(t){return function(e){return function(n){return{layer:n,gridSizeY:e,offsetY:t}}}},Ms=function(t){return function(e){return function(n){return{layer:n,gridSizeX:e,offsetX:t}}}};var U_=function(t){var e=Ct(t),n=ce(t);return function(r){var u=C(r.Bind1());return function(a){return function(o){return function(l){return function(i){return u(e(i))(function(f){var c=a+o*Er((f.y+l.translateY-a)/o);return n({translateX:l.translateX,translateY:c-f.y})(i)})}}}}}},xs=function(t){var e=Ct(t),n=P_(t),r=Tt(t),u=$t(t),a=zt(t),o=U_(t),l=Jt(t),i=Et(t);return function(f){var c=n(f),v=o(f);return{position:function(m){return e(m.layer)},translate:function(m){return c(r(m))},containsPoint:function(m){return function(h){return u(m)(h.layer)}},dragStart:function(m){return c(a(m))},drag:function(m){return function(h){return c(v(h.offsetY)(h.gridSizeY)(m))(h)}},dragEnd:c(l),draw:function(m){return function(h){return i(m)(h.layer)}}}}},H_=function(t){var e=Ct(t),n=ce(t);return function(r){var u=C(r.Bind1());return function(a){return function(o){return function(l){return function(i){return u(e(i))(function(f){var c=a+o*Er((f.x+l.translateX-a)/o);return n({translateX:c-f.x,translateY:l.translateY})(i)})}}}}}},Ls=function(t){var e=Ct(t),n=W_(t),r=Tt(t),u=$t(t),a=zt(t),o=H_(t),l=Jt(t),i=Et(t);return function(f){var c=n(f),v=o(f);return{position:function(m){return e(m.layer)},translate:function(m){return c(r(m))},containsPoint:function(m){return function(h){return u(m)(h.layer)}},dragStart:function(m){return c(a(m))},drag:function(m){return function(h){return c(v(h.offsetX)(h.gridSizeX)(m))(h)}},dragEnd:c(l),draw:function(m){return function(h){return i(m)(h.layer)}}}}};var lt=function(t){return t};function Is(t){return t.split(/\r\n|[\n\v\f\r\u0085\u2028\u2029]/)}function Ns(t){return t.split(/[\u000a-\u000d\u0085\u2028\u2029\u0009\u0020\u00a0\u1680\u2000-\u200a\u202f\u205f\u3000]+/)}var Y3=typeof Array.from=="function",z_=typeof Symbol<"u"&&Symbol!=null&&typeof Symbol.iterator<"u"&&typeof String.prototype[Symbol.iterator]=="function",Q3=typeof String.prototype.fromCodePoint=="function",J_=typeof String.prototype.codePointAt=="function",Ss=function(t){return J_?function(e){return e.codePointAt(0)}:t},Ps=function(t){return function(e){return function(n){return function(r){return function(u){return function(a){var o=a.length;if(u<0||u>=o)return n;if(z_)for(var l=a[Symbol.iterator](),i=u;;--i){var f=l.next();if(f.done)return n;if(i===0)return e(r(f.value))}return t(u)(a)}}}}}};function wn(t){return t.charCodeAt(0)}function As(t){return String.fromCharCode(t)}var Hs=sn(Kr),$s=Ke(Kr);var un=function(t){return t.toEnum};var bn=function(t){return t.fromEnum};var Vn=function(t){return function(e){return function(n){return t(e(n)+1|0)}}},jn=function(t){return function(e){return function(n){return t(e(n)-1|0)}}};var Ol=function(t){return t>=wn(Hs)&&t<=wn($s)?new s(As(t)):d.value},K_={succ:Vn(Ol)(wn),pred:jn(Ol)(wn),Ord0:function(){return la}};var Lo=function(){return{cardinality:wn($s)-wn(Hs)|0,toEnum:Ol,fromEnum:wn,Bounded0:function(){return Kr},Enum1:function(){return K_}}}();var Bl=function(t){return t.join("")};var Tn=function(t){return t.length};var Xn=function(t){return function(e){return e.substring(t)}};var Cn=function(t){return function(e){if(t>=0&&t<e.length)return e.charAt(t);throw new Error("Data.String.Unsafe.charAt: Invalid index.")}};var ag=function(t,e,n){var r=0,u;return function(a){if(r===2)return u;if(r===1)throw new ReferenceError(t+" was needed before it finished initializing (module "+e+", line "+a+")",e,a);return r=1,u=n(),r=2,u}},Io=bn(Lo);var ug=B(ie);var Bs=function(t){return function(e){return(((t-55296|0)*1024|0)+(e-56320|0)|0)+65536|0}};var ks=function(t){return 56320<=t&&t<=57343},zs=function(t){return 55296<=t&&t<=56319},qa=function(t){var e=Tn(t);if(e===0)return d.value;if(e===1)return new s({head:Io(Cn(0)(t)),tail:""});var n=Io(Cn(1)(t)),r=Io(Cn(0)(t)),u=zs(r)&&ks(n);return u?new s({head:Bs(r)(n),tail:Xn(2)(t)}):new s({head:r,tail:Xn(1)(t)})};var lg=function(t){var e=Io(Cn(0)(t)),n=zs(e)&&Tn(t)>1;if(n){var r=Io(Cn(1)(t)),u=ks(r);return u?Bs(e)(r):e}return e},Os=Ss(lg);var zl={eq:function(t){return function(e){return t===e}}},Jl={compare:function(t){return function(e){return ug(t)(e)}},Eq0:function(){return zl}};var ig=function(t){return function(e){var n=t,r=!1,u;function a(o,l){var i=qa(l);if(i instanceof s){var f=o===0;if(f)return r=!0,new s(i.value0.head);n=o-1|0,e=i.value0.tail;return}return r=!0,d.value}for(;!r;)u=a(n,e);return u}},Js=function(t){return function(e){return t<0?d.value:t===0&&e===""?d.value:t===0?new s(Os(e)):Ps(ig)(s.create)(d.value)(Os)(t)(e)}},cg={bottom:0,top:1114111,Ord0:function(){return Jl}},Yn=function(){return{cardinality:1114112,fromEnum:function(t){return t},toEnum:function(t){if(t>=0&&t<=1114111)return new s(t);if(Ut)return d.value;throw new Error("Failed pattern match at Data.String.CodePoints (line 63, column 1 - line 68, column 26): "+[t.constructor.name])},Bounded0:function(){return cg},Enum1:function(){return fg(0)}}}(),fg=ag("enumCodePoint","Data.String.CodePoints",function(){return{succ:Vn(un(Yn))(bn(Yn)),pred:jn(un(Yn))(bn(Yn)),Ord0:function(){return Jl}}});var Ba=function(t){return Ns(t)};var Wr=function(t){return Is(t)};var ka=t=>e=>()=>t.measureText(e);var za=St(Xt)(Dt),Fg=gt(pt),wg=p(Lt),Qs=p(P),bg=uo(Qr)(pt),js=E(ia),Tg=ao(Dt)(pt);var Xl=function(t){return function(e){return{position:e.position,maxWidth:e.maxWidth,fillStyle:e.fillStyle,fontName:e.fontName,fontSize:e.fontSize,fontStyle:e.fontStyle,fontWeight:e.fontWeight,align:e.align,baseline:e.baseline,lineHeight:e.lineHeight,letterSpacing:e.letterSpacing,dragOffset:e.dragOffset,context:e.context,text:t}}};var No=function(t){return function(e){return function(){var r=ka(t)(e)();return r.width}}},Cg=function(t){return function(e){return function(n){var r=Ba(n);return function(){var a=za(No(t))(r)(),o=No(t)(" ")(),l=function(c){return function(v){if(c.value1.value0.length===0)return new M(c.value0,new M([v.value0],v.value1));var m=c.value1.value1+o+v.value1>e;return m?new M(At(c.value0)(c.value1.value0),new M([v.value0],v.value1)):new M(c.value0,new M(At(c.value1.value0)(v.value0),c.value1.value1+o+v.value1))}},i=Fg(l)(new M([],new M([],0)))(ze(r)(a)),f=wg(Wn(" "))(i.value0);return i.value1.value0.length===0?f:At(f)(Wn(" ")(i.value1.value0))}}}},Xs=function(t){return function(e){return function(n){return Qs(Rn)(za(Cg(t)(e))(Wr(n)))}}},Yl=function(t){return function(e){return function(){var r=ka(t)(e)();return r.actualBoundingBoxAscent+r.actualBoundingBoxDescent}}};var Ys=function(t){return function(e){return Qs(function(){var n=jt(0);return function(r){return n(bg(r))}}())(za(Yl(t))(e))}},Ja=function(t){var e=t.Monad0().Applicative0(),n=D(e),r=Pt(t),u=Yt(e);return{position:function(a){return n(a.position)},translate:function(a){return function(o){return n({text:o.text,maxWidth:o.maxWidth,fillStyle:o.fillStyle,fontName:o.fontName,fontSize:o.fontSize,fontStyle:o.fontStyle,fontWeight:o.fontWeight,align:o.align,baseline:o.baseline,lineHeight:o.lineHeight,letterSpacing:o.letterSpacing,dragOffset:o.dragOffset,context:o.context,position:Be(a)(o.position)})}},containsPoint:function(a){return function(o){return r(bt(o.context)(function(){Ce(o.context)(o.fillStyle)(),yr(o.context)(o.fontStyle+(" "+(o.fontWeight+(" "+(js(o.fontSize)+("px "+o.fontName))))))(),Tr(o.context)(o.baseline)(),Cr(o.context)(o.align)(),kn(o.context)(o.letterSpacing)();var i=function(){if(o.maxWidth instanceof s)return Xs(o.context)(o.maxWidth.value0)(o.text)();if(o.maxWidth instanceof d)return Wr(o.text);throw new Error("Failed pattern match at Template.Layer.Text (line 70, column 14 - line 72, column 44): "+[o.maxWidth.constructor.name])}(),f=za(No(o.context))(i)(),c=Ys(o.context)(i)();return tt(wo)(Hl(f))(function(v){var m=function(){return o.baseline instanceof Ee?o.position.y+c*o.lineHeight*lt(v.value0):o.baseline instanceof qe?o.position.y-c-lt((Mt(i)-v.value0|0)-1|0)*c*o.lineHeight:o.position.y+c*o.lineHeight*lt(v.value0)}();if(o.align instanceof wr||o.align instanceof ge)return o.position.x<=a.x&&a.x<=o.position.x+v.value1&&m<=a.y&&a.y<=m+c;if(o.align instanceof br||o.align instanceof _n)return o.position.x-v.value1<=a.x&&a.x<=o.position.x&&m<=a.y&&a.y<=m+c;if(o.align instanceof Fr)return o.position.x-v.value1/2<=a.x&&a.x<=o.position.x+v.value1/2&&m<=a.y&&a.y<=m+c;throw new Error("Failed pattern match at Template.Layer.Text (line 84, column 7 - line 99, column 41): "+[o.align.constructor.name])})}))}},dragStart:function(a){return function(o){return n({text:o.text,position:o.position,maxWidth:o.maxWidth,fillStyle:o.fillStyle,fontName:o.fontName,fontSize:o.fontSize,fontStyle:o.fontStyle,fontWeight:o.fontWeight,align:o.align,baseline:o.baseline,lineHeight:o.lineHeight,letterSpacing:o.letterSpacing,context:o.context,dragOffset:new s(a)})}},drag:function(a){return function(o){return u(Ja(t))(o.dragOffset)(a)(o)}},dragEnd:function(a){return n({text:a.text,position:a.position,maxWidth:a.maxWidth,fillStyle:a.fillStyle,fontName:a.fontName,fontSize:a.fontSize,fontStyle:a.fontStyle,fontWeight:a.fontWeight,align:a.align,baseline:a.baseline,lineHeight:a.lineHeight,letterSpacing:a.letterSpacing,context:a.context,dragOffset:d.value})},draw:function(a){return function(o){return bt(a)(function(){Ce(a)(o.fillStyle)(),yr(a)(o.fontStyle+(" "+(o.fontWeight+(" "+(js(o.fontSize)+("px "+o.fontName))))))(),Tr(a)(o.baseline)(),Cr(a)(o.align)(),kn(a)(o.letterSpacing)();var i=function(){if(o.maxWidth instanceof s)return Xs(a)(o.maxWidth.value0)(o.text)();if(o.maxWidth instanceof d)return Wr(o.text);throw new Error("Failed pattern match at Template.Layer.Text (line 112, column 14 - line 114, column 44): "+[o.maxWidth.constructor.name])}(),f=Ys(a)(i)();return Tg(Hl(i))(function(c){var v=function(){return o.baseline instanceof Ee?o.position.y+lt(c.value0)*f*o.lineHeight:o.baseline instanceof qe?o.position.y-lt((Mt(i)-c.value0|0)-1|0)*f*o.lineHeight:o.position.y+lt(c.value0)*f*o.lineHeight}();return mo(a)(c.value1)(o.position.x)(v)})()})}}}};var Ks=function(t){return t};var Wg=Ks;var Kl=function(t){return t};var rd=function(t){if(Mt(t)>0)return new s(Wg(t));if(Ut)return d.value;throw new Error("Failed pattern match at Data.Array.NonEmpty (line 161, column 1 - line 161, column 58): "+[t.constructor.name])};var Hr=function(t){var e=null;return function(){return t===void 0||(e=t(),t=void 0),e}},Ao=function(t){return t()};var zg=function(t,e,n){var r=0,u;return function(a){if(r===2)return u;if(r===1)throw new ReferenceError(t+" was needed before it finished initializing (module "+e+", line "+a+")",e,a);return r=1,u=n(),r=2,u}};var Jg=In();var ln=function(){function t(e,n,r){this.value0=e,this.value1=n,this.value2=r}return t.create=function(e){return function(n){return function(r){return new t(e,n,r)}}},t}(),cn=function(){function t(e,n){this.value0=e,this.value1=n}return t.create=function(e){return function(n){return new t(e,n)}},t}();var od=function(){function t(e){this.value0=e}return t.create=function(e){return new t(e)},t}(),ad=function(){function t(e){this.value0=e}return t.create=function(e){return new t(e)},t}(),ei=function(){function t(e,n){this.value0=e,this.value1=n}return t.create=function(e){return function(n){return new t(e,n)}},t}();var ud={defer:function(t){var e=Hr(t);return function(n,r,u,a,o){var l=Ao(e);return l(n,r,u,a,o)}}};var Qn={map:function(t){return function(e){return function(n,r,u,a,o){return r(function(l){return e(n,r,u,a,function(i,f){return r(function(c){return o(i,t(f))})})})}}}};var En={alt:function(t){return function(e){return function(n,r,u,a,o){return r(function(l){return t(new ln(n.value0,n.value1,!1),r,u,function(i,f){return r(function(c){return i.value2?a(i,f):e(n,r,u,a,o)})},o)})}}},Functor0:function(){return Qn}},Gg=function(t){return function(e,n,r,u,a){var o=t(e);return a(o.value1,o.value0)}};var Vg=function(t){var e=t.Monad0(),n=p(e.Bind1().Apply0().Functor0()),r=D(e.Applicative0()),u=rn(t);return function(a){return function(o){var l=function(i){var f=!1,c;function v(m){var h=m(void 0);if(h instanceof od){i=h.value0;return}if(h instanceof ad)return f=!0,n(ee.create)(h.value0);if(h instanceof ei)return f=!0,r(new ne(new M(h.value1,h.value0)));throw new Error("Failed pattern match at Parsing (line 160, column 13 - line 166, column 32): "+[h.constructor.name])}for(;!f;)c=v(i);return c};return u(l)(function(i){return o(a,od.create,ad.create,function(f,c){return new ei(f,new Rt(c))},function(f,c){return new ei(f,new mt(c))})})}}},ld=Gg(function(t){return new M(t.value1,t)});var jg={index:0,line:1,column:1},Xg=function(t){var e=p(t.Monad0().Bind1().Apply0().Functor0()),n=Vg(t);return function(r){return function(u){var a=new ln(r,jg,!1);return e(en)(n(a)(u))}}},Yg=Xg(Uf),id=function(t){var e=Yg(t);return function(n){return Jg(e(n))}};var Va=function(t){return function(e){return t.value2&&!e.value2?new ln(e.value0,e.value1,!0):e}},Mn={apply:function(t){return function(e){return function(n,r,u,a,o){return r(function(l){return t(n,r,u,a,function(i,f){return r(function(c){var v=Va(n)(i);return e(v,r,u,a,function(m,h){return r(function(b){return o(Va(v)(m),f(h))})})})})})}}},Functor0:function(){return Qn}};var $r={pure:function(t){return function(e,n,r,u,a){return a(e,t)}},Apply0:function(){return Mn}};var Kn={bind:function(t){return function(e){return function(n,r,u,a,o){return r(function(l){return t(n,r,u,a,function(i,f){return r(function(c){var v=e(f);return v(Va(n)(i),r,u,a,o)})})})}}},Apply0:function(){return Mn}},Qg=se(Kn);var cd={Applicative0:function(){return $r},Bind1:function(){return Kn}};var ri={throwError:function(t){return function(e,n,r,u,a){return u(e,t)}},Monad0:function(){return cd}},Kg=zn(ri),Zg=function(t){return function(e){return Kg(new cn(t,e))}},qr=function(t){return Qg(Zg(t))(ld)};var ja={tailRecM:function(t){return function(e){return function(n,r,u,a,o){var l=zg("loop","Parsing",function(){return function(f,c,v){var m=t(c);return m(f,r,u,a,function(h,b){var L=Va(f)(h);if(b instanceof ee){var A=v===0;return A?r(function(z){return l(288)(L,b.value0,30)}):l(290)(L,b.value0,v-1|0)}if(b instanceof ne)return o(L,b.value0);throw new Error("Failed pattern match at Parsing (line 284, column 19 - line 292, column 46): "+[b.constructor.name])})}}),i=l(279);return i(n,e,30)}}},Monad0:function(){return cd}};var Ge=function(){function t(){}return t.value=new t,t}(),Ve=function(){function t(e,n){this.value0=e,this.value1=n}return t.create=function(e){return function(n){return new t(e,n)}},t}();var Or={foldr:function(t){return function(e){var n=function(){var u=function(a){return function(o){var l=a,i=!1,f;function c(v,m){if(m instanceof Ge)return i=!0,v;if(m instanceof Ve){l=new Ve(m.value0,v),o=m.value1;return}throw new Error("Failed pattern match at Data.List.Types (line 107, column 7 - line 107, column 23): "+[v.constructor.name,m.constructor.name])}for(;!i;)f=c(l,o);return f}};return u(Ge.value)}(),r=gt(Or)(tt(t))(e);return function(u){return r(n(u))}}},foldl:function(t){var e=function(n){return function(r){var u=n,a=!1,o;function l(i,f){if(f instanceof Ge)return a=!0,i;if(f instanceof Ve){u=t(i)(f.value0),r=f.value1;return}throw new Error("Failed pattern match at Data.List.Types (line 111, column 12 - line 113, column 30): "+[f.constructor.name])}for(;!a;)o=l(u,r);return o}};return e},foldMap:function(t){var e=H(t.Semigroup0()),n=_t(t);return function(r){return gt(Or)(function(u){var a=e(u);return function(o){return a(r(o))}})(n)}}};var _d=yt(En),xh=Ln(ud);var Lh=be(Mn);var Ih=ki(Mn);var gd=function(t){return function(e){return _d(t)(xh(function(n){return qr("Expected "+e(void 0))}))}},oi=function(t){return function(e){return _d(t)(qr("Expected "+e))}};var Br=function(t){return function(e,n,r,u,a){return t(e,n,r,function(o,l){return u(new ln(o.value0,o.value1,e.value2),l)},a)}};var Ho=function(t){return function(e){return function(n){return Ih(Lh(t)(n))(e)}}};var ui=C(Kn),Nh=rn(ja),Sh=yt(En),Xa=D($r),Ph=El(Or);var Ah=function(t){return ui(tt(Nh)(Ge.value)(function(e){return Sh(ui(t)(function(n){return Xa(new ee(new Ve(n,e)))}))(Xa(new ne(e)))}))(function(e){return Xa(hn(Ph(e)))})},li=function(t){return ui(Ah(t))(function(e){var n=rd(e);if(n instanceof d)return qr("Expected at least 1");if(n instanceof s)return Xa(n.value0);throw new Error("Failed pattern match at Parsing.Combinators.Array (line 55, column 3 - line 57, column 25): "+[n.constructor.name])})};var ii=bn(Yn),Uh=eo(pa),Hh=He(),$h=un(Lo);var qh=E(ca);var ci=function(t){return function(e){return function(n){var r=ii(e);if(r===10)return{index:t.index+1|0,line:t.line+1|0,column:1};if(r===13){var u=Js(0)(n);return u instanceof s&&ii(u.value0)===10?{index:t.index+1|0,line:t.line,column:t.column}:{index:t.index+1|0,line:t.line+1|0,column:1}}return r===9?{index:t.index+1|0,line:t.line,column:(t.column+8|0)-Uh(t.column-1|0)(8)|0}:{index:t.index+1|0,line:t.line,column:t.column+1|0}}}},Oh=function(t){return function(e){return function(n){var r=t,u=e,a=!1,o;function l(i,f,c){var v=qa(f);if(v instanceof d)return a=!0,i;if(v instanceof s){var m=function(){if(hr(v.value0.tail))return ci(i)(v.value0.head)(c);if(Ut)return ci(i)(v.value0.head)(v.value0.tail);throw new Error("Failed pattern match at Parsing.String (line 165, column 7 - line 167, column 52): ")}();r=m,u=v.value0.tail,n=c;return}throw new Error("Failed pattern match at Parsing.String (line 161, column 36 - line 168, column 38): "+[v.constructor.name])}for(;!a;)o=l(r,u,n);return o}}};var fi=function(t){return go(function(e){return function(n){return function(r){return function(u){return function(a){var o=qa(e.value0);if(o instanceof d)return u(e,new cn("Unexpected EOF",e.value1));if(o instanceof s){var l=ii(o.value0.head),i=l<0||l>65535;if(i)return u(e,new cn("Expected Char",e.value1));var f=Hh($h(l)),c=t(f);return c?a(new ln(o.value0.tail,ci(e.value1)(o.value0.head)(o.value0.tail),!0),f):u(e,new cn("Predicate unsatisfied",e.value1))}throw new Error("Failed pattern match at Parsing.String (line 114, column 7 - line 129, column 75): "+[o.constructor.name])}}}}})};var si=go(function(t){return function(e){return function(n){return function(r){return function(u){var a=hr(t.value0);return a?u(new ln(t.value0,t.value1,!0),void 0):r(t,new cn("Expected EOF",t.value1))}}}}}),Rd=function(t){return go(function(e){return function(n){return function(r){return function(u){return function(a){var o=t(e.value0);if(o instanceof Rt)return u(e,new cn(o.value0,e.value1));if(o instanceof mt)return a(new ln(o.value0.remainder,Oh(e.value1)(o.value0.consumed)(o.value0.remainder),!hr(o.value0.consumed)),o.value0.value);throw new Error("Failed pattern match at Parsing.String (line 286, column 7 - line 290, column 121): "+[o.constructor.name])}}}}})};var di=Rd(function(t){return new mt({value:t,consumed:t,remainder:""})});var fe=function(t){return oi(fi(function(e){return e===t}))(qh(t))};var jh=E(Mu(ca));var Xh=xl(ra);var Fd=function(t){return gd(fi(tt(Xh)(t)))(function(e){return"none of "+jh(t)})};function Ya(t,e){var n={};for(var r in e)({}).hasOwnProperty.call(e,r)&&(n[r]=e[r]);for(var u in t)({}).hasOwnProperty.call(t,u)&&(n[u]=t[u]);return n}var Qa=function(){return function(){return function(t){return function(e){return Ya(t,e)}}}};var Zh=E(ia),Ka=H(Ae),$o=we(Lt),xd=gt(pt),mi=p(P),t0=uo(Qr)(pt),Zn=St(Xt)(Dt),Za=qu(pt)(We),je=p(Lt),e0=D(Dt),n0=p(dt),Re=p(Qn),Xe=yt(En),nu=be(Mn),r0=Qa()(),o0=Kc(Dt)(Xt),a0=J(Y),pi=ao(Dt)(pt),Ld=Qe(Qn);var ru=function(){function t(){}return t.value=new t,t}(),Id=function(){function t(){}return t.value=new t,t}(),ou=function(){function t(){}return t.value=new t,t}(),Nd=function(){function t(){}return t.value=new t,t}();var Sd=function(t){return t.text},u0=function(t){return function(e){return function(n){return{line:At(e.line)(n),width:e.width+t+n.width}}}},_i=function(t){return function(e){return function(n){var r=function(){if(n.weight instanceof ru)return e.weight.normal;if(n.weight instanceof Id)return e.weight.bold;throw new Error("Failed pattern match at Template.Layer.Text.Markup (line 295, column 14 - line 297, column 37): "+[n.weight.constructor.name])}(),u=function(){if(n.style instanceof ou)return e.style.normal;if(n.style instanceof Nd)return e.style.italic;throw new Error("Failed pattern match at Template.Layer.Text.Markup (line 292, column 13 - line 294, column 39): "+[n.style.constructor.name])}();return yr(t)(u+(" "+(r+(" "+(Zh(e.size)+("px "+e.name))))))}}},Pd=function(t){return function(e){return{text:e.text,position:e.position,maxWidth:e.maxWidth,fillStyle:e.fillStyle,align:e.align,baseline:e.baseline,lineHeight:e.lineHeight,emptyLineHeight:e.emptyLineHeight,letterSpacing:e.letterSpacing,dragOffset:e.dragOffset,context:e.context,font:{name:e.font.name,style:e.font.style,weight:e.font.weight,size:t}}}},l0=function(t){return hr(Sd(t.fragment))},i0=function(t){return Pa(l0)(t.word)},c0=function(t){return Pa(i0)(t.line)};var Ad=function(t){return function(e){var n=function(u){return function(a){var o=yo(1)(t(a.text));if(o.before.length===1&&o.before[0]===""&&o.after.length===0)return{splits:u.splits,split:u.split};if(o.before.length===1&&o.after.length===0)return{splits:u.splits,split:At(u.split)({style:a.style,weight:a.weight,text:o.before[0]})};if(o.before.length===1&&o.before[0]===""){var l=yo(Mt(o.after)-1|0)(o.after);return l.after.length===1&&l.after[0]===""?{splits:Ka(At(u.splits)(u.split))($o(l.before)(function(i){return[{style:a.style,weight:a.weight,text:i}]})),split:[]}:l.after.length===1?{splits:Ka(At(u.splits)(u.split))($o(l.before)(function(i){return[{style:a.style,weight:a.weight,text:i}]})),split:[{style:a.style,weight:a.weight,text:l.after[0]}]}:{splits:u.splits,split:u.split}}if(o.before.length===1){var l=yo(Mt(o.after)-1|0)(o.after);return l.after.length===1&&l.after[0]===""?{splits:Ka(At(u.splits)(At(u.split)({style:a.style,weight:a.weight,text:o.before[0]})))($o(l.before)(function(f){return[{style:a.style,weight:a.weight,text:f}]})),split:[]}:l.after.length===1?{splits:Ka(At(u.splits)(At(u.split)({style:a.style,weight:a.weight,text:o.before[0]})))($o(l.before)(function(f){return[{style:a.style,weight:a.weight,text:f}]})),split:[{style:a.style,weight:a.weight,text:l.after[0]}]}:{splits:u.splits,split:u.split}}return{splits:u.splits,split:u.split}}},r=xd(n)({splits:[],split:[]})(e);return At(r.splits)(r.split)}},Wd=Ad(Ba),gi=function(t){return{text:t,style:ou.value,weight:ru.value}};var f0=function(t){return function(e){return{fragment:t,width:e}}},Ud=function(t){return function(e){return function(n){return bt(t)(function(){return _i(t)(e)(n)(),No(t)(n.text)()})}}},hi=function(t){return function(e){return Ud(t)(e)({style:ou.value,weight:ru.value,text:" "})}},s0=function(t){return function(e){return function(n){return bt(t)(function(){return _i(t)(e)(n)(),Yl(t)(n.text)()})}}},d0=function(t){return function(e){return function(n){return mi(function(){var r=jt(0);return function(u){return r(t0(u))}}())(Zn(s0(t)(e))(n))}}},p0=function(t){return function(e){return function(n){return mi(f0(n))(Ud(t)(e)(n))}}},Hd=function(t){return function(e){return function(n){return function(){var u=Zn(p0(t)(e))(n)(),a=Za(je(function(o){return o.width})(u));return{word:u,width:a}}}}},bd=function(t){return function(e){return function(n){var r=Wd(n);return function(){var a=Zn(Hd(t)(e))(r)(),o=hi(t)(e)(),l=o*lt(Mt(a)-1|0)+Za(je(function(i){return i.width})(a));return{line:a,width:l}}}}},v0=function(t){return function(e){return function(n){return function(r){var u=Wd(r);return function(){var o=Zn(Hd(t)(e))(u)(),l=hi(t)(e)(),i=function(c){return function(v){if(c.value1.line.length===0)return new M(c.value0,{line:[v],width:v.width});var m=c.value1.width+l+v.width>n;return m?new M(At(c.value0)(c.value1),{line:[v],width:v.width}):new M(c.value0,u0(l)(c.value1)(v))}},f=xd(i)(new M([],{line:[],width:0}))(o);return f.value1.line.length===0?f.value0:At(f.value0)(f.value1)}}}}},Ri=function(t){return function(e){return{text:e.text,position:e.position,fillStyle:e.fillStyle,font:e.font,align:e.align,baseline:e.baseline,lineHeight:e.lineHeight,emptyLineHeight:e.emptyLineHeight,letterSpacing:e.letterSpacing,dragOffset:e.dragOffset,context:e.context,maxWidth:n0(t)(e.maxWidth)}}},qo=function(){var t=Re(Kl);return function(e){return t(li(e))}}(),Oo=Re(function(t){return gi(Bl(t))})(qo(Fd(["_","*"]))),vi=Ad(Wr),Td=function(t){return function(e){return function(n){return function(r){return mi(Rn)(Zn(v0(t)(e)(n))(vi(r)))}}}},tu=function(t){return{text:t.text,weight:t.weight,style:Nd.value}},Cd=Xe(Br(Ho(fe("_"))(fe("_"))(Re(tu)(Oo))))(Xe(Oo)(nu(fe("_"))(Re(function(t){return tu(gi(t))})(di)))),m0=function(t){return t.fragment},_0=function(t){return je(m0)(t.word)},g0=function(t){return je(_0)(t.line)},Ed=function(t){return function(e){return function(n){return function(r){return function(){var a=d0(t)(e)(Rn(ns(g0)(r)))();return $o(r)(function(o){return r0(o)({height:function(){var l=c0(o);return l?n*e.size:a}()})})}}}}},au=function(t){var e=t.Monad0().Applicative0(),n=D(e),r=Pt(t),u=Yt(e);return{position:function(a){return n(a.position)},translate:function(a){return function(o){return n({text:o.text,maxWidth:o.maxWidth,fillStyle:o.fillStyle,font:o.font,align:o.align,baseline:o.baseline,lineHeight:o.lineHeight,emptyLineHeight:o.emptyLineHeight,letterSpacing:o.letterSpacing,dragOffset:o.dragOffset,context:o.context,position:Be(a)(o.position)})}},containsPoint:function(a){return function(o){return r(bt(o.context)(function(){Ce(o.context)(o.fillStyle)(),Tr(o.context)(o.baseline)(),Cr(o.context)(o.align)(),kn(o.context)(o.letterSpacing)();var i=function(){if(o.maxWidth instanceof s)return Td(o.context)(o.font)(o.maxWidth.value0)(o.text)();if(o.maxWidth instanceof d)return Zn(bd(o.context)(o.font))(vi(o.text))();throw new Error("Failed pattern match at Template.Layer.Text.Markup (line 199, column 15 - line 201, column 89): "+[o.maxWidth.constructor.name])}(),f=Ed(o.context)(o.font)(o.emptyLineHeight)(i)(),c=Za(je(function(h){return h.height})(f))+(o.lineHeight-1)*o.font.size*lt(Mt(f)-1|0),v=Bn(0)(Ir(function(h){return function(b){return h+b.height+(o.lineHeight-1)*o.font.size}})(0)(f)),m=o0(ze(f)(v))(function(h){var b=function(){return o.baseline instanceof Ee?o.position.y+h.value1:o.baseline instanceof qe?o.position.y+h.value1-c:o.position.y+h.value1}();return e0(function(){if(o.align instanceof wr||o.align instanceof ge)return o.position.x<=a.x&&a.x<=o.position.x+h.value0.width&&b<=a.y&&a.y<=b+h.value0.height;if(o.align instanceof br||o.align instanceof _n)return o.position.x-h.value0.width<=a.x&&a.x<=o.position.x&&b<=a.y&&a.y<=b+h.value0.height;if(o.align instanceof Fr)return o.position.x-h.value0.width/2<=a.x&&a.x<=o.position.x+h.value0.width/2&&b<=a.y&&a.y<=b+h.value0.height;throw new Error("Failed pattern match at Template.Layer.Text.Markup (line 217, column 14 - line 237, column 33): "+[o.align.constructor.name])}())})();return wo(a0)(m)}))}},dragStart:function(a){return function(o){return n({text:o.text,position:o.position,maxWidth:o.maxWidth,fillStyle:o.fillStyle,font:o.font,align:o.align,baseline:o.baseline,lineHeight:o.lineHeight,emptyLineHeight:o.emptyLineHeight,letterSpacing:o.letterSpacing,context:o.context,dragOffset:new s(a)})}},drag:function(a){return function(o){return u(au(t))(o.dragOffset)(a)(o)}},dragEnd:function(a){return n({text:a.text,position:a.position,maxWidth:a.maxWidth,fillStyle:a.fillStyle,font:a.font,align:a.align,baseline:a.baseline,lineHeight:a.lineHeight,emptyLineHeight:a.emptyLineHeight,letterSpacing:a.letterSpacing,context:a.context,dragOffset:d.value})},draw:function(a){return function(o){return bt(a)(function(){Ce(a)(o.fillStyle)(),Tr(a)(o.baseline)(),Cr(a)(ge.value)(),kn(a)(o.letterSpacing)();var i=function(){if(o.maxWidth instanceof s)return Td(a)(o.font)(o.maxWidth.value0)(o.text)();if(o.maxWidth instanceof d)return Zn(bd(a)(o.font))(vi(o.text))();throw new Error("Failed pattern match at Template.Layer.Text.Markup (line 252, column 15 - line 254, column 83): "+[o.maxWidth.constructor.name])}(),f=Ed(a)(o.font)(o.emptyLineHeight)(i)(),c=Za(je(function(m){return m.height})(f))+(o.lineHeight-1)*o.font.size*lt(Mt(f)-1|0),v=Bn(0)(Ir(function(m){return function(h){return m+h.height+(o.lineHeight-1)*o.font.size}})(0)(f));return pi(ze(f)(v))(function(m){var h=function(){return o.baseline instanceof Ee?o.position.y+m.value1:o.baseline instanceof qe?o.position.y+m.value1-c+m.value0.height:o.position.y+m.value1}(),b=function(){if(o.align instanceof wr||o.align instanceof ge)return o.position.x;if(o.align instanceof br||o.align instanceof _n)return o.position.x-m.value0.width;if(o.align instanceof Fr)return o.position.x-m.value0.width/2;throw new Error("Failed pattern match at Template.Layer.Text.Markup (line 273, column 16 - line 278, column 57): "+[o.align.constructor.name])}();return function(){var A=hi(a)(o.font)(),z=Bn(0)(Ir(function(it){return function(k){return it+A+k.width}})(0)(m.value0.line));return pi(ze(m.value0.line)(z))(function(it){var k=Bn(0)(Ir(function(K){return function(ht){return K+ht.width}})(0)(it.value0.word));return pi(ze(it.value0.word)(k))(function(K){return function(){return _i(a)(o.font)(K.value0.fragment)(),mo(a)(Sd(K.value0.fragment))(b+it.value1+K.value1)(h)()}})})()}})()})}}}},eu=function(t){return{text:t.text,style:t.style,weight:Id.value}},h0=Xe(Br(Ho(fe("*"))(fe("*"))(Re(je(eu))(qo(Cd)))))(nu(fe("*"))(Xe(Ld([])(si))(Re(je(eu))(qo(Cd))))),Md=Xe(Br(Ho(fe("*"))(fe("*"))(Re(eu)(Oo))))(Xe(Oo)(nu(fe("*"))(Re(function(t){return eu(gi(t))})(di)))),R0=Xe(Br(Ho(fe("_"))(fe("_"))(Re(je(tu))(qo(Md)))))(nu(fe("_"))(Xe(Ld([])(si))(Re(je(tu))(qo(Md))))),D0=Re(function(t){return Rn(Kl(t))})(li(Xe(R0)(Xe(h0)(Re(bl)(Oo)))));var uu=function(t){return function(e){var n=id(t)(D0);if(n instanceof mt)return{position:e.position,maxWidth:e.maxWidth,fillStyle:e.fillStyle,font:e.font,align:e.align,baseline:e.baseline,lineHeight:e.lineHeight,emptyLineHeight:e.emptyLineHeight,letterSpacing:e.letterSpacing,dragOffset:e.dragOffset,context:e.context,text:n.value0};if(n instanceof Rt)return{position:e.position,maxWidth:e.maxWidth,fillStyle:e.fillStyle,font:e.font,align:e.align,baseline:e.baseline,lineHeight:e.lineHeight,emptyLineHeight:e.emptyLineHeight,letterSpacing:e.letterSpacing,dragOffset:e.dragOffset,context:e.context,text:[{text:t,style:ou.value,weight:ru.value}]};throw new Error("Failed pattern match at Template.Layer.Text.Markup (line 177, column 37 - line 179, column 106): "+[n.constructor.name])}};var qd=function(t){return t},Od=function(t){return t},Bd=function(t){return t},y0={mapLayerWrapper:function(t){return function(e){var n=p(e.Bind1().Apply0().Functor0());return function(r){return function(u){return n(qd)(r(u))}}}}},F0=qn(y0);var w0={mapLayerWrapper:function(t){return function(e){var n=p(e.Bind1().Apply0().Functor0());return function(r){return function(u){return n(Od)(r(u))}}}}},b0=qn(w0);var T0={mapLayerWrapper:function(t){return function(e){var n=p(e.Bind1().Apply0().Functor0());return function(r){return function(u){return n(Bd)(r(u))}}}}},C0=qn(T0);var kd=function(t){return function(e){var n=Ct(e),r=F0(e)(t),u=$t(e),a=zt(e),o=ce(e),l=Et(e);return{position:function(i){return n(i)},translate:function(){var i=Tt(e);return function(f){return r(i(f))}}(),containsPoint:function(i){return function(f){return u(i)(f)}},dragStart:function(i){return r(a({offsetX:i.offsetX,offsetY:0}))},drag:function(i){return r(o({translateX:i.translateX,translateY:0}))},dragEnd:r(Jt(e)),draw:function(i){return function(f){return l(i)(f)}}}}},zd=function(t){return function(e){var n=Ct(e),r=b0(e)(t),u=$t(e),a=zt(e),o=ce(e),l=Et(e);return{position:function(i){return n(i)},translate:function(){var i=Tt(e);return function(f){return r(i(f))}}(),containsPoint:function(i){return function(f){return u(i)(f)}},dragStart:function(i){return r(a({offsetX:0,offsetY:i.offsetY}))},drag:function(i){return r(o({translateX:0,translateY:i.translateY}))},dragEnd:r(Jt(e)),draw:function(i){return function(f){return l(i)(f)}}}}},Jd=function(t){var e=D(t.Applicative0());return function(n){var r=Ct(n),u=$t(n),a=Et(n);return{position:function(o){return r(o)},translate:function(){var o=C0(n)(t),l=Tt(n);return function(i){return o(l(i))}}(),containsPoint:function(o){return function(l){return u(o)(l)}},dragStart:Z(e),drag:Z(e),dragEnd:e,draw:function(o){return function(l){return a(o)(l)}}}}};var Gd=qd,Vd=Od,Bo=Bd;var tr=function(t){return function(e){return function(){return e[t]}}},M0=tr("URL"),x0=tr("documentURI"),L0=tr("origin"),I0=tr("compatMode"),N0=tr("characterSet"),S0=tr("contentType");var P0=tr("documentElement");function lu(t){return function(e){return function(){return e.createElement(t)}}}function jd(t,e,n){return t==null?e:n(t)}var at=function(t){return jd(t,d.value,s.create)};function Xd(t,e,n,r){if(typeof window<"u"){var u=window[n];if(u!=null&&r instanceof u)return e(r)}for(var a=r;a!=null;){var o=Object.getPrototypeOf(a),l=o.constructor.name;if(l===n)return e(r);if(l==="Object")return t;a=o}return t}var F=function(t){return function(e){return Xd(d.value,s.create,t,e)}};var iu=function(t){return function(e){return e[t]}},O0=iu("namespaceURI"),B0=iu("prefix"),k0=iu("localName"),z0=iu("tagName");function ko(t){return function(e){return function(n){return function(){n.setAttribute(t,e)}}}}function Di(t){return function(){var e=t.getBoundingClientRect();return{top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.width,height:e.height,x:e.x,y:e.y}}}var cu=function(t){return function(e){return function(){return e[t]}}},G0=cu("children"),V0=cu("firstElementChild"),j0=cu("lastElementChild"),X0=cu("childElementCount");var Qd=_,De=_;var Le=function(t){return function(e){return function(){return e[t]}}};var t2=Le("baseURI"),e2=Le("ownerDocument"),n2=Le("parentNode"),r2=Le("parentElement");var o2=Le("childNodes"),a2=Le("firstChild"),u2=Le("lastChild"),l2=Le("previousSibling"),i2=Le("nextSibling"),c2=Le("nodeValue");var f2=Le("textContent");function yi(t){return function(e){return function(){e.appendChild(t)}}}function Kd(t){return function(e){return function(){return e.getElementById(t)}}}var _2=p(P),er=function(t){var e=_2(at),n=Kd(t);return function(r){return e(n(r))}};function oe(t){return function(){return function(e){return t(e)()}}}function ae(t){return function(e){return function(n){return function(r){return function(){return r.addEventListener(t,e,n)}}}}}var Zd=_;function tp(t){return function(e){return e.item(t)}}var T2=p(dt),C2=function(t){var e=tp(t);return function(n){return at(e(n))}},ep=function(t){var e=on(t);return function(n){return e(function(r){return T2(tt(M.create)(r+1|0))(C2(r)(n))})(0)}};function Fi(t){return function(){return URL.createObjectURL(t)}}var wi=function(){return window};function np(t){return t.body}var P2=p(P);var nr=_;var rp=_,bi=_;var op=function(t){return P2(at)(function(){return np(t)})};function ap(t,e,n){var r=Object.prototype.toString.call(n);return r.indexOf("[object HTML")===0&&r.indexOf("Element]")===r.length-8?e(n):t}function Ti(t){return function(){return t.click()}}function Ci(t){return function(){return t.offsetWidth}}function Ei(t){return function(){return t.offsetHeight}}var up=_;var lp=_;var Mi=function(t){return ap(d.value,s.create,t)};function fp(t){return function(){return t.files}}function kr(t){return function(){return t.value}}var dR=p(P);var fu=F("HTMLInputElement");var xi=function(){var t=dR(at);return function(e){return t(fp(e))}}();function su(t){return function(){return t.value}}var dp=F("HTMLTextAreaElement");function Li(t){return function(){return t.document}}function zo(t){return t.clientX}function Jo(t){return t.clientY}function Go(t){return t.touches}var du=F("TouchEvent");function pp(t,e){return e.item(t)}var pu=function(t){return function(e){return at(pp(t,e))}};function Vo(t){return t.clientX}function jo(t){return t.clientY}var vu=F("MouseEvent");var Ie=D(Dt),OR=Ne(Se),Xo=Mo(Bt)(gn(P)),BR=Et(Xo),Jr=Ct(Xo),vp=zt(Xo),_u=ce(Xo),mp=Jt(Xo),Ni=Gn(wt),zr=C(Ni),Ii=se(Ni),mu=Pr(wt),rr=Me(Sr)(wt),_p=OR(Ni),gp=se(mn),hp=D(Eo(wt)),kR=$a(Bt),zR=Qa()(),or=bs(Bt),JR=ep(yl),Gr=function(t){return function(e){return function(n){return function(){var u=Di(lp(e))(),a=Ci(e)(),o=Ei(e)(),l=co(t)(),i=fo(t)();return{x:(n.x-u.left)*l/a,y:(n.y-u.top)*i/o}}}}},ye=function(t){return function(){var n=Dr(t.canvas)(),r=_f(t.canvas)();return nl(n)({x:0,y:0,width:r.width,height:r.height})(),bt(n)(BR(n)(t.layer))()}},GR=function(t){return oe(function(e){var n=du(e);if(n instanceof d)return Ie(void 0);if(n instanceof s){var r=pu(0)(Go(n.value0));if(r instanceof d)return ye(t);if(r instanceof s)return function(){var a=Jr(t.layer)(),o=Gr(t.canvas)(t.canvasHtmlElement)({x:lt(zo(r.value0)),y:lt(Jo(r.value0))})(),l={offsetX:o.x-a.x,offsetY:o.y-a.y};return vp(l)(t.layer)(),ye(t)()};throw new Error("Failed pattern match at Template.Main (line 194, column 22 - line 204, column 22): "+[r.constructor.name])}throw new Error("Failed pattern match at Template.Main (line 192, column 63 - line 204, column 22): "+[n.constructor.name])})},VR=function(t){return oe(function(e){var n=du(e);if(n instanceof d)return Ie(void 0);if(n instanceof s){var r=pu(0)(Go(n.value0));if(r instanceof d)return ye(t);if(r instanceof s)return function(){var a=Jr(t.layer)(),o=Gr(t.canvas)(t.canvasHtmlElement)({x:lt(zo(r.value0)),y:lt(Jo(r.value0))})(),l={translateX:o.x-a.x,translateY:o.y-a.y};return _u(l)(t.layer)(),ye(t)()};throw new Error("Failed pattern match at Template.Main (line 222, column 22 - line 232, column 22): "+[r.constructor.name])}throw new Error("Failed pattern match at Template.Main (line 220, column 62 - line 232, column 22): "+[n.constructor.name])})},jR=function(t){return oe(function(e){var n=du(e);if(n instanceof d)return Ie(void 0);if(n instanceof s){var r=pu(0)(Go(n.value0));if(r instanceof d)return ye(t);if(r instanceof s)return function(){var a=Jr(t.layer)(),o=Gr(t.canvas)(t.canvasHtmlElement)({x:lt(zo(r.value0)),y:lt(Jo(r.value0))})(),l={translateX:o.x-a.x,translateY:o.y-a.y};return _u(l)(t.layer)(),mp(t.layer)(),ye(t)()};throw new Error("Failed pattern match at Template.Main (line 251, column 22 - line 262, column 22): "+[r.constructor.name])}throw new Error("Failed pattern match at Template.Main (line 249, column 61 - line 262, column 22): "+[n.constructor.name])})},Rp=function(t){return function(e){return Jn(zr(Ii(mu)(rr(sl(t))))(function(n){return _p(rr(fl(n)(e)))(function(){return zr(rr(gp(Li)(wi)))(function(r){return zr(Ii(mu)(rr(er("canvas")(nr(r)))))(function(u){return zr(mu(Mi(u)))(function(a){return hp({canvas:n,canvasElement:u,canvasHtmlElement:a,document:r})})})})})}))}},Dp=function(t){var e=kt(t);return function(n){return function(r){return function(){var a=kR(e(r))();return zR(n)({layer:a})}}}},XR=function(t){return oe(function(e){var n=vu(e);if(n instanceof d)return Ie(void 0);if(n instanceof s)return function(){var u=Jr(t.layer)(),a=Gr(t.canvas)(t.canvasHtmlElement)({x:lt(Vo(n.value0)),y:lt(jo(n.value0))})(),o={translateX:a.x-u.x,translateY:a.y-u.y};return _u(o)(t.layer)(),mp(t.layer)(),ye(t)()};throw new Error("Failed pattern match at Template.Main (line 235, column 60 - line 246, column 20): "+[n.constructor.name])})},YR=function(t){return oe(function(e){var n=vu(e);if(n instanceof d)return Ie(void 0);if(n instanceof s)return function(){var u=Jr(t.layer)(),a=Gr(t.canvas)(t.canvasHtmlElement)({x:lt(Vo(n.value0)),y:lt(jo(n.value0))})(),o={translateX:a.x-u.x,translateY:a.y-u.y};return _u(o)(t.layer)(),ye(t)()};throw new Error("Failed pattern match at Template.Main (line 207, column 62 - line 217, column 20): "+[n.constructor.name])})},QR=function(t){return oe(function(e){var n=vu(e);if(n instanceof d)return Ie(void 0);if(n instanceof s)return function(){var u=Jr(t.layer)(),a=Gr(t.canvas)(t.canvasHtmlElement)({x:lt(Vo(n.value0)),y:lt(jo(n.value0))})(),o={offsetX:a.x-u.x,offsetY:a.y-u.y};return vp(o)(t.layer)(),ye(t)()};throw new Error("Failed pattern match at Template.Main (line 179, column 62 - line 189, column 20): "+[n.constructor.name])})},KR=function(t){return oe(function(e){return ye(t)})},Si=function(t){return function(e){return function(n){return function(r){return Jn(function(){var u=nr(r.document);return zr(Ii(mu)(rr(er(t)(u))))(function(a){return zr(rr(oe(function(o){return function(){var i=lu("canvas")(bi(r.document))();ko("id")("hidden-clip-canvas")(i)();var f=op(r.document)();if(f instanceof s){yi(Qd(i))(up(f.value0))();var c=sl("hidden-clip-canvas")();if(c instanceof s){fl(c.value0)({width:n.width,height:n.height})();var v=Dr(c.value0)(),m=r.canvas;ll(v)(m)(n.x)(n.y)(n.width)(n.height)(0)(0)(n.width)(n.height)();var h=Ku(c.value0)(),b=lu("a")(bi(r.document))();ko("href")(h)(b)(),ko("download")(e)(b)();var L=Mi(b);if(L instanceof s)return Ti(L.value0)();throw new Error("Failed pattern match at Template.Main (line 173, column 9 - line 173, column 53): "+[L.constructor.name])}throw new Error("Failed pattern match at Template.Main (line 162, column 5 - line 162, column 64): "+[c.constructor.name])}throw new Error("Failed pattern match at Template.Main (line 159, column 5 - line 159, column 53): "+[f.constructor.name])}})))(function(o){return _p(rr(ae("click")(o)(!1)(De(a))))(function(){return hp(a)})})})}())}}}};var ZR=function(t){return function(e){return function(n){return function(r){return function(){var a=er(e)(nr(t.document))();if(a instanceof s){var o=dp(a.value0);if(o instanceof s){var l=su(o.value0)();or(r(l))(n)();var i=oe(function(f){return function(){var v=su(o.value0)();return or(r(v))(n)()}})();return ae("input")(i)(!1)(De(a.value0))()}throw new Error("Failed pattern match at Template.Main (line 298, column 7 - line 298, column 55): "+[o.constructor.name])}throw new Error("Failed pattern match at Template.Main (line 297, column 3 - line 297, column 79): "+[a.constructor.name])}}}}},gu=function(t){return function(e){return function(n){return function(r){return ZR(t)(e)(n)(function(u){return function(a){return function(o){return Ie(a(o))}}(r(u))})}}}},yp=function(t){return function(e){return function(n){return function(r){return function(){var a=er(e)(nr(t.document))();if(a instanceof s){var o=fu(a.value0);if(o instanceof s){var l=kr(o.value0)();(function(){var f=Ca(l);if(f instanceof s)return or(r(f.value0))(n)();if(f instanceof d)return void 0;throw new Error("Failed pattern match at Template.Main (line 317, column 3 - line 319, column 25): "+[f.constructor.name])})();var i=oe(function(f){return function(){var v=kr(o.value0)(),m=Ca(v);if(m instanceof s)return or(r(m.value0))(n)();if(m instanceof d)return void 0;throw new Error("Failed pattern match at Template.Main (line 323, column 5 - line 325, column 27): "+[m.constructor.name])}})();return ae("input")(i)(!1)(De(a.value0))()}throw new Error("Failed pattern match at Template.Main (line 314, column 7 - line 314, column 52): "+[o.constructor.name])}throw new Error("Failed pattern match at Template.Main (line 313, column 3 - line 313, column 79): "+[a.constructor.name])}}}}},tD=function(t){return function(e){return function(n){return function(r){return yp(t)(e)(n)(function(u){return function(a){return function(o){return Ie(a(o))}}(r(u))})}}}};var Fp=function(t){var e=yf(t);return function(n){return function(r){return function(u){return function(){var o=Dn(1)();return yp(n)(r)(u)(function(l){return function(i){return function(){var c=te(o)();return xr(l)(o)(),e(l/c)(i)()}}})()}}}}},Pi=function(t){return function(e){return function(n){return tD(t)(e)(n)(Pd)}}},eD=function(t){return function(e){return function(n){return function(r){return function(){var a=er(e)(nr(t.document))();if(a instanceof s){var o=fu(a.value0);if(o instanceof s){var l=kr(o.value0)();or(r(l))(n)();var i=oe(function(f){return function(){var v=kr(o.value0)();return or(r(v))(n)()}})();return ae("input")(i)(!1)(De(a.value0))()}throw new Error("Failed pattern match at Template.Main (line 282, column 7 - line 282, column 52): "+[o.constructor.name])}throw new Error("Failed pattern match at Template.Main (line 281, column 3 - line 281, column 79): "+[a.constructor.name])}}}}},Ai=function(t){return function(e){return function(n){return function(r){return eD(t)(e)(n)(function(u){return function(a){return function(o){return Ie(a(o))}}(r(u))})}}}},nD=function(t){return function(e){return function(n){return function(r){return function(){var a=er(e)(nr(t.document))();if(a instanceof s){var o=fu(a.value0);if(o instanceof s){var l=function(c){if(c instanceof d)return Ie(void 0);if(c instanceof s){var v=Je(JR(c.value0))(0);if(v instanceof d)return Ie(void 0);if(v instanceof s)return or(r(v.value0))(n);throw new Error("Failed pattern match at Template.Main (line 353, column 24 - line 355, column 54): "+[v.constructor.name])}throw new Error("Failed pattern match at Template.Main (line 351, column 26 - line 355, column 54): "+[c.constructor.name])},i=xi(o.value0)();l(i)();var f=oe(function(c){return gp(l)(xi(o.value0))})();return ae("change")(f)(!1)(De(a.value0))()}throw new Error("Failed pattern match at Template.Main (line 348, column 7 - line 348, column 52): "+[o.constructor.name])}throw new Error("Failed pattern match at Template.Main (line 347, column 3 - line 347, column 79): "+[a.constructor.name])}}}}};var rD=function(t){return function(e){return function(n){return function(r){return nD(t)(e)(n)(function(u){return r(Zd(u))})}}}};var wp=function(t){return function(e){return function(n){return function(r){return rD(t)(e)(n)(function(u){return function(a){return function(){var l=Fi(u)();return r(l)(a)()}}})}}}},bp=function(t){return function(){var n=QR(t)(),r=YR(t)(),u=XR(t)(),a=GR(t)(),o=VR(t)(),l=jR(t)(),i=KR(t)();return ae("mousedown")(n)(!1)(De(t.canvasElement))(),ae("mousemove")(r)(!1)(De(t.canvasElement))(),ae("mouseup")(u)(!1)(De(t.canvasElement))(),ae("touchstart")(a)(!1)(De(t.canvasElement))(),ae("touchmove")(o)(!1)(De(t.canvasElement))(),ae("touchend")(l)(!1)(De(t.canvasElement))(),ae("input")(i)(!1)(rp(t.document))()}};var aD=Ne(Se),uD=An(pt)(_e),Tp=St(Xt),Cp=xt(P),lD=Tp(Dt),iD=se(mn),Vr=$a(Bt),cD=ls(Bt),fD=is(Bt),sD=Fp(as(Bt)),Wi=Sl(Bt),Hi=Mo(Bt),dD=kt(Hi(au(Bt))),pD=kt(Hi(Ja(Bt))),Ep=Jd(wt),Mp=Aa(Bt),Ui=kt(Ep(Mp)),vD=kt(zd(wt)(xs(Ll(wt))(wt))),mD=kt(Hi(Mp)),_D=kt(Ep($l(Dt))),gD=Dp(Ds(wt));var xp=function(t){var e=Aa(t),n=Ct(e),r=t.Monad0(),u=r.Bind1(),a=C(u),o=p(u.Apply0().Functor0()),l=fs(t),i=Tt(e),f=r.Applicative0(),c=D(f),v=$t(e),m=Et(e),h=zt(e),b=Yt(f),L=Jt(e);return{position:function(A){return n(A.guillotine)},translate:function(A){return function(z){return a(o(function(it){return function(k){return k+A.translateX}(function(k){return k.x}(it))})(n(z.guillotine)))(function(it){return a(l(z.guillotine))(function(k){var K=cs(z.guillotine).scaleY,ht=function(){return k instanceof s&&k.value0.width!==0?us({scaleX:(z.xMax-it)/k.value0.width,scaleY:K})(z.guillotine):z.guillotine}();return a(i(A)(ht))(function(Fe){return c({xMax:z.xMax,guillotine:Fe})})})})}},containsPoint:function(A){return function(z){return v(A)(z.guillotine)}},draw:function(A){return function(z){return m(A)(z.guillotine)}},dragStart:function(A){return function(z){return a(h(A)(z.guillotine))(function(it){return c({xMax:z.xMax,guillotine:it})})}},drag:function(A){return function(z){return b(xp(t))(z.guillotine.dragOffset)(A)(z)}},dragEnd:function(A){return a(L(A.guillotine))(function(z){return c({xMax:A.xMax,guillotine:z})})}}},Lp=function(t){var e=t.Monad0(),n=pl(e),r=Ct(n),u=e.Bind1(),a=C(u),o=Tt(n),l=xp(t),i=Tt(l),f=Mo(t),c=f(Ja(t)),v=Tt(c),m=f(au(t)),h=Tt(m),b=aD(u),L=Ts(t),A=e.Applicative0(),z=D(A),it=u.Apply0().Functor0(),k=p(it),K=Tp(A),ht=gn(it),Fe=$t(ht),Ye=kt(n),xn=kt(l),ur=kt(m),$i=kt(c),Np=Et(ht),Sp=zt(n),Pp=Yt(A),Ap=Jt(n);return{position:function(vt){return r(vt.overlayBackground)},translate:function(vt){return function(ut){return a(o(vt)(ut.overlayBackground))(function(hu){return a(i(vt)(ut.guillotine))(function(Wp){return a(v(vt)(ut.author))(function(Up){return a(h(vt)(ut.title))(function(qi){return b(L(Ri(function(Ru){return Ru-vt.translateX}))(qi))(function(){return b(L(Ri(function(Ru){return Ru-vt.translateX}))(ut.bodyText))(function(){return z({overlayBackground:hu,guillotine:Wp,author:Up,bodyText:ut.bodyText,title:qi})})})})})})})}},containsPoint:function(vt){return function(ut){return k(uD)(K(Fe(vt))([Ye(ut.overlayBackground),xn(ut.guillotine),ur(ut.bodyText),$i(ut.author),ur(ut.title)]))}},draw:function(vt){return function(ut){return Cp(lD(Np(vt))([Ye(ut.overlayBackground),xn(ut.guillotine),ur(ut.bodyText),$i(ut.author),ur(ut.title)]))}},dragStart:function(vt){return function(ut){return a(Sp(vt)(ut.overlayBackground))(function(hu){return z({guillotine:ut.guillotine,bodyText:ut.bodyText,author:ut.author,title:ut.title,overlayBackground:hu})})}},drag:function(vt){return function(ut){return Pp(Lp(t))(ut.overlayBackground.dragOffset)(vt)(ut)}},dragEnd:function(vt){return a(Ap(vt.overlayBackground))(function(ut){return z({guillotine:vt.guillotine,bodyText:vt.bodyText,author:vt.author,title:vt.title,overlayBackground:ut})})}}},hD=kt(kd(wt)(Ls(Lp(Bt))(wt))),rt=2;var RD=function(t){var e=t.Monad0(),n=C(e.Bind1()),r=Sl(t),u=D(e.Applicative0());return function(a){return function(o){return function(l){return function(i){return n(r(a)(o)(l)($n.value))(function(f){return u({guillotine:f,xMax:i})})}}}}},DD=RD(Bt),yD=function(){return{width:1080,height:1080*5/4}}(),Yo=function(){return Zt(cr()(fn({reflectSymbol:function(){return"height"}})()(fn({reflectSymbol:function(){return"width"}})()(ir)(We))(We)))({width:2*rt,height:rt})(yD)}(),ar=function(){return Yo.height}(),Wt=function(){return Yo.width}(),Ip=Cp(function(){var e=Rp("canvas")(Yo)();if(e instanceof s){var n=Dr(e.value0.canvas)(),r=iD(Vr)(cD({x:0,y:0})({scaleX:1,scaleY:1})($n.value))();wp(e.value0)("image")(r)(fD)(),sD(e.value0)("image-size")(r)();var u=DD("./img/guillotine2x.png")({x:Wt/2+285*rt,y:60*rt})({scaleX:(Wt-180*rt-(Wt/2+285*rt))/1560,scaleY:1})(Wt-180*rt)(),a=Wi("./img/guillotinewit2x.png")({x:60*rt,y:60*rt})({scaleX:1,scaleY:1})($n.value)(),o=Wi("./img/jacobinlogo80x200.png")({x:Wt-100*rt,y:ar-160*rt})({scaleX:1,scaleY:1})($n.value)(),l=Wi("./img/jacobinlogowit80x200.png")({x:Wt/2-100*rt,y:ar-160*rt})({scaleX:1,scaleY:1})($n.value)(),i=Vr({text:[],lineHeight:1.1,position:{x:Wt-rt*60,y:rt*150},fillStyle:"#f00",font:{name:"Oswald",style:{normal:"normal",italic:"italic"},weight:{normal:"500",bold:"700"},size:90*rt},align:_n.value,baseline:Ee.value,letterSpacing:"-3px",emptyLineHeight:.25,dragOffset:d.value,maxWidth:new s(Wt/2-2*60*rt),context:n})();gu(e.value0)("bodytext")(i)(uu)(),Pi(e.value0)("bodytext-size")(i)();var f={x:60*rt,y:250*rt},c=Vr({text:[],lineHeight:.9,position:f,maxWidth:new s(Wt/2-2*60*rt),fillStyle:"#fff",font:{name:"Oswald",style:{normal:"normal",italic:"italic"},weight:{normal:"700",bold:"700"},size:100*rt},align:ge.value,baseline:qe.value,letterSpacing:"-2px",emptyLineHeight:.25,dragOffset:d.value,context:n})();gu(e.value0)("title-left")(c)(uu)(),Pi(e.value0)("title-size")(c)();var v=Vr({text:"AUTEUR",lineHeight:.95,position:f,fillStyle:"#fff",fontName:"Oswald",fontStyle:"normal",fontWeight:"500",fontSize:rt*50,align:ge.value,baseline:Ee.value,letterSpacing:"-3px",dragOffset:d.value,maxWidth:d.value,context:n})();Ai(e.value0)("author")(v)(Xl)();var m=Es(f.y)(50*rt)(rs([dD(c),pD(v)])),h=Vr({text:"AUTEUR",lineHeight:.95,position:{x:Wt/2+128*rt,y:ar-160*rt},fillStyle:"#f00",fontName:"Oswald",fontStyle:"normal",fontWeight:"400",fontSize:2*50,align:ge.value,baseline:qe.value,letterSpacing:"-3px",dragOffset:d.value,maxWidth:d.value,context:n})();Ai(e.value0)("author")(h)(function(ht){return Xl(Da(ht))})();var b=Vr({text:[],lineHeight:.9,position:{x:Wt/2+128*rt,y:ar-160*rt},maxWidth:new s(Wt/2-(128+2*60+20)*rt),fillStyle:"#f00",font:{name:"Oswald",style:{normal:"normal",italic:"italic"},weight:{normal:"700",bold:"700"},size:50*rt},align:ge.value,baseline:Ee.value,letterSpacing:"-2px",emptyLineHeight:.25,dragOffset:d.value,context:n})();gu(e.value0)("title-right")(b)(uu)();var L=bf({x:Wt/2+60*rt,y:0})({width:Wt,height:ar})(82.5)("#fff"),A=Ms(Wt/2)(60*rt)({overlayBackground:L,guillotine:u,bodyText:i,author:h,title:b}),z=ys([Ui(Bo(l)),Ui(Bo(o)),vD(Vd(m)),hD(Gd(A)),Ui(Bo(a)),mD(r),_D(Bo(Fs({x:0,y:0,width:Yo.width,height:Yo.height})("#f00")))]),it=gD(e.value0)(z)();ye(it)(),bp(it)();var k=Si("download-left")("jacobin-titel-links.png")({x:0,y:0,width:Wt/2,height:ar})(it)();if(k instanceof s){var K=Si("download-right")("jacobin-titel-rechts.png")({x:Wt/2,y:0,width:Wt/2,height:ar})(it)();if(K instanceof s)return void 0;throw new Error("Failed pattern match at Jacobin.TitleSlide (line 306, column 3 - line 306, column 173): "+[K.constructor.name])}throw new Error("Failed pattern match at Jacobin.TitleSlide (line 305, column 3 - line 305, column 155): "+[k.constructor.name])}throw new Error("Failed pattern match at Jacobin.TitleSlide (line 136, column 3 - line 136, column 72): "+[e.constructor.name])});Ip();})();

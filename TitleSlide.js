/* Generated by Spago v0.93.44 */
(()=>{var Ze={compose:function(n){return function(r){return function(e){return n(r(e))}}}};var V=function(n){return n.identity},Z={identity:function(n){return n},Semigroupoid0:function(){return Ze}};var mn=function(n){return function(r){return function(e){return n(e)(r)}}},k=function(n){return function(r){return n}};var qa=function(n){return function(r){for(var e=r.length,t=new Array(e),a=0;a<e;a++)t[a]=n(r[a]);return t}};var I=function(){function n(){}return n.value=new n,n}();var m=function(n){return n.map},Yt=function(n){var r=m(n);return function(e){return function(t){return r(t)(e)}}},dn=function(n){return m(n)(k(void 0))};var Sr=function(n){var r=m(n);return function(e){return r(k(e))}};var $n={map:qa};var ic=V(Z);var bn=function(n){return n.apply};var ge=function(n){var r=bn(n),e=m(n.Functor0());return function(t){return function(a){return r(e(k(ic))(t))(a)}}};var T=function(n){return n.pure};var ye=function(n){var r=bn(n.Apply0()),e=T(n);return function(t){return function(a){return r(e(t))(a)}}};var lc=typeof Array.prototype.flatMap=="function"?function(n){return function(r){return n.flatMap(r)}}:function(n){return function(r){for(var e=[],t=n.length,a=0;a<t;a++)for(var o=r(n[a]),u=o.length,i=0;i<u;i++)e.push(o[i]);return e}};var Kn=function(n){return n.discard};var N=function(n){return n.bind},Zn=function(n){return mn(N(n))};var nr={discard:function(n){return N(n)}};var Ba=function(n){return function(r){return function(e){for(var t=r,a=e.length,o=a-1;o>=0;o--)t=n(e[o])(t);return t}}},ka=function(n){return function(r){return function(e){for(var t=r,a=e.length,o=0;o<a;o++)t=n(t)(e[o]);return t}}};var Nn=function(n){return n.reflectSymbol};var qn=function(n){return function(r){return r[n]}},Rn=function(n){return function(r){return function(e){var t={};for(var a in e)({}).hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t[n]=r,t}}};var on=function(n){return n.append};var gc=Number.POSITIVE_INFINITY,yc=Number.NEGATIVE_INFINITY;var Tc=function(n){return function(r){return function(e){return function(t){return function(a){return t<a?n:t===a?r:e}}}}};var Ga=Tc;var hc=function(n){return function(r){return n===r}};var Va=hc;var za={eq:Va};var en=function(n){return n.eq};var q=function(){function n(){}return n.value=new n,n}(),W=function(){function n(){}return n.value=new n,n}(),Y=function(){function n(){}return n.value=new n,n}();var De={eq:function(n){return function(r){return n instanceof q&&r instanceof q||n instanceof W&&r instanceof W||n instanceof Y&&r instanceof Y}}};var ja=function(n){return function(r){return n-r}};var Qa=function(n){return function(r){return n+r}},Xa=function(n){return function(r){return n*r}};var Ya=function(n){return n.zeroRecord},er=function(n){return n.zero};var Yr={addRecord:function(n){return function(r){return function(e){return{}}}},mulRecord:function(n){return function(r){return function(e){return{}}}},oneRecord:function(n){return function(r){return{}}},zeroRecord:function(n){return function(r){return{}}}};var vr={add:Qa,zero:0,mul:Xa,one:1};var Ka=function(n){return n.oneRecord},ir=function(n){return n.one},Za=function(n){return n.mulRecord},Pn=function(n){return n.mul},nu=function(n){return n.addRecord},Kr=function(){return function(n){return{add:nu(n)(I.value),mul:Za(n)(I.value),one:Ka(n)(I.value)(I.value),zero:Ya(n)(I.value)(I.value)}}},fr=function(n){return n.add};var gr=function(n){var r=Nn(n);return function(){return function(e){var t=nu(e),a=Za(e),o=Ka(e),u=Ya(e);return function(i){var f=fr(i),_=Pn(i),l=ir(i),v=er(i);return{addRecord:function(h){return function(U){return function(E){var M=t(I.value)(U)(E),L=r(I.value),w=Rn(L),un=qn(L);return w(f(un(U))(un(E)))(M)}}},mulRecord:function(h){return function(U){return function(E){var M=a(I.value)(U)(E),L=r(I.value),w=Rn(L),un=qn(L);return w(_(un(U))(un(E)))(M)}}},oneRecord:function(h){return function(U){var E=o(I.value)(I.value),M=r(I.value),L=Rn(M);return L(l)(E)}},zeroRecord:function(h){return function(U){var E=u(I.value)(I.value),M=r(I.value),L=Rn(M);return L(v)(E)}}}}}}};var Fc=Kr(),ru=function(n){return n.subRecord},Te=function(n){return n.sub};var eo={subRecord:function(n){return function(r){return function(e){return{}}}},SemiringRecord0:function(){return Yr}},et=function(n){var r=Nn(n),e=gr(n)();return function(){return function(t){var a=ru(t),o=e(t.SemiringRecord0());return function(u){var i=Te(u),f=o(u.Semiring0());return{subRecord:function(_){return function(l){return function(v){var h=a(I.value)(l)(v),U=r(I.value),E=Rn(U),M=qn(U);return E(i(M(l))(M(v)))(h)}}},SemiringRecord0:function(){return f}}}}}},to=function(){return function(n){var r=Fc(n.SemiringRecord0());return{sub:ru(n)(I.value),Semiring0:function(){return r}}}};var tt={sub:ja,Semiring0:function(){return vr}};var ao=function(){return{compare:Ga(q.value)(Y.value)(W.value),Eq0:function(){return za}}}();var K=function(n){return n.compare};var eu=function(n){var r=n.toString();return isNaN(r+".0")?r:r+".0"};var tu={show:eu};var G=function(n){return n.show};var Oc=V(Z),s=function(){function n(){}return n.value=new n,n}(),c=function(){function n(r){this.value0=r}return n.create=function(r){return new n(r)},n}();var Dr=function(n){return function(r){return function(e){if(e instanceof s)return n;if(e instanceof c)return r(e.value0);throw new Error("Failed pattern match at Data.Maybe (line 237, column 1 - line 237, column 51): "+[n.constructor.name,r.constructor.name,e.constructor.name])}}},re=Dr(!0)(k(!1));var vn={map:function(n){return function(r){return r instanceof c?new c(n(r.value0)):s.value}}};var jn=function(n){return Dr(n)(Oc)},Nr=function(){return function(n){if(n instanceof c)return n.value0;throw new Error("Failed pattern match at Data.Maybe (line 288, column 1 - line 288, column 46): "+[n.constructor.name])}};var au=function(n){return function(r){return n&&r}},uu=function(n){return function(r){return n||r}},iu=function(n){return!n};var io=function(n){return n.not};var ut=function(n){return n.ff};var Ce=function(n){return n.disj},tr={ff:!1,tt:!0,implies:function(n){return function(r){return Ce(tr)(io(tr)(n))(r)}},conj:au,disj:uu,not:iu};var Hn=function(n){return n.mempty};var Q=function(){function n(r,e){this.value0=r,this.value1=e}return n.create=function(r){return function(e){return new n(r,e)}},n}();var ee=function(n){return n.value1};var te=function(n){return n.value0};var go=function(n){return n};var ul=function(n){var r=Ce(n);return{append:function(e){return function(t){return r(e)(t)}}}};var _u=function(n){var r=ul(n);return{mempty:ut(n),Semigroup0:function(){return r}}};var p=function(n){return n};var vu=function(){return p};var cl=vu();var Do=function(){return function(){return function(){return function(){return function(n){return cl}}}}};var pl=V(Z),dl=en(De);var _l=Do()()()(),ft=function(n){return n.foldr};var Rr=function(n){var r=ge(n.Apply0()),e=T(n);return function(t){var a=ft(t);return function(o){return a(function(u){return r(o(u))})(e(void 0))}}},Co=function(n){var r=Rr(n);return function(e){return mn(r(e))}};var Me=function(n){return n.foldl};var gu=function(n){var r=Me(n);return function(e){var t=function(a){return function(o){if(a instanceof s)return new c(o);if(a instanceof c)return new c(function(){var u=dl(e(a.value0)(o))(W.value);return u?a.value0:o}());throw new Error("Failed pattern match at Data.Foldable (line 441, column 3 - line 441, column 27): "+[a.constructor.name,o.constructor.name])}};return r(t)(s.value)}},Eo=function(n){var r=K(n);return function(e){return gu(e)(r)}};var yu=function(n){var r=ft(n);return function(e){var t=on(e.Semigroup0()),a=Hn(e);return function(o){return r(function(u){return function(i){return t(o(u))(i)}})(a)}}},yn={foldr:Ba,foldl:ka,foldMap:function(n){return yu(yn)(n)}};var Mo=function(n){return n.foldMap};var Du=function(n){var r=Mo(n);return function(e){return _l(go)(r(_u(e)))}};var Pr=function(n){var r=Du(n);return function(e){return r(e)(pl)}};var ct=function(n){return n.toUpperCase()};var oe=function(n){return function(r){return r.join(n)}};var Tu=function(){function n(a){return[a]}function r(a){return function(o){return[a,o]}}function e(a){return function(o){return function(u){return[a,o,u]}}}function t(a){return function(o){return a.concat(o)}}return function(a){return function(o){return function(u){return function(i){return function(f){function _(l,v){switch(v-l){case 0:return u([]);case 1:return o(n)(i(f[l]));case 2:return a(o(r)(i(f[l])))(i(f[l+1]));case 3:return a(a(o(e)(i(f[l])))(i(f[l+1])))(i(f[l+2]));default:var h=l+Math.floor((v-l)/4)*2;return a(o(t)(_(l,h)))(_(h,v))}}return _(0,f.length)}}}}}}();var kl=V(Z),or=function(n){return n.traverse};var Jl=function(n){var r=or(n);return function(e){return r(e)(kl)}},ar={traverse:function(n){var r=n.Apply0();return Tu(bn(r))(m(r.Functor0()))(T(n))},sequence:function(n){return Jl(ar)(n)},Functor0:function(){return $n},Foldable1:function(){return yn}};var xu=function(n){return function(){return n}},Iu=function(n){return function(r){return function(){return r(n())()}}};var Lu=function(n){var r=N(n.Bind1()),e=T(n.Applicative0());return function(t){return function(a){return r(a)(function(o){return e(t(o))})}}},xe=function(n){var r=N(n.Bind1()),e=T(n.Applicative0());return function(t){return function(a){return r(t)(function(o){return r(a)(function(u){return e(o(u))})})}}};var wu=function(n,r,e){var t=0,a;return function(o){if(t===2)return a;if(t===1)throw new ReferenceError(n+" was needed before it finished initializing (module "+r+", line "+o+")",r,o);return t=1,a=e(),t=2,a}},Dn={Applicative0:function(){return hn},Bind1:function(){return br}},br={bind:Iu,Apply0:function(){return Io(0)}},hn={pure:xu,Apply0:function(){return Io(0)}},Su=wu("functorEffect","Effect",function(){return{map:ye(hn)}}),Io=wu("applyEffect","Effect",function(){return{apply:xe(Dn),Functor0:function(){return Su(0)}}}),F=Su(20),Nu=Io(23);var Cn={liftEffect:V(Z),Monad0:function(){return Dn}},En=function(n){return n.liftEffect};function Ru(n){return function(r){return function(e){return function(){var t=new Image;t.src=n,t.addEventListener("load",function(){e(t)()},!1),t.addEventListener("error",function(){r()},!1)}}}}function Pu(n,r,e){return function(){var t=document.getElementById(n);return t&&t instanceof HTMLCanvasElement?r(t):e}}function ae(n){return function(){return n.getContext("2d")}}function Le(n){return function(){return n.width}}function we(n){return function(){return n.height}}function Lo(n){return function(r){return function(){n.width=r}}}function wo(n){return function(r){return function(){n.height=r}}}function So(n){return function(){return n.toDataURL()}}function hr(n){return function(r){return function(){n.fillStyle=r}}}function Hu(n){return function(r){return function(){n.globalCompositeOperation=r}}}function Se(n){return function(){n.beginPath()}}function Ne(n){return function(){n.fill()}}function Re(n){return function(r){return function(e){return function(){n.lineTo(r,e)}}}}function No(n){return function(r){return function(e){return function(){n.moveTo(r,e)}}}}function Ro(n){return function(){n.closePath()}}function Po(n){return function(r){return function(){n.rect(r.x,r.y,r.width,r.height)}}}function Ho(n){return function(r){return function(){n.clearRect(r.x,r.y,r.width,r.height)}}}function Wo(n){return function(r){return function(){n.translate(r.translateX,r.translateY)}}}function Wu(n){return function(r){return function(){n.textAlign=r}}}function Au(n){return function(r){return function(){n.textBaseline=r}}}function mt(n){return function(r){return function(){n.font=r}}}function Ao(n){return function(r){return function(e){return function(t){return function(){n.fillText(r,e,t)}}}}}function Uo(n){return function(){n.save()}}function $o(n){return function(){n.restore()}}function qo(n){return function(r){return function(e){return function(t){return function(a){return function(o){return function(){n.drawImage(r,e,t,a,o)}}}}}}}function Oo(n){return function(r){return function(e){return function(t){return function(a){return function(o){return function(u){return function(i){return function(f){return function(_){return function(){n.drawImage(r,e,t,a,o,u,i,f,_)}}}}}}}}}}}var es=ge(Nu),sr=function(){function n(){}return n.value=new n,n}(),ts=function(){function n(){}return n.value=new n,n}(),os=function(){function n(){}return n.value=new n,n}(),as=function(){function n(){}return n.value=new n,n}(),us=function(){function n(){}return n.value=new n,n}(),ue=function(){function n(){}return n.value=new n,n}(),Cr=function(){function n(){}return n.value=new n,n}(),Pe=function(){function n(){}return n.value=new n,n}(),ko=function(){function n(){}return n.value=new n,n}(),Jo=function(){function n(){}return n.value=new n,n}(),Go=function(){function n(){}return n.value=new n,n}();var ie=function(){function n(){}return n.value=new n,n}(),is=function(){function n(){}return n.value=new n,n}(),fs=function(){function n(){}return n.value=new n,n}(),cs=function(){function n(){}return n.value=new n,n}(),ls=function(){function n(){}return n.value=new n,n}(),ss=function(){function n(){}return n.value=new n,n}(),ms=function(){function n(){}return n.value=new n,n}(),ps=function(){function n(){}return n.value=new n,n}(),ds=function(){function n(){}return n.value=new n,n}(),_s=function(){function n(){}return n.value=new n,n}(),vs=function(){function n(){}return n.value=new n,n}(),gs=function(){function n(){}return n.value=new n,n}(),ys=function(){function n(){}return n.value=new n,n}(),Ds=function(){function n(){}return n.value=new n,n}(),Ts=function(){function n(){}return n.value=new n,n}(),bs=function(){function n(){}return n.value=new n,n}(),hs=function(){function n(){}return n.value=new n,n}(),Cs=function(){function n(){}return n.value=new n,n}(),Es=function(){function n(){}return n.value=new n,n}(),Ms=function(){function n(){}return n.value=new n,n}(),Fs=function(){function n(){}return n.value=new n,n}(),xs=function(){function n(){}return n.value=new n,n}(),Is=function(){function n(){}return n.value=new n,n}(),Ls=function(){function n(){}return n.value=new n,n}(),ws=function(){function n(){}return n.value=new n,n}(),Ss=function(){function n(){}return n.value=new n,n}(),Fn=function(n){return function(r){return function(){Uo(n)();var t=r();return $o(n)(),t}}},Vo=function(n){return function(r){return Ru(n)(r(s.value))(function(e){return r(c.create(e))})}};var zo=function(n){return function(r){var e=function(t){if(t instanceof sr)return"top";if(t instanceof ts)return"hanging";if(t instanceof os)return"middle";if(t instanceof as)return"alphabetic";if(t instanceof us)return"ideographic";if(t instanceof ue)return"bottom";throw new Error("Failed pattern match at Graphics.Canvas (line 577, column 5 - line 577, column 33): "+[t.constructor.name])};return Au(n)(e(r))}},jo=function(n){return function(r){var e=function(t){if(t instanceof Cr)return"left";if(t instanceof Pe)return"right";if(t instanceof ko)return"center";if(t instanceof Jo)return"start";if(t instanceof Go)return"end";throw new Error("Failed pattern match at Graphics.Canvas (line 531, column 5 - line 531, column 32): "+[t.constructor.name])};return Wu(n)(e(r))}};var Ou=function(n){return function(r){var e=function(t){if(t instanceof ie)return"source-over";if(t instanceof is)return"source-in";if(t instanceof fs)return"source-out";if(t instanceof cs)return"source-atop";if(t instanceof ls)return"destination-over";if(t instanceof ss)return"destination-in";if(t instanceof ms)return"destination-out";if(t instanceof ps)return"destination-atop";if(t instanceof ds)return"lighter";if(t instanceof _s)return"copy";if(t instanceof vs)return"xor";if(t instanceof gs)return"multiply";if(t instanceof ys)return"screen";if(t instanceof Ds)return"overlay";if(t instanceof Ts)return"darken";if(t instanceof bs)return"lighten";if(t instanceof hs)return"color-dodge";if(t instanceof Cs)return"color-burn";if(t instanceof Es)return"hard-light";if(t instanceof Ms)return"soft-light";if(t instanceof Fs)return"difference";if(t instanceof xs)return"exclusion";if(t instanceof Is)return"hue";if(t instanceof Ls)return"saturation";if(t instanceof ws)return"color";if(t instanceof Ss)return"luminosity";throw new Error("Failed pattern match at Graphics.Canvas (line 326, column 5 - line 326, column 45): "+[t.constructor.name])};return Hu(n)(e(r))}},Qo=function(n){return function(r){return es(wo(n)(r.height))(Lo(n)(r.width))}},Xo=function(n){return Pu(n,c.create,s.value)},Bu=function(n){return function(){var e=Le(n)(),t=we(n)();return{width:e,height:t}}},ku=function(n){return function(r){return function(){Se(n)();var t=r();return Ne(n)(),t}}};var pt=isFinite;function Ju(n,r,e,t){var a=parseFloat(n);return r(a)?e(a):t}var dt=Math.tan;var Vu=3.141592653589793;var Yo=function(n){return Ju(n,pt,c.create,s.value)};var vt=function(n){return function(r){return r(function(e){return n(e)})}},Er=function(n){return function(r){return{x:r.x+n.translateX,y:r.y+n.translateY}}};var xn=function(n){return n.translate},zu=function(n){return function(r){return{width:r.width*n.scaleX,height:r.height*n.scaleY}}},Ko=function(n){return n.scale},ju=function(n){var r=Ko(n);return function(e){return r({scaleX:e,scaleY:e})}},Wn=function(n){return n.position},In=function(n){return function(r){return function(e){return e(n)(r)}}},Ws=function(n){var r=m(n);return function(e){return vt(function(t){var a=r(In(t)),o=e(t);return function(u){return a(o(u))}})}};var Zo=function(n){return n.mapLayerWrapper},Mn=function(n){return n.draw},As=function(n){var r=xn(n);return function(e){return function(t){return function(a){var o={translateX:t.translateX-e.offsetX,translateY:t.translateY-e.offsetY};return r(o)(a)}}}},An=function(n){var r=T(n);return function(e){var t=As(e);return function(a){return function(o){return function(u){if(a instanceof s)return r(u);if(a instanceof c)return t(a.value0)(o)(u);throw new Error("Failed pattern match at Template.Layer (line 59, column 1 - line 59, column 115): "+[a.constructor.name,o.constructor.name,u.constructor.name])}}}}},Bn=function(n){return n.dragStart},kn=function(n){return n.dragEnd},pr=function(n){return n.drag},Un=function(n){return n.containsPoint},Mr=function(n){var r=Ws(n);return{position:vt(function(e){return Wn(e)}),translate:function(e){return r(function(t){return xn(t)(e)})},containsPoint:function(e){return vt(function(t){return Un(t)(e)})},draw:function(e){return vt(function(t){return Mn(t)(e)})},dragStart:function(e){return r(function(t){return Bn(t)(e)})},drag:function(e){return r(function(t){return pr(t)(e)})},dragEnd:r(function(e){return kn(e)})}};var Xu=function(n){return function(r){return function(e){return function(t){return{position:n,dimensions:r,angle:e,fillStyle:t,dragOffset:s.value}}}}},Qu=function(n){return n*Vu/180},na=function(n){var r=n.Applicative0(),e=T(r),t=An(r);return{position:function(a){return e(a.position)},translate:function(a){return function(o){return e({dimensions:o.dimensions,angle:o.angle,fillStyle:o.fillStyle,dragOffset:o.dragOffset,position:Er(a)(o.position)})}},containsPoint:function(a){return function(o){var u=(o.dimensions.height-a.y)/dt(Qu(o.angle));return e(o.position.x+u<=a.x&&a.x<=o.position.x+o.dimensions.width&&o.position.y<=a.y&&a.y<=o.position.y+o.dimensions.height)}},draw:function(a){return function(o){return Fn(a)(function(){return hr(a)(o.fillStyle)(),Se(a)(),No(a)(o.position.x)(o.position.y+o.dimensions.height)(),Re(a)(o.position.x+o.dimensions.width)(o.position.y+o.dimensions.height)(),Re(a)(o.position.x+o.dimensions.width)(o.position.y)(),Re(a)(o.position.x+o.dimensions.height/dt(Qu(o.angle)))(o.position.y)(),Ro(a)(),Ne(a)()})}},dragStart:function(a){return function(o){return e({position:o.position,dimensions:o.dimensions,angle:o.angle,fillStyle:o.fillStyle,dragOffset:new c(a)})}},drag:function(a){return function(o){return t(na(n))(o.dragOffset)(a)(o)}},dragEnd:function(a){return e({position:a.position,dimensions:a.dimensions,angle:a.angle,fillStyle:a.fillStyle,dragOffset:s.value})}}};var Yu=function(n,r){for(var e=n>r?-1:1,t=new Array(e*(r-n)+1),a=n,o=0;a!==r;)t[o++]=a,a+=e;return t[o]=a,t},$s=function(n,r){if(n<1)return[];var e=new Array(n);return e.fill(r)},qs=function(n,r){for(var e=[],t=0,a=0;a<n;a++)e[t++]=r;return e},Os=typeof Array.prototype.fill=="function"?$s:qs;var Fr=function(n){return n.length};var Ku=function(n,r,e,t){return t<0||t>=e.length?r:n(e[t])};var Zu=function(n,r,e,t){for(var a=0,o=t.length;a<o;a++)if(e(t[a]))return n(a);return r};var ni=function(n,r,e,t,a){if(e<0||e>=a.length)return r;var o=a.slice();return o[e]=t,n(o)},He=function(n){return n.slice().reverse()},ra=function(n){if(n.length<=1e4)return Array.prototype.concat.apply([],n);for(var r=[],e=0,t=n.length;e<t;e++)for(var a=n[e],o=0,u=a.length;o<u;o++)r.push(a[o]);return r};var ri=function(n,r,e){for(var t=r.length<e.length?r.length:e.length,a=new Array(t),o=0;o<t;o++)a[o]=n(r[o])(e[o]);return a},ei=function(n,r){for(var e=r.length,t=0;t<e;t++)if(n(r[t]))return!0;return!1};var ti=function(n){return function(){return{value:n}}};var Ln=function(n){return function(){return n.value}},oi=function(n){return function(r){return function(){var e=n(r.value);return r.value=e.state,e.value}}},fe=function(n){return function(r){return function(){r.value=n}}};var Js=dn(F),xr=ti,Gs=oi,ea=function(n){return Gs(function(r){var e=n(r);return{state:e,value:e}})},ta=function(n){return function(r){return Js(ea(n)(r))}};function Ks(n){return n}var li=Ks;function Zs(n){return n.slice()}var si=Zs;var mi=function(n,r){return r.push(n)};var yt=function(r){return function(e){return function(){return r(e)}}},aa=function(r){return function(e){return function(t){return function(){return r(e,t)}}}};var pi=yt(li);var um=yt(si),di=function(n){return function(r){return function(){var t=um(r)();return n(t)(),pi(t)()}}};var ua=aa(mi);var Ae=function(n){return function(r){return function(e){return n(r,e)}}},ia=function(n){return function(r){return function(e){return function(t){return n(r,e,t)}}}},Dt=function(n){return function(r){return function(e){return function(t){return function(a){return n(r,e,t,a)}}}}},fa=function(n){return function(r){return function(e){return function(t){return function(a){return function(o){return n(r,e,t,a,o)}}}}}};var gi=function(n){return function(r){return function(e){return function(t){return function(a){return function(o){for(var u=[],i=o;;){var f=a(i);if(n(f))return u;var _=r(f);u.push(e(_)),i=t(_)}}}}}}};var yi=function(n){return function(r){return function(e){return function(t){return function(a){return function(o){for(var u=[],i=o;;){var f=a(i);u.push(e(f));var _=t(f);if(n(_))return u;i=r(_)}}}}}}};var gm=Nr();var Di={unfoldr1:yi(re)(gm)(te)(ee)};var bm=Nr(),Ue=function(n){return n.unfoldr};var ca={unfoldr:gi(re)(bm)(te)(ee),Unfoldable10:function(){return Di}};var Cm=ia(ri);var Tt=function(){return Cm(Q.create)}();var Em=function(){return fa(ni)(c.create)(s.value)}();var qe=function(n){return function(r){return di(ua(r))(n)()}};var bi=Ae(Yu);var dr=function(){return Dt(Ku)(c.create)(s.value)}();var hi=function(n){return function(r){return function(e){var t=function(a){return Em(n)(r(a))(e)};return Dr(s.value)(t)(dr(e)(n))}}};var la=function(){return Dt(Zu)(c.create)(s.value)}();var Ci=Ae(ei);var Mm=Pr(yn)(tr),Fm=or(ar),xm=Te(to()(et({reflectSymbol:function(){return"x"}})()(et({reflectSymbol:function(){return"y"}})()(eo)(tt))(tt))),Im=Rr(hn)(yn);var sa=function(n){var r=n.Applicative0(),e=T(r),t=n.Bind1().Apply0().Functor0(),a=m(t),o=Fm(r),u=Mr(t),i=Un(u),f=Mn(u),_=An(r);return{position:function(l){return e(l.position)},translate:function(l){return function(v){return e({layers:v.layers,dragOffset:v.dragOffset,position:Er(l)(v.position)})}},containsPoint:function(l){return function(v){return a(Mm)(o(i(xm(l)(v.position)))(v.layers))}},draw:function(l){return function(v){return Fn(l)(function(){return Wo(l)({translateX:v.position.x,translateY:v.position.y})(),Im(function(){var U=Fn(l),E=f(l);return function(M){return U(E(M))}}())(He(v.layers))()})}},dragStart:function(l){return function(v){return e({layers:v.layers,position:v.position,dragOffset:new c(l)})}},drag:function(l){return function(v){return _(sa(n))(v.dragOffset)(l)(v)}},dragEnd:function(l){return e({layers:l.layers,position:l.position,dragOffset:s.value})}}},Ei=function(n){return{layers:n,position:{x:0,y:0},dragOffset:s.value}};var Oe=n=>n.width,Be=n=>n.height;var bt=n=>r=>()=>n.letterSpacing=r;var Mi=function(n){return function(r){return function(e){return function(t){return qo(n)(r)(e.x)(e.y)(t.width)(t.height)}}}};var ma=function(n){return{width:Oe(n),height:Be(n)}};var Sm=Pn(Kr()(gr({reflectSymbol:function(){return"scaleX"}})()(gr({reflectSymbol:function(){return"scaleY"}})()(Yr)(vr))(vr))),Nm=Kn(nr),Rm=m(vn);var xi=function(n){var r=T(n.Monad0().Applicative0());return{scale:function(e){return function(t){return r({image:t.image,position:t.position,composite:t.composite,dragOffset:t.dragOffset,scale:Sm(e)(t.scale)})}}}},ht=function(n){var r=n.Monad0(),e=r.Applicative0(),t=T(e),a=N(r.Bind1()),o=En(n),u=An(e);return{position:function(i){return t(i.position)},translate:function(i){return function(f){return t({image:f.image,scale:f.scale,composite:f.composite,dragOffset:f.dragOffset,position:Er(i)(f.position)})}},containsPoint:function(i){return function(f){return a(o(Ln(f.image)))(function(_){if(_ instanceof s)return t(!1);if(_ instanceof c)return t(f.position.x<=i.x&&i.x<=f.position.x+Oe(_.value0)*f.scale.scaleX&&f.position.y<=i.y&&i.y<=f.position.y+Be(_.value0)*f.scale.scaleY);throw new Error("Failed pattern match at Template.Layer.Image (line 74, column 5 - line 78, column 107): "+[_.constructor.name])})}},dragStart:function(i){return function(f){return t({image:f.image,position:f.position,scale:f.scale,composite:f.composite,dragOffset:new c(i)})}},drag:function(i){return function(f){return u(ht(n))(f.dragOffset)(i)(f)}},dragEnd:function(i){return t({image:i.image,position:i.position,scale:i.scale,composite:i.composite,dragOffset:s.value})},draw:function(i){return function(f){return function(){var l=Ln(f.image)();if(l instanceof s)return void 0;if(l instanceof c)return Fn(i)(function(){return Ou(i)(f.composite)(),Mi(i)(l.value0)(f.position)(zu(f.scale)(ma(l.value0)))()})();throw new Error("Failed pattern match at Template.Layer.Image (line 86, column 5 - line 91, column 78): "+[l.constructor.name])}}}}},Ii=function(n){return function(r){return{image:r.image,position:r.position,composite:r.composite,dragOffset:r.dragOffset,scale:n}}},pa=function(n){var r=En(n);return function(e){return function(t){return function(a){return function(o){return r(function(){var i=xr(s.value)();return Vo(e)(function(){var f=mn(ta)(i);return function(_){return f(k(_))}}())(),{image:i,position:t,scale:a,composite:o,dragOffset:s.value}})}}}}},Li=function(n){var r=En(n);return function(e){return function(t){return function(a){return r(function(){var u=xr(s.value)();return{image:u,position:e,scale:t,composite:a,dragOffset:s.value}})}}}},wi=function(n){var r=n.Monad0(),e=Nm(r.Bind1()),t=En(n),a=T(r.Applicative0());return function(o){return function(u){return e(t(Vo(o)(function(){var i=mn(ta)(u.image);return function(f){return i(k(f))}}())))(function(){return a(u)})}}},Si=function(n){return n.scale},Ni=function(n){var r=n.Monad0(),e=N(r.Bind1()),t=En(n),a=T(r.Applicative0());return function(o){return e(t(Ln(o.image)))(function(u){return a(Rm(ma)(u))})}};var Ir=function(n){return n.lift};var km=m(vn);var Et=function(n){return n},$r=function(n){return n};var ce={lift:function(n){var r=Lu(n)(c.create);return function(e){return Et(r(e))}}};var Jm=function(n){var r=m(n);return{map:function(e){return function(t){return r(km(e))(t)}}}},Gm=function(n){return{Applicative0:function(){return ke(n)},Bind1:function(){return qr(n)}}},qr=function(n){var r=N(n.Bind1()),e=T(n.Applicative0());return{bind:function(t){return function(a){return r(t)(function(o){if(o instanceof s)return e(s.value);if(o instanceof c){var u=a(o.value0);return u}throw new Error("Failed pattern match at Control.Monad.Maybe.Trans (line 55, column 11 - line 57, column 42): "+[o.constructor.name])})}},Apply0:function(){return Ri(n)}}},Ri=function(n){var r=Jm(n.Bind1().Apply0().Functor0());return{apply:xe(Gm(n)),Functor0:function(){return r}}},ke=function(n){return{pure:function(){var r=T(n.Applicative0());return function(e){return Et(r(c.create(e)))}}(),Apply0:function(){return Ri(n)}}};var le=function(n){var r=T(n.Applicative0());return function(e){return Et(r(e))}};var Vm=Ir(ce);var Pi=function(n){var r=N(qr(n)),e=le(n),t=Vm(n);return function(a){return function(o){return function(u){return r(e(dr(u)(a)))(function(i){return r(t(o(i)))(function(f){return e(hi(a)(k(f))(u))})})}}}};var _a=function(n){return Tt(bi(0)(Fr(n)))(n)};var zm=or(ar),jm=Pr(yn)(tr),Qm=Rr(hn)(yn),Xm=Ir(ce),Ym=V(Z);var Wi=function(n){var r=n.Applicative0(),e=n.Bind1().Apply0().Functor0(),t=Yt(e),a=zm(r),o=Mr(e),u=xn(o),i=m(e),f=Un(o),_=Mn(o),l=N(qr(n)),v=Xm(n),h=le(n),U=Wn(o),E=Pi(n),M=Bn(o),L=T(ke(n)),w=pr(o),un=kn(o);return{position:k(T(r)({x:0,y:0})),translate:function(S){return function(B){return t(a(u(S))(B.layers))(function(Tn){return{dragIndex:B.dragIndex,layers:Tn}})}},containsPoint:function(S){return function(B){return i(jm)(a(f(S))(B.layers))}},draw:function(S){return function(B){return Qm(function(){var Tn=Fn(S),sn=_(S);return function(_r){return Tn(sn(_r))}}())(He(B.layers))}},dragStart:function(S){return function(B){return i(jn(B))($r(l(v(a(f({x:S.offsetX,y:S.offsetY}))(B.layers)))(function(Tn){return l(h(la(Ym)(Tn)))(function(sn){return l(h(dr(B.layers)(sn)))(function(_r){return l(v(U(_r)))(function(zr){return l(E(sn)(M({offsetX:S.offsetX-zr.x,offsetY:S.offsetY-zr.y}))(B.layers))(function(zt){return L({dragIndex:new c(sn),layers:zt})})})})})})))}},drag:function(S){return function(B){return i(jn(B))($r(l(h(B.dragIndex))(function(Tn){return l(h(dr(B.layers)(Tn)))(function(sn){return l(v(U(sn)))(function(_r){return l(E(Tn)(w({translateX:S.translateX-_r.x,translateY:S.translateY-_r.y}))(B.layers))(function(zr){return L({dragIndex:B.dragIndex,layers:zr})})})})})))}},dragEnd:function(S){return i(jn({layers:S.layers,dragIndex:s.value}))($r(l(h(S.dragIndex))(function(B){return l(E(B)(un)(S.layers))(function(Tn){return L({dragIndex:s.value,layers:Tn})})})))}}},Ai=function(n){return{layers:n,dragIndex:s.value}};var va=function(n){var r=T(n),e=An(n);return{position:function(t){return r({x:t.rect.x,y:t.rect.y})},translate:function(t){return function(a){return r({fillStyle:a.fillStyle,dragOffset:a.dragOffset,rect:{width:a.rect.width,height:a.rect.height,x:a.rect.x+t.translateX,y:a.rect.y+t.translateY}})}},containsPoint:function(t){return function(a){return r(a.rect.x<=t.x&&t.x<=a.rect.x+a.rect.width&&a.rect.y<=t.y&&t.y<=a.rect.y+a.rect.height)}},draw:function(t){return function(a){return function(){return hr(t)(a.fillStyle)(),ku(t)(Po(t)(a.rect))()}}},dragStart:function(t){return function(a){return r({rect:a.rect,fillStyle:a.fillStyle,dragOffset:new c(t)})}},drag:function(t){return function(a){return e(va(n))(a.dragOffset)(t)(a)}},dragEnd:function(t){return r({rect:t.rect,fillStyle:t.fillStyle,dragOffset:s.value})}}},Ui=function(n){return function(r){return{rect:n,fillStyle:r,dragOffset:s.value}}};var np=Kn(nr),ga=function(n){var r=n.Monad0(),e=r.Bind1(),t=N(e),a=En(n),o=np(e),u=T(r.Applicative0());return function(i){return function(f){return t(a(Ln(f)))(function(_){return t(i(_))(function(l){return o(a(fe(l)(f)))(function(){return u(l)})})})}}},$i=function(n){var r=Sr(n.Monad0().Bind1().Apply0().Functor0()),e=ga(n);return function(t){return function(a){return r(void 0)(e(t)(a))}}};var ep=Zn(br),tp=function(n){return n};var Je=function(n){var r=n.Monad0().Bind1(),e=Zn(r),t=En(n),a=Sr(r.Apply0().Functor0()),o=ga(n);return function(u){var i=Wn(u),f=xn(u),_=Un(u),l=Bn(u),v=pr(u),h=kn(u),U=Mn(u);return{position:function(E){return e(i)(t(Ln(E)))},translate:function(E){return function(M){return a(M)(o(f(E))(M))}},containsPoint:function(E){return function(M){return e(_(E))(t(Ln(M)))}},dragStart:function(E){return function(M){return a(M)(o(l(E))(M))}},drag:function(E){return function(M){return a(M)(o(v(E))(M))}},dragEnd:function(E){return a(E)(o(h)(E))},draw:function(E){return function(M){return ep(U(E))(Ln(M))}}}}};var qi=function(n){var r=$i(n);return function(e){return function(t){return r(e)(t)}}};var op=function(n){var r=En(n);return function(e){return function(t){return r(ea(e)(t))}}},Oi=function(n){var r=Sr(n.Monad0().Bind1().Apply0().Functor0()),e=op(n);return function(t){return function(a){return r(void 0)(e(t)(a))}}},Ft=function(n){var r=m(n.Monad0().Bind1().Apply0().Functor0()),e=En(n);return function(t){return r(tp)(e(xr(t)))}};var nn=function(n){return n};function ki(n){return n.split(/\r\n|[\n\v\f\r\u0085\u2028\u2029]/)}function Ji(n){return n.split(/[\u000a-\u000d\u0085\u2028\u2029\u0009\u0020\u00a0\u1680\u2000-\u200a\u202f\u205f\u3000]+/)}var OC=typeof Array.from=="function",BC=typeof Symbol<"u"&&Symbol!=null&&typeof Symbol.iterator<"u"&&typeof String.prototype[Symbol.iterator]=="function",kC=typeof String.prototype.fromCodePoint=="function",JC=typeof String.prototype.codePointAt=="function";var Ki=function(n){return Ji(n)};var wt=function(n){return ki(n)};var St=n=>r=>()=>n.measureText(r);var Nt=or(ar)(hn),Lp=Me(yn),wp=m($n),ef=m(F),Sp=Eo(ao)(yn),Zi=G(tu),Np=Co(hn)(yn),Rp=m(vn);var se=function(n){return function(r){return{position:r.position,maxWidth:r.maxWidth,fillStyle:r.fillStyle,fontName:r.fontName,fontSize:r.fontSize,fontStyle:r.fontStyle,fontWeight:r.fontWeight,align:r.align,baseline:r.baseline,lineHeight:r.lineHeight,letterSpacing:r.letterSpacing,dragOffset:r.dragOffset,context:r.context,text:n}}},tf=function(n){return function(r){return{text:r.text,position:r.position,maxWidth:r.maxWidth,fillStyle:r.fillStyle,fontName:r.fontName,fontStyle:r.fontStyle,fontWeight:r.fontWeight,align:r.align,baseline:r.baseline,lineHeight:r.lineHeight,letterSpacing:r.letterSpacing,dragOffset:r.dragOffset,context:r.context,fontSize:n}}},ba=function(n){return function(r){return function(){var t=St(n)(r)();return t.width}}},Pp=function(n){return function(r){return function(e){var t=Ki(e);return function(){var o=Nt(ba(n))(t)(),u=ba(n)(" ")(),i=function(l){return function(v){if(l.value1.value0.length===0)return new Q(l.value0,new Q([v.value0],v.value1));var h=l.value1.value1+u+v.value1>r;return h?new Q(qe(l.value0)(l.value1.value0),new Q([v.value0],v.value1)):new Q(l.value0,new Q(qe(l.value1.value0)(v.value0),l.value1.value1+u+v.value1))}},f=Lp(i)(new Q([],new Q([],0)))(Tt(t)(o)),_=wp(oe(" "))(f.value0);return f.value1.value0.length===0?_:qe(_)(oe(" ")(f.value1.value0))}}}},nf=function(n){return function(r){return function(e){return ef(ra)(Nt(Pp(n)(r))(wt(e)))}}},Hp=function(n){return function(r){return function(){var t=St(n)(r)();return t.actualBoundingBoxAscent+t.actualBoundingBoxDescent}}};var rf=function(n){return function(r){return ef(function(){var e=jn(0);return function(t){return e(Sp(t))}}())(Nt(Hp(n))(r))}},Rt=function(n){var r=n.Monad0().Applicative0(),e=T(r),t=En(n),a=An(r);return{position:function(o){return e(o.position)},translate:function(o){return function(u){return e({text:u.text,maxWidth:u.maxWidth,fillStyle:u.fillStyle,fontName:u.fontName,fontSize:u.fontSize,fontStyle:u.fontStyle,fontWeight:u.fontWeight,align:u.align,baseline:u.baseline,lineHeight:u.lineHeight,letterSpacing:u.letterSpacing,dragOffset:u.dragOffset,context:u.context,position:Er(o)(u.position)})}},containsPoint:function(o){return function(u){return t(Fn(u.context)(function(){hr(u.context)(u.fillStyle)(),mt(u.context)(u.fontStyle+(" "+(u.fontWeight+(" "+(Zi(u.fontSize)+("px "+u.fontName))))))(),zo(u.context)(u.baseline)(),jo(u.context)(u.align)(),bt(u.context)(u.letterSpacing)();var f=function(){if(u.maxWidth instanceof c)return nf(u.context)(u.maxWidth.value0)(u.text)();if(u.maxWidth instanceof s)return wt(u.text);throw new Error("Failed pattern match at Template.Layer.Text (line 66, column 14 - line 68, column 44): "+[u.maxWidth.constructor.name])}(),_=Nt(ba(u.context))(f)(),l=rf(u.context)(f)();return mn(Ci)(_a(_))(function(v){var h=function(){return u.baseline instanceof sr?u.position.y+l*u.lineHeight*nn(v.value0):u.baseline instanceof ue?u.position.y-l-nn((Fr(f)-v.value0|0)-1|0)*l*u.lineHeight:u.position.y+l*u.lineHeight*nn(v.value0)}();if(u.align instanceof Jo||u.align instanceof Cr)return u.position.x<=o.x&&o.x<=u.position.x+v.value1&&h<=o.y&&o.y<=h+l;if(u.align instanceof Go||u.align instanceof Pe)return u.position.x-v.value1<=o.x&&o.x<=u.position.x&&h<=o.y&&o.y<=h+l;if(u.align instanceof ko)return u.position.x-v.value1/2<=o.x&&o.x<=u.position.x+v.value1/2&&h<=o.y&&o.y<=h+l;throw new Error("Failed pattern match at Template.Layer.Text (line 79, column 7 - line 89, column 65): "+[u.align.constructor.name])})}))}},dragStart:function(o){return function(u){return e({text:u.text,position:u.position,maxWidth:u.maxWidth,fillStyle:u.fillStyle,fontName:u.fontName,fontSize:u.fontSize,fontStyle:u.fontStyle,fontWeight:u.fontWeight,align:u.align,baseline:u.baseline,lineHeight:u.lineHeight,letterSpacing:u.letterSpacing,context:u.context,dragOffset:new c(o)})}},drag:function(o){return function(u){return a(Rt(n))(u.dragOffset)(o)(u)}},dragEnd:function(o){return e({text:o.text,position:o.position,maxWidth:o.maxWidth,fillStyle:o.fillStyle,fontName:o.fontName,fontSize:o.fontSize,fontStyle:o.fontStyle,fontWeight:o.fontWeight,align:o.align,baseline:o.baseline,lineHeight:o.lineHeight,letterSpacing:o.letterSpacing,context:o.context,dragOffset:s.value})},draw:function(o){return function(u){return Fn(o)(function(){hr(o)(u.fillStyle)(),mt(o)(u.fontStyle+(" "+(u.fontWeight+(" "+(Zi(u.fontSize)+("px "+u.fontName))))))(),zo(o)(u.baseline)(),jo(o)(u.align)(),bt(o)(u.letterSpacing)();var f=function(){if(u.maxWidth instanceof c)return nf(o)(u.maxWidth.value0)(u.text)();if(u.maxWidth instanceof s)return wt(u.text);throw new Error("Failed pattern match at Template.Layer.Text (line 102, column 14 - line 104, column 44): "+[u.maxWidth.constructor.name])}(),_=rf(o)(f)();return Np(_a(f))(function(l){var v=function(){return u.baseline instanceof sr?u.position.y+nn(l.value0)*_*u.lineHeight:u.baseline instanceof ue?u.position.y-nn((Fr(f)-l.value0|0)-1|0)*_*u.lineHeight:u.position.y+nn(l.value0)*_*u.lineHeight}();return Ao(o)(l.value1)(u.position.x)(v)})()})}}}},ha=function(n){return function(r){return{text:r.text,position:r.position,fillStyle:r.fillStyle,fontName:r.fontName,fontSize:r.fontSize,fontStyle:r.fontStyle,fontWeight:r.fontWeight,align:r.align,baseline:r.baseline,lineHeight:r.lineHeight,letterSpacing:r.letterSpacing,dragOffset:r.dragOffset,context:r.context,maxWidth:Rp(n)(r.maxWidth)}}};var af=function(n){return n};var uf=function(n){return n},Wp={mapLayerWrapper:function(n){return function(r){var e=m(r.Bind1().Apply0().Functor0());return function(t){return function(a){return e(af)(t(a))}}}}},Ap=Zo(Wp);var Up={mapLayerWrapper:function(n){return function(r){var e=m(r.Bind1().Apply0().Functor0());return function(t){return function(a){return e(uf)(t(a))}}}}},$p=Zo(Up);var ff=function(n){return function(r){var e=Wn(r),t=Ap(r)(n),a=Un(r),o=Bn(r),u=pr(r),i=Mn(r);return{position:function(f){return e(f)},translate:function(){var f=xn(r);return function(_){return t(f(_))}}(),containsPoint:function(f){return function(_){return a(f)(_)}},dragStart:function(f){return t(o({offsetX:f.offsetX,offsetY:0}))},drag:function(f){return t(u({translateX:f.translateX,translateY:0}))},dragEnd:t(kn(r)),draw:function(f){return function(_){return i(f)(_)}}}}};var cf=function(n){var r=T(n.Applicative0());return function(e){var t=Wn(e),a=Un(e),o=Mn(e);return{position:function(u){return t(u)},translate:function(){var u=$p(e)(n),i=xn(e);return function(f){return u(i(f))}}(),containsPoint:function(u){return function(i){return a(u)(i)}},dragStart:k(r),drag:k(r),dragEnd:r,draw:function(u){return function(i){return o(u)(i)}}}}};var lf=af;var Pt=uf;function Ht(n,r){var e={};for(var t in r)({}).hasOwnProperty.call(r,t)&&(e[t]=r[t]);for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e}var sf=function(){return function(){return function(n){return function(r){return Ht(n,r)}}}};var Or=function(n){return function(r){return function(){return r[n]}}},Jp=Or("URL"),Gp=Or("documentURI"),Vp=Or("origin"),zp=Or("compatMode"),jp=Or("characterSet"),Qp=Or("contentType");var Xp=Or("documentElement");function Wt(n){return function(r){return function(){return r.createElement(n)}}}function mf(n,r,e){return n==null?r:e(n)}var R=function(n){return mf(n,s.value,c.create)};function pf(n,r,e,t){if(typeof window<"u"){var a=window[e];if(a!=null&&t instanceof a)return r(t)}for(var o=t;o!=null;){var u=Object.getPrototypeOf(o),i=u.constructor.name;if(i===e)return r(t);if(i==="Object")return n;o=u}return n}var g=function(n){return function(r){return pf(s.value,c.create,n,r)}};var At=function(n){return function(r){return r[n]}},td=At("namespaceURI"),od=At("prefix"),ad=At("localName"),ud=At("tagName");function Ge(n){return function(r){return function(e){return function(){e.setAttribute(n,r)}}}}function Ca(n){return function(){var r=n.getBoundingClientRect();return{top:r.top,right:r.right,bottom:r.bottom,left:r.left,width:r.width,height:r.height,x:r.x,y:r.y}}}var Ut=function(n){return function(r){return function(){return r[n]}}},fd=Ut("children"),cd=Ut("firstElementChild"),ld=Ut("lastElementChild"),sd=Ut("childElementCount");var vf=p,Jn=p;var Xn=function(n){return function(r){return function(){return r[n]}}};var vd=Xn("baseURI"),gd=Xn("ownerDocument"),yd=Xn("parentNode"),Dd=Xn("parentElement");var Td=Xn("childNodes"),bd=Xn("firstChild"),hd=Xn("lastChild"),Cd=Xn("previousSibling"),Ed=Xn("nextSibling"),Md=Xn("nodeValue");var Fd=Xn("textContent");function Ea(n){return function(r){return function(){r.appendChild(n)}}}function gf(n){return function(r){return function(){return r.getElementById(n)}}}var Nd=m(F),Br=function(n){var r=Nd(R),e=gf(n);return function(t){return r(e(t))}};function wn(n){return function(){return function(r){return n(r)()}}}function Sn(n){return function(r){return function(e){return function(t){return function(){return t.addEventListener(n,r,e)}}}}}var yf=p;function Df(n){return function(r){return r.item(n)}}var Od=m(vn),Bd=function(n){var r=Df(n);return function(e){return R(r(e))}},Tf=function(n){var r=Ue(n);return function(e){return r(function(t){return Od(mn(Q.create)(t+1|0))(Bd(t)(e))})(0)}};function Ma(n){return function(){return URL.createObjectURL(n)}}var Fa=function(){return window};function bf(n){return n.body}var Xd=m(F);var kr=p;var hf=p,xa=p;var Cf=function(n){return Xd(R)(function(){return bf(n)})};function Ef(n,r,e){var t=Object.prototype.toString.call(e);return t.indexOf("[object HTML")===0&&t.indexOf("Element]")===t.length-8?r(e):n}function Ia(n){return function(){return n.click()}}function La(n){return function(){return n.offsetWidth}}function wa(n){return function(){return n.offsetHeight}}var Mf=p;var Ff=p;var Sa=function(n){return Ef(s.value,c.create,n)};function Lf(n){return function(){return n.files}}function me(n){return function(){return n.value}}var I_=m(F);var $t=g("HTMLInputElement");var Na=function(){var n=I_(R);return function(r){return n(Lf(r))}}();function qt(n){return function(){return n.value}}var Sf=g("HTMLTextAreaElement");function Ra(n){return function(){return n.document}}function Ve(n){return n.clientX}function ze(n){return n.clientY}function je(n){return n.touches}var Ot=g("TouchEvent");function Nf(n,r){return r.item(n)}var Bt=function(n){return function(r){return R(Nf(n,r))}};function Qe(n){return n.clientX}function Xe(n){return n.clientY}var kt=g("MouseEvent");var Yn=T(hn),tv=Kn(nr),Ye=Je(Cn)(Mr(F)),ov=Mn(Ye),de=Wn(Ye),Rf=Bn(Ye),Gt=pr(Ye),Pf=kn(Ye),Ha=qr(Dn),pe=N(Ha),Pa=Zn(Ha),Jt=le(Dn),Jr=Ir(ce)(Dn),Hf=tv(Ha),Wf=Zn(br),Af=T(ke(Dn)),av=Ft(Cn),uv=sf()(),Gr=qi(Cn),iv=Tf(ca),_e=function(n){return function(r){return function(e){return function(){var a=Ca(Ff(r))(),o=La(r)(),u=wa(r)(),i=Le(n)(),f=we(n)();return{x:(e.x-a.left)*i/o,y:(e.y-a.top)*f/u}}}}},Gn=function(n){return function(){var e=ae(n.canvas)(),t=Bu(n.canvas)();return Ho(e)({x:0,y:0,width:t.width,height:t.height})(),Fn(e)(ov(e)(n.layer))()}},fv=function(n){return wn(function(r){var e=Ot(r);if(e instanceof s)return Yn(void 0);if(e instanceof c){var t=Bt(0)(je(e.value0));if(t instanceof s)return Gn(n);if(t instanceof c)return function(){var o=de(n.layer)(),u=_e(n.canvas)(n.canvasHtmlElement)({x:nn(Ve(t.value0)),y:nn(ze(t.value0))})(),i={offsetX:u.x-o.x,offsetY:u.y-o.y};return Rf(i)(n.layer)(),Gn(n)()};throw new Error("Failed pattern match at Template.Main (line 190, column 24 - line 200, column 24): "+[t.constructor.name])}throw new Error("Failed pattern match at Template.Main (line 188, column 63 - line 200, column 24): "+[e.constructor.name])})},cv=function(n){return wn(function(r){var e=Ot(r);if(e instanceof s)return Yn(void 0);if(e instanceof c){var t=Bt(0)(je(e.value0));if(t instanceof s)return Gn(n);if(t instanceof c)return function(){var o=de(n.layer)(),u=_e(n.canvas)(n.canvasHtmlElement)({x:nn(Ve(t.value0)),y:nn(ze(t.value0))})(),i={translateX:u.x-o.x,translateY:u.y-o.y};return Gt(i)(n.layer)(),Gn(n)()};throw new Error("Failed pattern match at Template.Main (line 218, column 24 - line 228, column 24): "+[t.constructor.name])}throw new Error("Failed pattern match at Template.Main (line 216, column 62 - line 228, column 24): "+[e.constructor.name])})},lv=function(n){return wn(function(r){var e=Ot(r);if(e instanceof s)return Yn(void 0);if(e instanceof c){var t=Bt(0)(je(e.value0));if(t instanceof s)return Gn(n);if(t instanceof c)return function(){var o=de(n.layer)(),u=_e(n.canvas)(n.canvasHtmlElement)({x:nn(Ve(t.value0)),y:nn(ze(t.value0))})(),i={translateX:u.x-o.x,translateY:u.y-o.y};return Gt(i)(n.layer)(),Pf(n.layer)(),Gn(n)()};throw new Error("Failed pattern match at Template.Main (line 247, column 24 - line 258, column 24): "+[t.constructor.name])}throw new Error("Failed pattern match at Template.Main (line 245, column 61 - line 258, column 24): "+[e.constructor.name])})},Uf=function(n){return function(r){return $r(pe(Pa(Jt)(Jr(Xo(n))))(function(e){return Hf(Jr(Qo(e)(r)))(function(){return pe(Jr(Wf(Ra)(Fa)))(function(t){return pe(Pa(Jt)(Jr(Br("canvas")(kr(t)))))(function(a){return pe(Jt(Sa(a)))(function(o){return Af({canvas:e,canvasElement:a,canvasHtmlElement:o,document:t})})})})})}))}},$f=function(n){var r=In(n);return function(e){return function(t){return function(){var o=av(r(t))();return uv(e)({layer:o})}}}},sv=function(n){return wn(function(r){var e=kt(r);if(e instanceof s)return Yn(void 0);if(e instanceof c)return function(){var a=de(n.layer)(),o=_e(n.canvas)(n.canvasHtmlElement)({x:nn(Qe(e.value0)),y:nn(Xe(e.value0))})(),u={translateX:o.x-a.x,translateY:o.y-a.y};return Gt(u)(n.layer)(),Pf(n.layer)(),Gn(n)()};throw new Error("Failed pattern match at Template.Main (line 231, column 60 - line 242, column 22): "+[e.constructor.name])})},mv=function(n){return wn(function(r){var e=kt(r);if(e instanceof s)return Yn(void 0);if(e instanceof c)return function(){var a=de(n.layer)(),o=_e(n.canvas)(n.canvasHtmlElement)({x:nn(Qe(e.value0)),y:nn(Xe(e.value0))})(),u={translateX:o.x-a.x,translateY:o.y-a.y};return Gt(u)(n.layer)(),Gn(n)()};throw new Error("Failed pattern match at Template.Main (line 203, column 62 - line 213, column 22): "+[e.constructor.name])})},pv=function(n){return wn(function(r){var e=kt(r);if(e instanceof s)return Yn(void 0);if(e instanceof c)return function(){var a=de(n.layer)(),o=_e(n.canvas)(n.canvasHtmlElement)({x:nn(Qe(e.value0)),y:nn(Xe(e.value0))})(),u={offsetX:o.x-a.x,offsetY:o.y-a.y};return Rf(u)(n.layer)(),Gn(n)()};throw new Error("Failed pattern match at Template.Main (line 175, column 62 - line 185, column 22): "+[e.constructor.name])})},dv=function(n){return wn(function(r){return Gn(n)})},Wa=function(n){return function(r){return function(e){return function(t){return $r(function(){var a=kr(t.document);return pe(Pa(Jt)(Jr(Br(n)(a))))(function(o){return pe(Jr(wn(function(u){return function(){var f=Wt("canvas")(xa(t.document))();Ge("id")("hidden-clip-canvas")(f)();var _=Cf(t.document)();if(_ instanceof c){Ea(vf(f))(Mf(_.value0))();var l=Xo("hidden-clip-canvas")();if(l instanceof c){Qo(l.value0)({width:e.width,height:e.height})();var v=ae(l.value0)(),h=t.canvas;Oo(v)(h)(e.x)(e.y)(e.width)(e.height)(0)(0)(e.width)(e.height)();var U=So(l.value0)(),E=Wt("a")(xa(t.document))();Ge("href")(U)(E)(),Ge("download")(r)(E)();var M=Sa(E);if(M instanceof c)return Ia(M.value0)();throw new Error("Failed pattern match at Template.Main (line 170, column 9 - line 170, column 53): "+[M.constructor.name])}throw new Error("Failed pattern match at Template.Main (line 159, column 5 - line 159, column 64): "+[l.constructor.name])}throw new Error("Failed pattern match at Template.Main (line 156, column 5 - line 156, column 53): "+[_.constructor.name])}})))(function(u){return Hf(Jr(Sn("click")(u)(!1)(Jn(o))))(function(){return Af(o)})})})}())}}}};var _v=function(n){return function(r){return function(e){return function(t){return function(){var o=Br(r)(kr(n.document))();if(o instanceof c){var u=Sf(o.value0);if(u instanceof c){var i=qt(u.value0)();Gr(t(i))(e)();var f=wn(function(_){return function(){var v=qt(u.value0)();return Gr(t(v))(e)()}})();return Sn("input")(f)(!1)(Jn(o.value0))()}throw new Error("Failed pattern match at Template.Main (line 294, column 7 - line 294, column 55): "+[u.constructor.name])}throw new Error("Failed pattern match at Template.Main (line 293, column 3 - line 293, column 79): "+[o.constructor.name])}}}}},Vt=function(n){return function(r){return function(e){return function(t){return _v(n)(r)(e)(function(a){return function(o){return function(u){return Yn(o(u))}}(t(a))})}}}},qf=function(n){return function(r){return function(e){return function(t){return function(){var o=Br(r)(kr(n.document))();if(o instanceof c){var u=$t(o.value0);if(u instanceof c){var i=me(u.value0)();(function(){var _=Yo(i);if(_ instanceof c)return Gr(t(_.value0))(e)();if(_ instanceof s)return void 0;throw new Error("Failed pattern match at Template.Main (line 313, column 3 - line 315, column 25): "+[_.constructor.name])})();var f=wn(function(_){return function(){var v=me(u.value0)(),h=Yo(v);if(h instanceof c)return Gr(t(h.value0))(e)();if(h instanceof s)return void 0;throw new Error("Failed pattern match at Template.Main (line 319, column 5 - line 321, column 27): "+[h.constructor.name])}})();return Sn("input")(f)(!1)(Jn(o.value0))()}throw new Error("Failed pattern match at Template.Main (line 310, column 7 - line 310, column 52): "+[u.constructor.name])}throw new Error("Failed pattern match at Template.Main (line 309, column 3 - line 309, column 79): "+[o.constructor.name])}}}}},vv=function(n){return function(r){return function(e){return function(t){return qf(n)(r)(e)(function(a){return function(o){return function(u){return Yn(o(u))}}(t(a))})}}}},Aa=function(n){return function(r){return function(e){return vv(n)(r)(e)(tf)}}},Of=function(n){var r=ju(n);return function(e){return function(t){return function(a){return function(){var u=xr(1)();return qf(e)(t)(a)(function(i){return function(f){return function(){var l=Ln(u)();return fe(i)(u)(),r(i/l)(f)()}}})()}}}}},gv=function(n){return function(r){return function(e){return function(t){return function(){var o=Br(r)(kr(n.document))();if(o instanceof c){var u=$t(o.value0);if(u instanceof c){var i=me(u.value0)();Gr(t(i))(e)();var f=wn(function(_){return function(){var v=me(u.value0)();return Gr(t(v))(e)()}})();return Sn("input")(f)(!1)(Jn(o.value0))()}throw new Error("Failed pattern match at Template.Main (line 278, column 7 - line 278, column 52): "+[u.constructor.name])}throw new Error("Failed pattern match at Template.Main (line 277, column 3 - line 277, column 79): "+[o.constructor.name])}}}}},Ua=function(n){return function(r){return function(e){return function(t){return gv(n)(r)(e)(function(a){return function(o){return function(u){return Yn(o(u))}}(t(a))})}}}},yv=function(n){return function(r){return function(e){return function(t){return function(){var o=Br(r)(kr(n.document))();if(o instanceof c){var u=$t(o.value0);if(u instanceof c){var i=function(l){if(l instanceof s)return Yn(void 0);if(l instanceof c){var v=dr(iv(l.value0))(0);if(v instanceof s)return Yn(void 0);if(v instanceof c)return Gr(t(v.value0))(e);throw new Error("Failed pattern match at Template.Main (line 345, column 26 - line 347, column 56): "+[v.constructor.name])}throw new Error("Failed pattern match at Template.Main (line 343, column 28 - line 347, column 56): "+[l.constructor.name])},f=Na(u.value0)();i(f)();var _=wn(function(l){return Wf(i)(Na(u.value0))})();return Sn("change")(_)(!1)(Jn(o.value0))()}throw new Error("Failed pattern match at Template.Main (line 341, column 7 - line 341, column 52): "+[u.constructor.name])}throw new Error("Failed pattern match at Template.Main (line 340, column 3 - line 340, column 79): "+[o.constructor.name])}}}}};var Dv=function(n){return function(r){return function(e){return function(t){return yv(n)(r)(e)(function(a){return t(yf(a))})}}}};var Bf=function(n){return function(r){return function(e){return function(t){return Dv(n)(r)(e)(function(a){return function(o){return function(){var i=Ma(a)();return t(i)(o)()}}})}}}},kf=function(n){return function(){var e=pv(n)(),t=mv(n)(),a=sv(n)(),o=fv(n)(),u=cv(n)(),i=lv(n)(),f=dv(n)();return Sn("mousedown")(e)(!1)(Jn(n.canvasElement))(),Sn("mousemove")(t)(!1)(Jn(n.canvasElement))(),Sn("mouseup")(a)(!1)(Jn(n.canvasElement))(),Sn("touchstart")(o)(!1)(Jn(n.canvasElement))(),Sn("touchmove")(u)(!1)(Jn(n.canvasElement))(),Sn("touchend")(i)(!1)(Jn(n.canvasElement))(),Sn("input")(f)(!1)(hf(n.document))()}};var bv=Kn(nr),hv=Pr(yn)(tr),jf=or(ar),Qf=dn(F),Cv=jf(hn),Ev=Zn(br),ve=Ft(Cn),Mv=Li(Cn),Fv=wi(Cn),xv=Of(xi(Cn)),Jf=pa(Cn),Xf=Je(Cn),Gf=In(Xf(Rt(Cn))),Yf=cf(Dn),Kf=ht(Cn),Vf=In(Yf(Kf)),Iv=In(sa(Dn)),Lv=In(Xf(Kf)),wv=In(Yf(va(hn))),Sv=$f(Wi(Dn));var Zf=function(n){var r=ht(n),e=Wn(r),t=n.Monad0(),a=t.Bind1(),o=N(a),u=m(a.Apply0().Functor0()),i=Ni(n),f=xn(r),_=t.Applicative0(),l=T(_),v=Un(r),h=Mn(r),U=Bn(r),E=An(_),M=kn(r);return{position:function(L){return e(L.guillotine)},translate:function(L){return function(w){return o(u(function(un){return function(S){return S+L.translateX}(function(S){return S.x}(un))})(e(w.guillotine)))(function(un){return o(i(w.guillotine))(function(S){var B=Si(w.guillotine).scaleY,Tn=function(){return S instanceof c&&S.value0.width!==0?Ii({scaleX:(w.xMax-un)/S.value0.width,scaleY:B})(w.guillotine):w.guillotine}();return o(f(L)(Tn))(function(sn){return l({xMax:w.xMax,guillotine:sn})})})})}},containsPoint:function(L){return function(w){return v(L)(w.guillotine)}},draw:function(L){return function(w){return h(L)(w.guillotine)}},dragStart:function(L){return function(w){return o(U(L)(w.guillotine))(function(un){return l({xMax:w.xMax,guillotine:un})})}},drag:function(L){return function(w){return E(Zf(n))(w.guillotine.dragOffset)(L)(w)}},dragEnd:function(L){return o(M(L.guillotine))(function(w){return l({xMax:L.xMax,guillotine:w})})}}},nc=function(n){var r=n.Monad0(),e=na(r),t=Wn(e),a=r.Bind1(),o=N(a),u=xn(e),i=Zf(n),f=xn(i),_=Je(n)(Rt(n)),l=xn(_),v=bv(a),h=Oi(n),U=r.Applicative0(),E=T(U),M=a.Apply0().Functor0(),L=m(M),w=jf(U),un=Mr(M),S=Un(un),B=In(e),Tn=In(i),sn=In(_),_r=Mn(un),zr=Bn(e),zt=An(U),ec=kn(e);return{position:function(rn){return t(rn.overlayBackground)},translate:function(rn){return function(P){return o(u(rn)(P.overlayBackground))(function(jt){return o(f(rn)(P.guillotine))(function(tc){return o(l(rn)(P.author))(function(oc){return o(l(rn)(P.title))(function($a){return v(h(ha(function(Qt){return Qt-rn.translateX}))($a))(function(){return v(h(ha(function(Qt){return Qt-rn.translateX}))(P.bodyText))(function(){return E({overlayBackground:jt,guillotine:tc,author:oc,bodyText:P.bodyText,title:$a})})})})})})})}},containsPoint:function(rn){return function(P){return L(hv)(w(S(rn))([B(P.overlayBackground),Tn(P.guillotine),sn(P.bodyText),sn(P.author),sn(P.title)]))}},draw:function(rn){return function(P){return Qf(Cv(_r(rn))([B(P.overlayBackground),Tn(P.guillotine),sn(P.bodyText),sn(P.author),sn(P.title)]))}},dragStart:function(rn){return function(P){return o(zr(rn)(P.overlayBackground))(function(jt){return E({guillotine:P.guillotine,bodyText:P.bodyText,author:P.author,title:P.title,overlayBackground:jt})})}},drag:function(rn){return function(P){return zt(nc(n))(P.overlayBackground.dragOffset)(rn)(P)}},dragEnd:function(rn){return o(ec(rn.overlayBackground))(function(P){return E({guillotine:rn.guillotine,bodyText:rn.bodyText,author:rn.author,title:rn.title,overlayBackground:P})})}}},Nv=In(ff(Dn)(nc(Cn))),O=2,zf={scaleX:O,scaleY:O},Rv=function(n){var r=n.Monad0(),e=N(r.Bind1()),t=pa(n),a=T(r.Applicative0());return function(o){return function(u){return function(i){return function(f){return e(t(o)(u)(i)(ie.value))(function(_){return a({guillotine:_,xMax:f})})}}}}},Pv=Rv(Cn),Hv=function(){return{width:1080,height:1080*5/4}}(),Ke=function(){return Pn(Kr()(gr({reflectSymbol:function(){return"height"}})()(gr({reflectSymbol:function(){return"width"}})()(Yr)(vr))(vr)))({width:2*O,height:O})(Hv)}(),Vr=function(){return Ke.height}(),ln=function(){return Ke.width}(),rc=Qf(function(){var r=Uf("canvas")(Ke)();if(r instanceof c){var e=ae(r.value0.canvas)(),t=Ev(ve)(Mv({x:0,y:0})({scaleX:1,scaleY:1})(ie.value))();Bf(r.value0)("image")(t)(Fv)(),xv(r.value0)("image-size")(t)();var a=Pv("./img/guillotine2x.png")({x:ln/2+285*O,y:60*O})({scaleX:(ln-180*O-(ln/2+285*O))/1560,scaleY:1})(ln-180*O)(),o=Jf("./img/jacobinlogo.svg")({x:ln-120*O,y:Vr-200*O})(zf)(ie.value)(),u=Jf("./img/jacobinlogowit.svg")({x:ln/2-120*O,y:Vr-200*O})(zf)(ie.value)(),i=ve({text:"Broodtekst",lineHeight:.95,position:{x:ln-O*60,y:O*150},fillStyle:"#f00",fontName:"Oswald",fontStyle:"normal",fontWeight:"500",fontSize:180,align:Pe.value,baseline:sr.value,letterSpacing:"-3px",dragOffset:s.value,maxWidth:new c(ln/2-2*60*O),context:e})();Vt(r.value0)("bodytext")(i)(se)(),Aa(r.value0)("bodytext-size")(i)();var f={x:60*O,y:800*O},_=ve({text:"Titel",lineHeight:.9,position:f,maxWidth:new c(ln/2-2*60*O),fillStyle:"#fff",fontName:"Oswald",fontStyle:"normal",fontWeight:"700",fontSize:2*100,align:Cr.value,baseline:ue.value,letterSpacing:"-2px",dragOffset:s.value,context:e})();Vt(r.value0)("title")(_)(se)(),Aa(r.value0)("title-size")(_)();var l=ve({text:"AUTEUR",lineHeight:.95,position:f,fillStyle:"#fff",fontName:"Oswald",fontStyle:"normal",fontWeight:"500",fontSize:O*50,align:Cr.value,baseline:sr.value,letterSpacing:"-3px",dragOffset:s.value,maxWidth:s.value,context:e})();Ua(r.value0)("author")(l)(se)();var v=Ei([Gf(_),Gf(l)]),h=ve({text:"AUTEUR",lineHeight:.95,position:{x:ln/2+128*O,y:Vr-200*O},fillStyle:"#f00",fontName:"Oswald",fontStyle:"normal",fontWeight:"400",fontSize:2*50,align:Cr.value,baseline:sr.value,letterSpacing:"-3px",dragOffset:s.value,maxWidth:s.value,context:e})();Ua(r.value0)("author")(h)(function(B){return se(ct(B))})();var U=ve({text:"Titel",lineHeight:.9,position:{x:ln/2+128*O,y:Vr-200*O+50*O},maxWidth:new c(ln/2-(128+2*60+20)*O),fillStyle:"#f00",fontName:"Oswald",fontStyle:"normal",fontWeight:"700",fontSize:2*50,align:Cr.value,baseline:sr.value,letterSpacing:"-2px",dragOffset:s.value,context:e})();Vt(r.value0)("title")(U)(se)();var E=Xu({x:ln/2+60*O,y:0})({width:ln,height:Vr})(82.5)("#fff"),M={overlayBackground:E,guillotine:a,bodyText:i,author:h,title:U},L=Ai([Vf(Pt(u)),Vf(Pt(o)),Iv(v),Nv(lf(M)),Lv(t),wv(Pt(Ui({x:0,y:0,width:Ke.width,height:Ke.height})("#f00")))]),w=Sv(r.value0)(L)();Gn(w)(),kf(w)();var un=Wa("download-left")("jacobin-titel-links.png")({x:0,y:0,width:ln/2,height:Vr})(w)();if(un instanceof c){var S=Wa("download-right")("jacobin-titel-rechts.png")({x:ln/2,y:0,width:ln/2,height:Vr})(w)();if(S instanceof c)return void 0;throw new Error("Failed pattern match at Jacobin.TitleSlide (line 282, column 3 - line 282, column 169): "+[S.constructor.name])}throw new Error("Failed pattern match at Jacobin.TitleSlide (line 281, column 3 - line 281, column 153): "+[un.constructor.name])}throw new Error("Failed pattern match at Jacobin.TitleSlide (line 132, column 3 - line 132, column 72): "+[r.constructor.name])});rc();})();

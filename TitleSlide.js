/* Generated by Spago v0.93.44 */
(()=>{var qi=function(t){return function(e){for(var n=t.length,r=e.length,u=new Array(n*r),a=0,o=0;o<n;o++)for(var i=t[o],l=0;l<r;l++)u[a++]=i(e[l]);return u}};var Xo={compose:function(t){return function(e){return function(n){return t(e(n))}}}};var Q=function(t){return t.identity},tt={identity:function(t){return t},Semigroupoid0:function(){return Xo}};var Wt=!0;var X=function(t){return function(e){return function(n){return t(n)(e)}}},K=function(t){return function(e){return t}};var Oi=function(t){return function(e){for(var n=e.length,r=new Array(n),u=0;u<n;u++)r[u]=t(e[u]);return r}};var O=function(){function t(){}return t.value=new t,t}();var v=function(t){return t.map},we=function(t){var e=v(t);return function(n){return function(r){return e(r)(n)}}},Et=function(t){return v(t)(K(void 0))};var Xe=function(t){var e=v(t);return function(n){return e(K(n))}};var Mt={map:Oi};var Up=Q(tt);var Qo={apply:qi,Functor0:function(){return Mt}},st=function(t){return t.apply},Bi=function(t){var e=st(t),n=v(t.Functor0());return function(r){return function(u){return e(n(K)(r))(u)}}},be=function(t){var e=st(t),n=v(t.Functor0());return function(r){return function(u){return e(n(K(Up))(r))(u)}}};var R=function(t){return t.pure};var Gr=function(t){var e=st(t.Apply0()),n=R(t);return function(r){return function(u){return e(n(r))(u)}}};var zi=typeof Array.prototype.flatMap=="function"?function(t){return function(e){return t.flatMap(e)}}:function(t){return function(e){for(var n=[],r=t.length,u=0;u<r;u++)for(var a=e(t[u]),o=a.length,i=0;i<o;i++)n.push(a[i]);return n}};var Ne=function(t){return t.discard};var Zo={bind:zi,Apply0:function(){return Qo}},C=function(t){return t.bind},se=function(t){return X(C(t))};var Se={discard:function(t){return C(t)}};var Ji=function(t){return function(e){return function(n){for(var r=e,u=n.length,a=u-1;a>=0;a--)r=t(n[a])(r);return r}}},Gi=function(t){return function(e){return function(n){for(var r=e,u=n.length,a=0;a<u;a++)r=t(r)(n[a]);return r}}};var Vi=function(t){return function(e){return t.length===0?e:e.length===0?t:t.concat(e)}};var Qt=function(t){return t.reflectSymbol};var pe=function(t){return function(e){return e[t]}},ue=function(t){return function(e){return function(n){var r={};for(var u in n)({}).hasOwnProperty.call(n,u)&&(r[u]=n[u]);return r[t]=e,r}}};var Ae={append:Vi};var H=function(t){return t.append};var Rt=function(t){return t.alt};var Xi="\uFFFF",Yi="\0",Gp=Number.POSITIVE_INFINITY,Vp=Number.NEGATIVE_INFINITY;var yu=function(t){return function(e){return function(n){return function(r){return function(u){return r<u?t:r===u?e:n}}}}};var Qi=yu,Ki=yu;var Zi=yu;var Fu=function(t){return function(e){return t===e}};var tc=Fu,ec=Fu,nc=Fu;var rc={eq:ec},ta={eq:tc},ea={eq:nc};var j=function(t){return t.eq};var B=function(){function t(){}return t.value=new t,t}(),W=function(){function t(){}return t.value=new t,t}(),et=function(){function t(){}return t.value=new t,t}();var ur={eq:function(t){return function(e){return t instanceof B&&e instanceof B||t instanceof W&&e instanceof W||t instanceof et&&e instanceof et}}};var oc=function(t){return function(e){return t-e|0}},ac=function(t){return function(e){return t-e}};var uc=function(t){return function(e){return t+e|0}},lc=function(t){return function(e){return t*e|0}},ic=function(t){return function(e){return t+e}},cc=function(t){return function(e){return t*e}};var fc=function(t){return t.zeroRecord},ve=function(t){return t.zero};var lr={addRecord:function(t){return function(e){return function(n){return{}}}},mulRecord:function(t){return function(e){return function(n){return{}}}},oneRecord:function(t){return function(e){return{}}},zeroRecord:function(t){return function(e){return{}}}};var We={add:ic,zero:0,mul:cc,one:1},na={add:uc,zero:0,mul:lc,one:1},sc=function(t){return t.oneRecord},Ue=function(t){return t.one},dc=function(t){return t.mulRecord},Kt=function(t){return t.mul},pc=function(t){return t.addRecord},ir=function(){return function(t){return{add:pc(t)(O.value),mul:dc(t)(O.value),one:sc(t)(O.value)(O.value),zero:fc(t)(O.value)(O.value)}}},le=function(t){return t.add};var cn=function(t){var e=Qt(t);return function(){return function(n){var r=pc(n),u=dc(n),a=sc(n),o=fc(n);return function(i){var l=le(i),f=Kt(i),c=Ue(i),p=ve(i);return{addRecord:function(_){return function(w){return function(T){var x=r(O.value)(w)(T),I=e(O.value),$=ue(I),lt=pe(I);return $(l(lt(w))(lt(T)))(x)}}},mulRecord:function(_){return function(w){return function(T){var x=u(O.value)(w)(T),I=e(O.value),$=ue(I),lt=pe(I);return $(f(lt(w))(lt(T)))(x)}}},oneRecord:function(_){return function(w){var T=a(O.value)(O.value),x=e(O.value),I=ue(x);return I(c)(T)}},zeroRecord:function(_){return function(w){var T=o(O.value)(O.value),x=e(O.value),I=ue(x);return I(p)(T)}}}}}}};var Zp=ir(),vc=function(t){return t.subRecord},cr=function(t){return t.sub};var wu={subRecord:function(t){return function(e){return function(n){return{}}}},SemiringRecord0:function(){return lr}},ra=function(t){var e=Qt(t),n=cn(t)();return function(){return function(r){var u=vc(r),a=n(r.SemiringRecord0());return function(o){var i=cr(o),l=a(o.Semiring0());return{subRecord:function(f){return function(c){return function(p){var _=u(O.value)(c)(p),w=e(O.value),T=ue(w),x=pe(w);return T(i(x(c))(x(p)))(_)}}},SemiringRecord0:function(){return l}}}}}},bu=function(){return function(t){var e=Zp(t.SemiringRecord0());return{sub:vc(t)(O.value),Semiring0:function(){return e}}}};var oa={sub:ac,Semiring0:function(){return We}},mc={sub:oc,Semiring0:function(){return na}};var Xr=function(){return{compare:Ki(B.value)(et.value)(W.value),Eq0:function(){return rc}}}(),ie=function(){return{compare:Qi(B.value)(et.value)(W.value),Eq0:function(){return ta}}}(),aa=function(){return{compare:Zi(B.value)(et.value)(W.value),Eq0:function(){return ea}}}();var k=function(t){return t.compare};var Ye=function(t){return t.top};var Yr={top:Xi,bottom:Yi,Ord0:function(){return aa}};var fn=function(t){return t.bottom};var hc=function(t){var e=t.toString();return isNaN(e+".0")?e:e+".0"},Rc=function(t){var e=t.charCodeAt(0);if(e<32||e===127){switch(t){case"\x07":return"'\\a'";case"\b":return"'\\b'";case"\f":return"'\\f'";case`
`:return"'\\n'";case"\r":return"'\\r'";case"	":return"'\\t'";case"\v":return"'\\v'"}return"'\\"+e.toString(10)+"'"}return t==="'"||t==="\\"?"'\\"+t+"'":"'"+t+"'"};var Dc=function(t){return function(e){for(var n=[],r=0,u=e.length;r<u;r++)n[r]=t(e[r]);return"["+n.join(",")+"]"}};var ua={show:hc};var la={show:Rc};var E=function(t){return t.show},Cu=function(t){return{show:Dc(E(t))}};var cv=Q(tt),d=function(){function t(){}return t.value=new t,t}(),s=function(){function t(e){this.value0=e}return t.create=function(e){return new t(e)},t}();var me=function(t){return function(e){return function(n){if(n instanceof d)return t;if(n instanceof s)return e(n.value0);throw new Error("Failed pattern match at Data.Maybe (line 237, column 1 - line 237, column 51): "+[t.constructor.name,e.constructor.name,n.constructor.name])}}},sn=me(!0)(K(!1));var dt={map:function(t){return function(e){return e instanceof s?new s(t(e.value0)):d.value}}};var jt=function(t){return me(t)(cv)},He=function(){return function(t){if(t instanceof s)return t.value0;throw new Error("Failed pattern match at Data.Maybe (line 288, column 1 - line 288, column 46): "+[t.constructor.name])}};var ht=function(){function t(e){this.value0=e}return t.create=function(e){return new t(e)},t}(),mt=function(){function t(e){this.value0=e}return t.create=function(e){return new t(e)},t}();var xn=function(t){return t.defer};var wc=function(t){return function(e){return t&&e}},bc=function(t){return function(e){return t||e}},Tc=function(t){return!t};var fa=function(t){return t.not};var Kr=function(t){return t.ff};var dr=function(t){return t.disj},_e={ff:!1,tt:!0,implies:function(t){return function(e){return dr(_e)(fa(_e)(t))(e)}},conj:wc,disj:bc,not:Tc};var Cc=function(t){return Math.min(Math.abs(t),2147483647)},Ec=function(t){return function(e){return e===0?0:e>0?Math.floor(t/e):-Math.floor(t/-e)}},Mc=function(t){return function(e){if(e===0)return 0;var n=Math.abs(e);return(t%n+n)%n}};var xc={Ring0:function(){return mc}};var Zr=function(t){return t.mod};var sa={degree:Cc,div:Ec,mod:Mc,CommutativeRing0:function(){return xc}};var _t=function(t){return t.mempty};var M=function(){function t(e,n){this.value0=e,this.value1=n}return t.create=function(e){return function(n){return new t(e,n)}},t}();var Ke=function(t){return t.value1};var Ze=function(t){return t.value0};var ma=function(t){return t};var Tv=function(t){var e=dr(t);return{append:function(n){return function(r){return e(n)(r)}}}};var Pu=function(t){var e=Tv(t);return{mempty:Kr(t),Semigroup0:function(){return e}}};var m=function(t){return t};var Au=function(){return m};var Pc=Au();var Ln=function(){return Pc};var Wu=function(){return function(){return function(){return function(){return function(t){return Pc}}}}};var Lv=Q(tt),Iv=j(ur);var Nv=Wu()()()(),qt=function(t){return t.foldr};var Nn=function(t){var e=be(t.Apply0()),n=R(t);return function(r){var u=qt(r);return function(a){return u(function(o){return e(a(o))})(n(void 0))}}},ro=function(t){var e=Nn(t);return function(n){return X(e(n))}};var gt=function(t){return t.foldl};var Wc=function(t){var e=gt(t);return function(n){var r=function(u){return function(a){if(u instanceof d)return new s(a);if(u instanceof s)return new s(function(){var o=Iv(n(u.value0)(a))(W.value);return o?u.value0:a}());throw new Error("Failed pattern match at Data.Foldable (line 441, column 3 - line 441, column 27): "+[u.constructor.name,a.constructor.name])}};return e(r)(d.value)}},oo=function(t){var e=k(t);return function(n){return Wc(n)(e)}};var Hu=function(t){var e=gt(t);return function(n){return e(le(n))(ve(n))}};var Uc=function(t){var e=qt(t);return function(n){var r=H(n.Semigroup0()),u=_t(n);return function(a){return e(function(o){return function(i){return r(a(o))(i)}})(u)}}},pt={foldr:Ji,foldl:Gi,foldMap:function(t){return Uc(pt)(t)}};var $e=function(t){return t.foldMap};var Sn=function(t){var e=$e(t);return function(n){return Nv(ma)(e(Pu(n)))}};var Pn=function(t){var e=Sn(t);return function(n){return e(n)(Lv)}};var ha=function(t){return t.toUpperCase()};var An=function(t){return function(e){return e.join(t)}};var Ra=function(t){return t===""};var Hc=function(){function t(u){return[u]}function e(u){return function(a){return[u,a]}}function n(u){return function(a){return function(o){return[u,a,o]}}}function r(u){return function(a){return u.concat(a)}}return function(u){return function(a){return function(o){return function(i){return function(l){function f(c,p){switch(p-c){case 0:return o([]);case 1:return a(t)(i(l[c]));case 2:return u(a(e)(i(l[c])))(i(l[c+1]));case 3:return u(u(a(n)(i(l[c])))(i(l[c+1])))(i(l[c+2]));default:var _=c+Math.floor((p-c)/4)*2;return u(a(r)(f(c,_)))(f(_,p))}}return f(0,l.length)}}}}}}();var hr=function(t){return t};var Ou={map:function(t){return function(e){return t(e)}}};var Oc={apply:function(t){return function(e){return t(e)}},Functor0:function(){return Ou}},Wv={bind:function(t){return function(e){return e(t)}},Apply0:function(){return Oc}},Uv={pure:hr,Apply0:function(){return Oc}},Bc={Applicative0:function(){return Uv},Bind1:function(){return Wv}};var g1=Q(tt),Ht=function(t){return t.traverse};var h1=function(t){var e=Ht(t);return function(n){return e(n)(g1)}},Zt={traverse:function(t){var e=t.Apply0();return Hc(st(e))(v(e.Functor0()))(R(t))},sequence:function(t){return h1(Zt)(t)},Functor0:function(){return Mt},Foldable1:function(){return pt}};var Qc=function(t){return function(){return t}},Kc=function(t){return function(e){return function(){return e(t())()}}};var tf=function(t){var e=C(t.Bind1()),n=R(t.Applicative0());return function(r){return function(u){return e(u)(function(a){return n(r(a))})}}},Wn=function(t){var e=C(t.Bind1()),n=R(t.Applicative0());return function(r){return function(u){return e(r)(function(a){return e(u)(function(o){return n(a(o))})})}}};var ef=function(t,e,n){var r=0,u;return function(a){if(r===2)return u;if(r===1)throw new ReferenceError(t+" was needed before it finished initializing (module "+e+", line "+a+")",e,a);return r=1,u=n(),r=2,u}},yt={Applicative0:function(){return It},Bind1:function(){return vn}},vn={bind:Kc,Apply0:function(){return Vu(0)}},It={pure:Qc,Apply0:function(){return Vu(0)}},nf=ef("functorEffect","Effect",function(){return{map:Gr(It)}}),Vu=ef("applyEffect","Effect",function(){return{apply:Wn(yt),Functor0:function(){return nf(0)}}}),A=nf(20),rf=Vu(23);var Bt={liftEffect:Q(tt),Monad0:function(){return yt}},Nt=function(t){return t.liftEffect};function of(t){return function(e){return function(n){return function(){var r=new Image;r.src=t,r.addEventListener("load",function(){n(r)()},!1),r.addEventListener("error",function(){e()},!1)}}}}function af(t,e,n){return function(){var r=document.getElementById(t);return r&&r instanceof HTMLCanvasElement?e(r):n}}function Rr(t){return function(){return t.getContext("2d")}}function lo(t){return function(){return t.width}}function io(t){return function(){return t.height}}function ju(t){return function(e){return function(){t.width=e}}}function Xu(t){return function(e){return function(){t.height=e}}}function Yu(t){return function(){return t.toDataURL()}}function Ce(t){return function(e){return function(){t.fillStyle=e}}}function uf(t){return function(e){return function(){t.globalCompositeOperation=e}}}function co(t){return function(){t.beginPath()}}function fo(t){return function(){t.fill()}}function so(t){return function(e){return function(n){return function(){t.lineTo(e,n)}}}}function Qu(t){return function(e){return function(n){return function(){t.moveTo(e,n)}}}}function Ku(t){return function(){t.closePath()}}function Zu(t){return function(e){return function(){t.rect(e.x,e.y,e.width,e.height)}}}function tl(t){return function(e){return function(){t.clearRect(e.x,e.y,e.width,e.height)}}}function el(t){return function(e){return function(){t.translate(e.translateX,e.translateY)}}}function lf(t){return function(e){return function(){t.textAlign=e}}}function cf(t){return function(e){return function(){t.textBaseline=e}}}function Un(t){return function(e){return function(){t.font=e}}}function po(t){return function(e){return function(n){return function(r){return function(){t.fillText(e,n,r)}}}}}function nl(t){return function(){t.save()}}function rl(t){return function(){t.restore()}}function ol(t){return function(e){return function(n){return function(r){return function(u){return function(a){return function(){t.drawImage(e,n,r,u,a)}}}}}}}function al(t){return function(e){return function(n){return function(r){return function(u){return function(a){return function(o){return function(i){return function(l){return function(f){return function(){t.drawImage(e,n,r,u,a,o,i,l,f)}}}}}}}}}}}var M1=be(rf),Ee=function(){function t(){}return t.value=new t,t}(),x1=function(){function t(){}return t.value=new t,t}(),L1=function(){function t(){}return t.value=new t,t}(),I1=function(){function t(){}return t.value=new t,t}(),N1=function(){function t(){}return t.value=new t,t}(),qe=function(){function t(){}return t.value=new t,t}(),ge=function(){function t(){}return t.value=new t,t}(),mn=function(){function t(){}return t.value=new t,t}(),Dr=function(){function t(){}return t.value=new t,t}(),yr=function(){function t(){}return t.value=new t,t}(),Fr=function(){function t(){}return t.value=new t,t}();var Hn=function(){function t(){}return t.value=new t,t}(),S1=function(){function t(){}return t.value=new t,t}(),P1=function(){function t(){}return t.value=new t,t}(),A1=function(){function t(){}return t.value=new t,t}(),W1=function(){function t(){}return t.value=new t,t}(),U1=function(){function t(){}return t.value=new t,t}(),H1=function(){function t(){}return t.value=new t,t}(),$1=function(){function t(){}return t.value=new t,t}(),q1=function(){function t(){}return t.value=new t,t}(),O1=function(){function t(){}return t.value=new t,t}(),B1=function(){function t(){}return t.value=new t,t}(),k1=function(){function t(){}return t.value=new t,t}(),z1=function(){function t(){}return t.value=new t,t}(),J1=function(){function t(){}return t.value=new t,t}(),G1=function(){function t(){}return t.value=new t,t}(),V1=function(){function t(){}return t.value=new t,t}(),j1=function(){function t(){}return t.value=new t,t}(),X1=function(){function t(){}return t.value=new t,t}(),Y1=function(){function t(){}return t.value=new t,t}(),Q1=function(){function t(){}return t.value=new t,t}(),K1=function(){function t(){}return t.value=new t,t}(),Z1=function(){function t(){}return t.value=new t,t}(),tm=function(){function t(){}return t.value=new t,t}(),em=function(){function t(){}return t.value=new t,t}(),nm=function(){function t(){}return t.value=new t,t}(),rm=function(){function t(){}return t.value=new t,t}(),Ft=function(t){return function(e){return function(){nl(t)();var r=e();return rl(t)(),r}}},ll=function(t){return function(e){return of(t)(e(d.value))(function(n){return e(s.create(n))})}};var wr=function(t){return function(e){var n=function(r){if(r instanceof Ee)return"top";if(r instanceof x1)return"hanging";if(r instanceof L1)return"middle";if(r instanceof I1)return"alphabetic";if(r instanceof N1)return"ideographic";if(r instanceof qe)return"bottom";throw new Error("Failed pattern match at Graphics.Canvas (line 577, column 5 - line 577, column 33): "+[r.constructor.name])};return cf(t)(n(e))}},br=function(t){return function(e){var n=function(r){if(r instanceof ge)return"left";if(r instanceof mn)return"right";if(r instanceof Dr)return"center";if(r instanceof yr)return"start";if(r instanceof Fr)return"end";throw new Error("Failed pattern match at Graphics.Canvas (line 531, column 5 - line 531, column 32): "+[r.constructor.name])};return lf(t)(n(e))}};var pf=function(t){return function(e){var n=function(r){if(r instanceof Hn)return"source-over";if(r instanceof S1)return"source-in";if(r instanceof P1)return"source-out";if(r instanceof A1)return"source-atop";if(r instanceof W1)return"destination-over";if(r instanceof U1)return"destination-in";if(r instanceof H1)return"destination-out";if(r instanceof $1)return"destination-atop";if(r instanceof q1)return"lighter";if(r instanceof O1)return"copy";if(r instanceof B1)return"xor";if(r instanceof k1)return"multiply";if(r instanceof z1)return"screen";if(r instanceof J1)return"overlay";if(r instanceof G1)return"darken";if(r instanceof V1)return"lighten";if(r instanceof j1)return"color-dodge";if(r instanceof X1)return"color-burn";if(r instanceof Y1)return"hard-light";if(r instanceof Q1)return"soft-light";if(r instanceof K1)return"difference";if(r instanceof Z1)return"exclusion";if(r instanceof tm)return"hue";if(r instanceof em)return"saturation";if(r instanceof nm)return"color";if(r instanceof rm)return"luminosity";throw new Error("Failed pattern match at Graphics.Canvas (line 326, column 5 - line 326, column 45): "+[r.constructor.name])};return uf(t)(n(e))}},il=function(t){return function(e){return M1(Xu(t)(e.height))(ju(t)(e.width))}},cl=function(t){return af(t,s.create,d.value)},vf=function(t){return function(){var n=lo(t)(),r=io(t)();return{width:n,height:r}}},mf=function(t){return function(e){return function(){co(t)();var r=e();return fo(t)(),r}}};var wa=isFinite;function _f(t,e,n,r){var u=parseFloat(t);return e(u)?n(u):r}var Tr=Math.round;var ba=Math.tan;var gf=3.141592653589793;var Ta=function(t){return _f(t,wa,s.create,d.value)};var Ca=function(t){return function(e){return e(function(n){return t(n)})}},Be=function(t){return function(e){return{x:e.x+t.translateX,y:e.y+t.translateY}}};var wt=function(t){return t.translate},hf=function(t){return function(e){return{width:e.width*t.scaleX,height:e.height*t.scaleY}}},fl=function(t){return t.scale},Rf=function(t){var e=fl(t);return function(n){return e({scaleX:n,scaleY:n})}},bt=function(t){return t.position},kt=function(t){return function(e){return function(n){return n(t)(e)}}},fm=function(t){var e=v(t);return function(n){return Ca(function(r){var u=e(kt(r)),a=n(r);return function(o){return u(a(o))}})}};var $n=function(t){return t.mapLayerWrapper},Tt=function(t){return t.draw},Df=function(t){var e=wt(t);return function(n){return function(r){return function(u){var a={translateX:r.translateX-n.offsetX,translateY:r.translateY-n.offsetY};return e(a)(u)}}}},Xt=function(t){var e=R(t);return function(n){var r=Df(n);return function(u){return function(a){return function(o){if(u instanceof d)return e(o);if(u instanceof s)return r(u.value0)(a)(o);throw new Error("Failed pattern match at Template.Layer (line 61, column 1 - line 61, column 115): "+[u.constructor.name,a.constructor.name,o.constructor.name])}}}}},zt=function(t){return t.dragStart},Jt=function(t){return t.dragEnd},ce=function(t){return t.drag},$t=function(t){return t.containsPoint},_n=function(t){var e=fm(t);return{position:Ca(function(n){return bt(n)}),translate:function(n){return e(function(r){return wt(r)(n)})},containsPoint:function(n){return Ca(function(r){return $t(r)(n)})},draw:function(n){return Ca(function(r){return Tt(r)(n)})},dragStart:function(n){return e(function(r){return zt(r)(n)})},drag:function(n){return e(function(r){return ce(r)(n)})},dragEnd:e(function(n){return Jt(n)})}};var Ff=function(t){return function(e){return function(n){return function(r){return{position:t,dimensions:e,angle:n,fillStyle:r,dragOffset:d.value}}}}},yf=function(t){return t*gf/180},sl=function(t){var e=t.Applicative0(),n=R(e),r=Xt(e);return{position:function(u){return n(u.position)},translate:function(u){return function(a){return n({dimensions:a.dimensions,angle:a.angle,fillStyle:a.fillStyle,dragOffset:a.dragOffset,position:Be(u)(a.position)})}},containsPoint:function(u){return function(a){var o=(a.dimensions.height-u.y)/ba(yf(a.angle));return n(a.position.x+o<=u.x&&u.x<=a.position.x+a.dimensions.width&&a.position.y<=u.y&&u.y<=a.position.y+a.dimensions.height)}},draw:function(u){return function(a){return Ft(u)(function(){return Ce(u)(a.fillStyle)(),co(u)(),Qu(u)(a.position.x)(a.position.y+a.dimensions.height)(),so(u)(a.position.x+a.dimensions.width)(a.position.y+a.dimensions.height)(),so(u)(a.position.x+a.dimensions.width)(a.position.y)(),so(u)(a.position.x+a.dimensions.height/ba(yf(a.angle)))(a.position.y)(),Ku(u)(),fo(u)()})}},dragStart:function(u){return function(a){return n({position:a.position,dimensions:a.dimensions,angle:a.angle,fillStyle:a.fillStyle,dragOffset:new s(u)})}},drag:function(u){return function(a){return r(sl(t))(a.dragOffset)(u)(a)}},dragEnd:function(u){return n({position:u.position,dimensions:u.dimensions,angle:u.angle,fillStyle:u.fillStyle,dragOffset:d.value})}}};var wf=function(t,e){for(var n=t>e?-1:1,r=new Array(n*(e-t)+1),u=t,a=0;u!==e;)r[a++]=u,u+=n;return r[a]=u,r},dm=function(t,e){if(t<1)return[];var n=new Array(t);return n.fill(e)},pm=function(t,e){for(var n=[],r=0,u=0;u<t;u++)n[r++]=e;return n},vm=typeof Array.prototype.fill=="function"?dm:pm,bf=function(){function t(u,a){this.head=u,this.tail=a}var e={};function n(u){return function(a){return new t(u,a)}}function r(u){for(var a=[],o=0,i=u;i!==e;)a[o++]=i.head,i=i.tail;return a}return function(u,a){return r(u(n)(e)(a))}}(),Ct=function(t){return t.length};var Tf=function(t,e,n,r){return r<0||r>=n.length?e:t(n[r])};var Cf=function(t,e,n,r){for(var u=0,a=r.length;u<a;u++)if(n(r[u]))return t(u);return e};var Ef=function(t,e,n,r,u){if(n<0||n>=u.length)return e;var a=u.slice();return a[n]=r,t(a)},gn=function(t){return t.slice().reverse()},en=function(t){if(t.length<=1e4)return Array.prototype.concat.apply([],t);for(var e=[],n=0,r=t.length;n<r;n++)for(var u=t[n],a=0,o=u.length;a<o;a++)e.push(u[a]);return e};var Mf=function(t,e,n){for(var r=n.length,u=e,a=new Array(r),o=0;o<r;o++)u=t(u)(n[o]),a[o]=u;return a};var xf=function(t,e,n){return n.slice(t,e)},Lf=function(t,e,n){for(var r=e.length<n.length?e.length:n.length,u=new Array(r),a=0;a<r;a++)u[a]=t(e[a])(n[a]);return u},If=function(t,e){for(var n=e.length,r=0;r<n;r++)if(t(e[r]))return!0;return!1};var Nf=function(t){return function(){return{value:t}}};var te=function(t){return function(){return t.value}},Sf=function(t){return function(e){return function(){var n=t(e.value);return e.value=n.state,n.value}}},Er=function(t){return function(e){return function(){e.value=t}}};var gm=Et(A),hn=Nf,hm=Sf,dl=function(t){return hm(function(e){var n=t(e);return{state:n,value:n}})},pl=function(t){return function(e){return gm(dl(t)(e))}};var ee=function(){function t(e){this.value0=e}return t.create=function(e){return new t(e)},t}(),ne=function(){function t(e){this.value0=e}return t.create=function(e){return new t(e)},t}(),nn=function(t){return t.tailRecM};var ym=function(t){var e=function(n){var r=!1,u;function a(o){if(o instanceof ee){n=t(o.value0);return}if(o instanceof ne)return r=!0,o.value0;throw new Error("Failed pattern match at Control.Monad.Rec.Class (line 103, column 3 - line 103, column 25): "+[o.constructor.name])}for(;!r;)u=a(n);return u};return function(n){return e(t(n))}};var Pf={tailRecM:function(t){var e=function(r){return r},n=ym(function(r){return e(t(r))});return function(r){return hr(n(r))}},Monad0:function(){return Bc}};function Cm(t){return t}var Hf=Cm;function Em(t){return t.slice()}var $f=Em;var qf=function(t,e){return e.push(t)};var Ma=function(e){return function(n){return function(){return e(n)}}},vl=function(e){return function(n){return function(r){return function(){return e(n,r)}}}};var Of=Ma(Hf);var Pm=Ma($f),Bf=function(t){return function(e){return function(){var r=Pm(e)();return t(r)(),Of(r)()}}};var ml=vl(qf);var mo=function(t){return function(e,n,r,u,a){return t(e)(n)(r)(u)(a)}};var qn=function(t){return function(e){return function(n){return t(e,n)}}},_o=function(t){return function(e){return function(n){return function(r){return t(e,n,r)}}}},xa=function(t){return function(e){return function(n){return function(r){return function(u){return t(e,n,r,u)}}}}},_l=function(t){return function(e){return function(n){return function(r){return function(u){return function(a){return t(e,n,r,u,a)}}}}}};var Jf=function(t){return function(e){return function(n){return function(r){return function(u){return function(a){for(var o=[],i=a;;){var l=u(i);if(t(l))return o;var f=e(l);o.push(n(f)),i=r(f)}}}}}}};var Gf=function(t){return function(e){return function(n){return function(r){return function(u){return function(a){for(var o=[],i=a;;){var l=u(i);o.push(n(l));var f=r(l);if(t(f))return o;i=e(f)}}}}}}};var Vm=He();var gl={unfoldr1:Gf(sn)(Vm)(Ze)(Ke)};var Ym=He(),rn=function(t){return t.unfoldr};var Rl={unfoldr:Jf(sn)(Ym)(Ze)(Ke),Unfoldable10:function(){return gl}};var Qm=H(Ae);var Qf=_o(Lf);var Rn=function(){return Qf(M.create)}();var Kf=function(){return _l(Ef)(s.create)(d.value)}();var St=function(t){return function(e){return Bf(ml(e))(t)()}},Dl=_o(xf),Ro=function(t){return function(e){return t<=0?{before:[],after:e}:{before:Dl(0)(t)(e),after:Dl(t)(Ct(e))(e)}}};var Fl=function(t){return[t]};var Sa=_o(Mf);var wl=qn(wf);var ze=function(){return xa(Tf)(s.create)(d.value)}();var bl=function(t){return function(e){return function(n){var r=function(u){return Kf(t)(e(u))(n)};return me(d.value)(r)(ze(n)(t))}}};var Tl=function(t){return qn(bf)(qt(t))};var Do=function(){return xa(Cf)(s.create)(d.value)}();var Cl=function(t){var e=j(t);return function(n){return Do(function(r){return e(r)(n)})}},El=function(t){var e=Cl(t);return function(n){return function(r){return sn(e(n)(r))}}};var yo=function(t){return function(e){return Qm([t])(e)}};var Ml=X(C(Zo));var Fo=qn(If);var Km=Pn(pt)(_e),Zm=Ht(Zt),t_=cr(bu()(ra({reflectSymbol:function(){return"x"}})()(ra({reflectSymbol:function(){return"y"}})()(wu)(oa))(oa))),e_=Nn(It)(pt);var xl=function(t){var e=t.Applicative0(),n=R(e),r=t.Bind1().Apply0().Functor0(),u=v(r),a=Zm(e),o=_n(r),i=$t(o),l=Tt(o),f=Xt(e);return{position:function(c){return n(c.position)},translate:function(c){return function(p){return n({layers:p.layers,dragOffset:p.dragOffset,position:Be(c)(p.position)})}},containsPoint:function(c){return function(p){return u(Km)(a(i(t_(c)(p.position)))(p.layers))}},draw:function(c){return function(p){return Ft(c)(function(){return el(c)({translateX:p.position.x,translateY:p.position.y})(),e_(function(){var w=Ft(c),T=l(c);return function(x){return w(T(x))}}())(gn(p.layers))()})}},dragStart:function(c){return function(p){return n({layers:p.layers,position:p.position,dragOffset:new s(c)})}},drag:function(c){return function(p){return f(xl(t))(p.dragOffset)(c)(p)}},dragEnd:function(c){return n({layers:c.layers,position:c.position,dragOffset:d.value})}}},Zf=function(t){return{layers:t,position:{x:0,y:0},dragOffset:d.value}};var wo=t=>t.width,bo=t=>t.height;var Bn=t=>e=>()=>t.letterSpacing=e;var ts=function(t){return function(e){return function(n){return function(r){return ol(t)(e)(n.x)(n.y)(r.width)(r.height)}}}};var Ll=function(t){return{width:wo(t),height:bo(t)}};var o_=Kt(ir()(cn({reflectSymbol:function(){return"scaleX"}})()(cn({reflectSymbol:function(){return"scaleY"}})()(lr)(We))(We))),a_=Ne(Se),u_=v(dt);var es=function(t){var e=R(t.Monad0().Applicative0());return{scale:function(n){return function(r){return e({image:r.image,position:r.position,composite:r.composite,dragOffset:r.dragOffset,scale:o_(n)(r.scale)})}}}},Pa=function(t){var e=t.Monad0(),n=e.Applicative0(),r=R(n),u=C(e.Bind1()),a=Nt(t),o=Xt(n);return{position:function(i){return r(i.position)},translate:function(i){return function(l){return r({image:l.image,scale:l.scale,composite:l.composite,dragOffset:l.dragOffset,position:Be(i)(l.position)})}},containsPoint:function(i){return function(l){return u(a(te(l.image)))(function(f){if(f instanceof d)return r(!1);if(f instanceof s)return r(l.position.x<=i.x&&i.x<=l.position.x+wo(f.value0)*l.scale.scaleX&&l.position.y<=i.y&&i.y<=l.position.y+bo(f.value0)*l.scale.scaleY);throw new Error("Failed pattern match at Template.Layer.Image (line 74, column 5 - line 80, column 90): "+[f.constructor.name])})}},dragStart:function(i){return function(l){return r({image:l.image,position:l.position,scale:l.scale,composite:l.composite,dragOffset:new s(i)})}},drag:function(i){return function(l){return o(Pa(t))(l.dragOffset)(i)(l)}},dragEnd:function(i){return r({image:i.image,position:i.position,scale:i.scale,composite:i.composite,dragOffset:d.value})},draw:function(i){return function(l){return function(){var c=te(l.image)();if(c instanceof d)return void 0;if(c instanceof s)return Ft(i)(function(){return pf(i)(l.composite)(),ts(i)(c.value0)(l.position)(hf(l.scale)(Ll(c.value0)))()})();throw new Error("Failed pattern match at Template.Layer.Image (line 88, column 5 - line 94, column 54): "+[c.constructor.name])}}}}},ns=function(t){return function(e){return{image:e.image,position:e.position,composite:e.composite,dragOffset:e.dragOffset,scale:t}}},Nl=function(t){var e=Nt(t);return function(n){return function(r){return function(u){return function(a){return e(function(){var i=hn(d.value)();return ll(n)(function(){var l=X(pl)(i);return function(f){return l(K(f))}}())(),{image:i,position:r,scale:u,composite:a,dragOffset:d.value}})}}}}},rs=function(t){var e=Nt(t);return function(n){return function(r){return function(u){return e(function(){var o=hn(d.value)();return{image:o,position:n,scale:r,composite:u,dragOffset:d.value}})}}}},os=function(t){var e=t.Monad0(),n=a_(e.Bind1()),r=Nt(t),u=R(e.Applicative0());return function(a){return function(o){return n(r(ll(a)(function(){var i=X(pl)(o.image);return function(l){return i(K(l))}}())))(function(){return u(o)})}}},as=function(t){return t.scale},us=function(t){var e=t.Monad0(),n=C(e.Bind1()),r=Nt(t),u=R(e.Applicative0());return function(a){return n(r(te(a.image)))(function(o){return u(u_(Ll)(o))})}};var kn=function(t){return t.throwError};var Me=function(t){return t.lift};var v_=v(dt);var Wa=function(t){return t},zn=function(t){return t};var Lr={lift:function(t){var e=tf(t)(s.create);return function(n){return Wa(e(n))}}};var m_=function(t){var e=v(t);return{map:function(n){return function(r){return e(v_(n))(r)}}}},__=function(t){return{Applicative0:function(){return Co(t)},Bind1:function(){return Jn(t)}}},Jn=function(t){var e=C(t.Bind1()),n=R(t.Applicative0());return{bind:function(r){return function(u){return e(r)(function(a){if(a instanceof d)return n(d.value);if(a instanceof s){var o=u(a.value0);return o}throw new Error("Failed pattern match at Control.Monad.Maybe.Trans (line 55, column 11 - line 57, column 42): "+[a.constructor.name])})}},Apply0:function(){return ps(t)}}},ps=function(t){var e=m_(t.Bind1().Apply0().Functor0());return{apply:Wn(__(t)),Functor0:function(){return e}}},Co=function(t){return{pure:function(){var e=R(t.Applicative0());return function(n){return Wa(e(s.create(n)))}}(),Apply0:function(){return ps(t)}}};var Ir=function(t){var e=R(t.Applicative0());return function(n){return Wa(e(n))}};var g_=Me(Lr);var vs=function(t){var e=C(Jn(t)),n=Ir(t),r=g_(t);return function(u){return function(a){return function(o){return e(n(ze(o)(u)))(function(i){return e(r(a(i)))(function(l){return n(bl(u)(K(l))(o))})})}}}};var Nr=function(t){return Rn(wl(0)(Ct(t)))(t)};var h_=Ht(Zt),R_=Pn(pt)(_e),D_=Nn(It)(pt),y_=Me(Lr),F_=Q(tt);var ms=function(t){var e=t.Applicative0(),n=t.Bind1().Apply0().Functor0(),r=we(n),u=h_(e),a=_n(n),o=wt(a),i=v(n),l=$t(a),f=Tt(a),c=C(Jn(t)),p=y_(t),_=Ir(t),w=bt(a),T=vs(t),x=zt(a),I=R(Co(t)),$=ce(a),lt=Jt(a);return{position:K(R(e)({x:0,y:0})),translate:function(J){return function(it){return r(u(o(J))(it.layers))(function(At){return{dragIndex:it.dragIndex,layers:At}})}},containsPoint:function(J){return function(it){return i(R_)(u(l(J))(it.layers))}},draw:function(J){return function(it){return D_(function(){var At=Ft(J),Fe=f(J);return function(je){return At(Fe(je))}}())(gn(it.layers))}},dragStart:function(J){return function(it){return i(jt(it))(zn(c(p(u(l({x:J.offsetX,y:J.offsetY}))(it.layers)))(function(At){return c(_(Do(F_)(At)))(function(Fe){return c(_(ze(it.layers)(Fe)))(function(je){return c(p(w(je)))(function(Mn){return c(T(Fe)(x({offsetX:J.offsetX-Mn.x,offsetY:J.offsetY-Mn.y}))(it.layers))(function(ar){return I({dragIndex:new s(Fe),layers:ar})})})})})})))}},drag:function(J){return function(it){return i(jt(it))(zn(c(_(it.dragIndex))(function(At){return c(_(ze(it.layers)(At)))(function(Fe){return c(p(w(Fe)))(function(je){return c(T(At)($({translateX:J.translateX-je.x,translateY:J.translateY-je.y}))(it.layers))(function(Mn){return I({dragIndex:it.dragIndex,layers:Mn})})})})})))}},dragEnd:function(J){return i(jt({layers:J.layers,dragIndex:d.value}))(zn(c(_(J.dragIndex))(function(it){return c(T(it)(lt)(J.layers))(function(At){return I({dragIndex:d.value,layers:At})})})))}}},_s=function(t){return{layers:t,dragIndex:d.value}};var Hl=function(t){var e=R(t),n=Xt(t);return{position:function(r){return e({x:r.rect.x,y:r.rect.y})},translate:function(r){return function(u){return e({fillStyle:u.fillStyle,dragOffset:u.dragOffset,rect:{width:u.rect.width,height:u.rect.height,x:u.rect.x+r.translateX,y:u.rect.y+r.translateY}})}},containsPoint:function(r){return function(u){return e(u.rect.x<=r.x&&r.x<=u.rect.x+u.rect.width&&u.rect.y<=r.y&&r.y<=u.rect.y+u.rect.height)}},draw:function(r){return function(u){return function(){return Ce(r)(u.fillStyle)(),mf(r)(Zu(r)(u.rect))()}}},dragStart:function(r){return function(u){return e({rect:u.rect,fillStyle:u.fillStyle,dragOffset:new s(r)})}},drag:function(r){return function(u){return n(Hl(t))(u.dragOffset)(r)(u)}},dragEnd:function(r){return e({rect:r.rect,fillStyle:r.fillStyle,dragOffset:d.value})}}},gs=function(t){return function(e){return{rect:t,fillStyle:e,dragOffset:d.value}}};var T_=Ne(Se),$l=function(t){var e=t.Monad0(),n=e.Bind1(),r=C(n),u=Nt(t),a=T_(n),o=R(e.Applicative0());return function(i){return function(l){return r(u(te(l)))(function(f){return r(i(f))(function(c){return a(u(Er(c)(l)))(function(){return o(c)})})})}}},hs=function(t){var e=Xe(t.Monad0().Bind1().Apply0().Functor0()),n=$l(t);return function(r){return function(u){return e(void 0)(n(r)(u))}}};var E_=se(vn),M_=function(t){return t};var Eo=function(t){var e=t.Monad0().Bind1(),n=se(e),r=Nt(t),u=Xe(e.Apply0().Functor0()),a=$l(t);return function(o){var i=bt(o),l=wt(o),f=$t(o),c=zt(o),p=ce(o),_=Jt(o),w=Tt(o);return{position:function(T){return n(i)(r(te(T)))},translate:function(T){return function(x){return u(x)(a(l(T))(x))}},containsPoint:function(T){return function(x){return n(f(T))(r(te(x)))}},dragStart:function(T){return function(x){return u(x)(a(c(T))(x))}},drag:function(T){return function(x){return u(x)(a(p(T))(x))}},dragEnd:function(T){return u(T)(a(_)(T))},draw:function(T){return function(x){return E_(w(T))(te(x))}}}}};var Rs=function(t){var e=hs(t);return function(n){return function(r){return e(n)(r)}}};var x_=function(t){var e=Nt(t);return function(n){return function(r){return e(dl(n)(r))}}},Ds=function(t){var e=Xe(t.Monad0().Bind1().Apply0().Functor0()),n=x_(t);return function(r){return function(u){return e(void 0)(n(r)(u))}}},Ha=function(t){var e=v(t.Monad0().Bind1().Apply0().Functor0()),n=Nt(t);return function(r){return e(M_)(n(hn(r)))}};var L_={mapLayerWrapper:function(t){return function(e){var n=we(e.Bind1().Apply0().Functor0());return function(r){return function(u){return n(r(u.layer))(function(a){return{offsetY:u.offsetY,gridSizeY:u.gridSizeY,layer:a}})}}}}},I_=$n(L_),N_={mapLayerWrapper:function(t){return function(e){var n=we(e.Bind1().Apply0().Functor0());return function(r){return function(u){return n(r(u.layer))(function(a){return{offsetX:u.offsetX,gridSizeX:u.gridSizeX,layer:a}})}}}}},S_=$n(N_);var Fs=function(t){return function(e){return function(n){return{layer:n,gridSizeY:e,offsetY:t}}}},ws=function(t){return function(e){return function(n){return{layer:n,gridSizeX:e,offsetX:t}}}};var P_=function(t){var e=bt(t),n=ce(t);return function(r){var u=C(r.Bind1());return function(a){return function(o){return function(i){return function(l){return u(e(l))(function(f){var c=a+o*Tr((f.y+i.translateY-a)/o);return n({translateX:i.translateX,translateY:c-f.y})(l)})}}}}}},bs=function(t){var e=bt(t),n=I_(t),r=wt(t),u=$t(t),a=zt(t),o=P_(t),i=Jt(t),l=Tt(t);return function(f){var c=n(f),p=o(f);return{position:function(_){return e(_.layer)},translate:function(_){return c(r(_))},containsPoint:function(_){return function(w){return u(_)(w.layer)}},dragStart:function(_){return c(a(_))},drag:function(_){return function(w){return c(p(w.offsetY)(w.gridSizeY)(_))(w)}},dragEnd:c(i),draw:function(_){return function(w){return l(_)(w.layer)}}}}},A_=function(t){var e=bt(t),n=ce(t);return function(r){var u=C(r.Bind1());return function(a){return function(o){return function(i){return function(l){return u(e(l))(function(f){var c=a+o*Tr((f.x+i.translateX-a)/o);return n({translateX:c-f.x,translateY:i.translateY})(l)})}}}}}},Ts=function(t){var e=bt(t),n=S_(t),r=wt(t),u=$t(t),a=zt(t),o=A_(t),i=Jt(t),l=Tt(t);return function(f){var c=n(f),p=o(f);return{position:function(_){return e(_.layer)},translate:function(_){return c(r(_))},containsPoint:function(_){return function(w){return u(_)(w.layer)}},dragStart:function(_){return c(a(_))},drag:function(_){return function(w){return c(p(w.offsetX)(w.gridSizeX)(_))(w)}},dragEnd:c(i),draw:function(_){return function(w){return l(_)(w.layer)}}}}};var Z=function(t){return t};function Cs(t){return t.split(/\r\n|[\n\v\f\r\u0085\u2028\u2029]/)}function Es(t){return t.split(/[\u000a-\u000d\u0085\u2028\u2029\u0009\u0020\u00a0\u1680\u2000-\u200a\u202f\u205f\u3000]+/)}var q3=typeof Array.from=="function",O_=typeof Symbol<"u"&&Symbol!=null&&typeof Symbol.iterator<"u"&&typeof String.prototype[Symbol.iterator]=="function",O3=typeof String.prototype.fromCodePoint=="function",B_=typeof String.prototype.codePointAt=="function",Ms=function(t){return B_?function(e){return e.codePointAt(0)}:t},xs=function(t){return function(e){return function(n){return function(r){return function(u){return function(a){var o=a.length;if(u<0||u>=o)return n;if(O_)for(var i=a[Symbol.iterator](),l=u;;--l){var f=i.next();if(f.done)return n;if(l===0)return e(r(f.value))}return t(u)(a)}}}}}};function yn(t){return t.charCodeAt(0)}function Ls(t){return String.fromCharCode(t)}var Ss=fn(Yr),Ps=Ye(Yr);var an=function(t){return t.toEnum};var Fn=function(t){return t.fromEnum};var Gn=function(t){return function(e){return function(n){return t(e(n)+1|0)}}},Vn=function(t){return function(e){return function(n){return t(e(n)-1|0)}}};var ql=function(t){return t>=yn(Ss)&&t<=yn(Ps)?new s(Ls(t)):d.value},X_={succ:Gn(ql)(yn),pred:Vn(ql)(yn),Ord0:function(){return aa}};var xo=function(){return{cardinality:yn(Ps)-yn(Ss)|0,toEnum:ql,fromEnum:yn,Bounded0:function(){return Yr},Enum1:function(){return X_}}}();var Ol=function(t){return t.join("")};var wn=function(t){return t.length};var jn=function(t){return function(e){return e.substring(t)}};var bn=function(t){return function(e){if(t>=0&&t<e.length)return e.charAt(t);throw new Error("Data.String.Unsafe.charAt: Invalid index.")}};var ng=function(t,e,n){var r=0,u;return function(a){if(r===2)return u;if(r===1)throw new ReferenceError(t+" was needed before it finished initializing (module "+e+", line "+a+")",e,a);return r=1,u=n(),r=2,u}},Lo=Fn(xo);var rg=k(ie);var Us=function(t){return function(e){return(((t-55296|0)*1024|0)+(e-56320|0)|0)+65536|0}};var Hs=function(t){return 56320<=t&&t<=57343},$s=function(t){return 55296<=t&&t<=56319},$a=function(t){var e=wn(t);if(e===0)return d.value;if(e===1)return new s({head:Lo(bn(0)(t)),tail:""});var n=Lo(bn(1)(t)),r=Lo(bn(0)(t)),u=$s(r)&&Hs(n);return u?new s({head:Us(r)(n),tail:jn(2)(t)}):new s({head:r,tail:jn(1)(t)})};var og=function(t){var e=Lo(bn(0)(t)),n=$s(e)&&wn(t)>1;if(n){var r=Lo(bn(1)(t)),u=Hs(r);return u?Us(e)(r):e}return e},Ws=Ms(og);var kl={eq:function(t){return function(e){return t===e}}},zl={compare:function(t){return function(e){return rg(t)(e)}},Eq0:function(){return kl}};var ag=function(t){return function(e){var n=t,r=!1,u;function a(o,i){var l=$a(i);if(l instanceof s){var f=o===0;if(f)return r=!0,new s(l.value0.head);n=o-1|0,e=l.value0.tail;return}return r=!0,d.value}for(;!r;)u=a(n,e);return u}},qs=function(t){return function(e){return t<0?d.value:t===0&&e===""?d.value:t===0?new s(Ws(e)):xs(ag)(s.create)(d.value)(Ws)(t)(e)}},ug={bottom:0,top:1114111,Ord0:function(){return zl}},Xn=function(){return{cardinality:1114112,fromEnum:function(t){return t},toEnum:function(t){if(t>=0&&t<=1114111)return new s(t);if(Wt)return d.value;throw new Error("Failed pattern match at Data.String.CodePoints (line 63, column 1 - line 68, column 26): "+[t.constructor.name])},Bounded0:function(){return ug},Enum1:function(){return lg(0)}}}(),lg=ng("enumCodePoint","Data.String.CodePoints",function(){return{succ:Gn(an(Xn))(Fn(Xn)),pred:Vn(an(Xn))(Fn(Xn)),Ord0:function(){return zl}}});var Oa=function(t){return Es(t)};var Pr=function(t){return Cs(t)};var Ba=t=>e=>()=>t.measureText(e);var ka=Ht(Zt)(It),Rg=gt(pt),Dg=v(Mt),Gs=v(A),yg=oo(Xr)(pt),ks=E(ua),Fg=ro(It)(pt);var jl=function(t){return function(e){return{position:e.position,maxWidth:e.maxWidth,fillStyle:e.fillStyle,fontName:e.fontName,fontSize:e.fontSize,fontStyle:e.fontStyle,fontWeight:e.fontWeight,align:e.align,baseline:e.baseline,lineHeight:e.lineHeight,letterSpacing:e.letterSpacing,dragOffset:e.dragOffset,context:e.context,text:t}}};var Io=function(t){return function(e){return function(){var r=Ba(t)(e)();return r.width}}},wg=function(t){return function(e){return function(n){var r=Oa(n);return function(){var a=ka(Io(t))(r)(),o=Io(t)(" ")(),i=function(c){return function(p){if(c.value1.value0.length===0)return new M(c.value0,new M([p.value0],p.value1));var _=c.value1.value1+o+p.value1>e;return _?new M(St(c.value0)(c.value1.value0),new M([p.value0],p.value1)):new M(c.value0,new M(St(c.value1.value0)(p.value0),c.value1.value1+o+p.value1))}},l=Rg(i)(new M([],new M([],0)))(Rn(r)(a)),f=Dg(An(" "))(l.value0);return l.value1.value0.length===0?f:St(f)(An(" ")(l.value1.value0))}}}},zs=function(t){return function(e){return function(n){return Gs(en)(ka(wg(t)(e))(Pr(n)))}}},Xl=function(t){return function(e){return function(){var r=Ba(t)(e)();return r.actualBoundingBoxAscent+r.actualBoundingBoxDescent}}};var Js=function(t){return function(e){return Gs(function(){var n=jt(0);return function(r){return n(yg(r))}}())(ka(Xl(t))(e))}},za=function(t){var e=t.Monad0().Applicative0(),n=R(e),r=Nt(t),u=Xt(e);return{position:function(a){return n(a.position)},translate:function(a){return function(o){return n({text:o.text,maxWidth:o.maxWidth,fillStyle:o.fillStyle,fontName:o.fontName,fontSize:o.fontSize,fontStyle:o.fontStyle,fontWeight:o.fontWeight,align:o.align,baseline:o.baseline,lineHeight:o.lineHeight,letterSpacing:o.letterSpacing,dragOffset:o.dragOffset,context:o.context,position:Be(a)(o.position)})}},containsPoint:function(a){return function(o){return r(Ft(o.context)(function(){Ce(o.context)(o.fillStyle)(),Un(o.context)(o.fontStyle+(" "+(o.fontWeight+(" "+(ks(o.fontSize)+("px "+o.fontName))))))(),wr(o.context)(o.baseline)(),br(o.context)(o.align)(),Bn(o.context)(o.letterSpacing)();var l=function(){if(o.maxWidth instanceof s)return zs(o.context)(o.maxWidth.value0)(o.text)();if(o.maxWidth instanceof d)return Pr(o.text);throw new Error("Failed pattern match at Template.Layer.Text (line 70, column 14 - line 72, column 44): "+[o.maxWidth.constructor.name])}(),f=ka(Io(o.context))(l)(),c=Js(o.context)(l)();return X(Fo)(Nr(f))(function(p){var _=function(){return o.baseline instanceof Ee?o.position.y+c*o.lineHeight*Z(p.value0):o.baseline instanceof qe?o.position.y-c-Z((Ct(l)-p.value0|0)-1|0)*c*o.lineHeight:o.position.y+c*o.lineHeight*Z(p.value0)}();if(o.align instanceof yr||o.align instanceof ge)return o.position.x<=a.x&&a.x<=o.position.x+p.value1&&_<=a.y&&a.y<=_+c;if(o.align instanceof Fr||o.align instanceof mn)return o.position.x-p.value1<=a.x&&a.x<=o.position.x&&_<=a.y&&a.y<=_+c;if(o.align instanceof Dr)return o.position.x-p.value1/2<=a.x&&a.x<=o.position.x+p.value1/2&&_<=a.y&&a.y<=_+c;throw new Error("Failed pattern match at Template.Layer.Text (line 84, column 7 - line 99, column 41): "+[o.align.constructor.name])})}))}},dragStart:function(a){return function(o){return n({text:o.text,position:o.position,maxWidth:o.maxWidth,fillStyle:o.fillStyle,fontName:o.fontName,fontSize:o.fontSize,fontStyle:o.fontStyle,fontWeight:o.fontWeight,align:o.align,baseline:o.baseline,lineHeight:o.lineHeight,letterSpacing:o.letterSpacing,context:o.context,dragOffset:new s(a)})}},drag:function(a){return function(o){return u(za(t))(o.dragOffset)(a)(o)}},dragEnd:function(a){return n({text:a.text,position:a.position,maxWidth:a.maxWidth,fillStyle:a.fillStyle,fontName:a.fontName,fontSize:a.fontSize,fontStyle:a.fontStyle,fontWeight:a.fontWeight,align:a.align,baseline:a.baseline,lineHeight:a.lineHeight,letterSpacing:a.letterSpacing,context:a.context,dragOffset:d.value})},draw:function(a){return function(o){return Ft(a)(function(){Ce(a)(o.fillStyle)(),Un(a)(o.fontStyle+(" "+(o.fontWeight+(" "+(ks(o.fontSize)+("px "+o.fontName))))))(),wr(a)(o.baseline)(),br(a)(o.align)(),Bn(a)(o.letterSpacing)();var l=function(){if(o.maxWidth instanceof s)return zs(a)(o.maxWidth.value0)(o.text)();if(o.maxWidth instanceof d)return Pr(o.text);throw new Error("Failed pattern match at Template.Layer.Text (line 112, column 14 - line 114, column 44): "+[o.maxWidth.constructor.name])}(),f=Js(a)(l)();return Fg(Nr(l))(function(c){var p=function(){return o.baseline instanceof Ee?o.position.y+Z(c.value0)*f*o.lineHeight:o.baseline instanceof qe?o.position.y-Z((Ct(l)-c.value0|0)-1|0)*f*o.lineHeight:o.position.y+Z(c.value0)*f*o.lineHeight}();return po(a)(c.value1)(o.position.x)(p)})()})}}}};var Vs=function(t){return t};var Sg=Vs;var Ql=function(t){return t};var Ks=function(t){if(Ct(t)>0)return new s(Sg(t));if(Wt)return d.value;throw new Error("Failed pattern match at Data.Array.NonEmpty (line 161, column 1 - line 161, column 58): "+[t.constructor.name])};var Wr=function(t){var e=null;return function(){return t===void 0||(e=t(),t=void 0),e}},Po=function(t){return t()};var Og=function(t,e,n){var r=0,u;return function(a){if(r===2)return u;if(r===1)throw new ReferenceError(t+" was needed before it finished initializing (module "+e+", line "+a+")",e,a);return r=1,u=n(),r=2,u}};var Bg=Ln();var un=function(){function t(e,n,r){this.value0=e,this.value1=n,this.value2=r}return t.create=function(e){return function(n){return function(r){return new t(e,n,r)}}},t}(),ln=function(){function t(e,n){this.value0=e,this.value1=n}return t.create=function(e){return function(n){return new t(e,n)}},t}();var Zs=function(){function t(e){this.value0=e}return t.create=function(e){return new t(e)},t}(),td=function(){function t(e){this.value0=e}return t.create=function(e){return new t(e)},t}(),ti=function(){function t(e,n){this.value0=e,this.value1=n}return t.create=function(e){return function(n){return new t(e,n)}},t}();var ed={defer:function(t){var e=Wr(t);return function(n,r,u,a,o){var i=Po(e);return i(n,r,u,a,o)}}};var Yn={map:function(t){return function(e){return function(n,r,u,a,o){return r(function(i){return e(n,r,u,a,function(l,f){return r(function(c){return o(l,t(f))})})})}}}};var Tn={alt:function(t){return function(e){return function(n,r,u,a,o){return r(function(i){return t(new un(n.value0,n.value1,!1),r,u,function(l,f){return r(function(c){return l.value2?a(l,f):e(n,r,u,a,o)})},o)})}}},Functor0:function(){return Yn}},kg=function(t){return function(e,n,r,u,a){var o=t(e);return a(o.value1,o.value0)}};var zg=function(t){var e=t.Monad0(),n=v(e.Bind1().Apply0().Functor0()),r=R(e.Applicative0()),u=nn(t);return function(a){return function(o){var i=function(l){var f=!1,c;function p(_){var w=_(void 0);if(w instanceof Zs){l=w.value0;return}if(w instanceof td)return f=!0,n(ee.create)(w.value0);if(w instanceof ti)return f=!0,r(new ne(new M(w.value1,w.value0)));throw new Error("Failed pattern match at Parsing (line 160, column 13 - line 166, column 32): "+[w.constructor.name])}for(;!f;)c=p(l);return c};return u(i)(function(l){return o(a,Zs.create,td.create,function(f,c){return new ti(f,new ht(c))},function(f,c){return new ti(f,new mt(c))})})}}},nd=kg(function(t){return new M(t.value1,t)});var Jg={index:0,line:1,column:1},Gg=function(t){var e=v(t.Monad0().Bind1().Apply0().Functor0()),n=zg(t);return function(r){return function(u){var a=new un(r,Jg,!1);return e(Ze)(n(a)(u))}}},Vg=Gg(Pf),rd=function(t){var e=Vg(t);return function(n){return Bg(e(n))}};var Ga=function(t){return function(e){return t.value2&&!e.value2?new un(e.value0,e.value1,!0):e}},Cn={apply:function(t){return function(e){return function(n,r,u,a,o){return r(function(i){return t(n,r,u,a,function(l,f){return r(function(c){var p=Ga(n)(l);return e(p,r,u,a,function(_,w){return r(function(T){return o(Ga(p)(_),f(w))})})})})})}}},Functor0:function(){return Yn}};var Ur={pure:function(t){return function(e,n,r,u,a){return a(e,t)}},Apply0:function(){return Cn}};var Qn={bind:function(t){return function(e){return function(n,r,u,a,o){return r(function(i){return t(n,r,u,a,function(l,f){return r(function(c){var p=e(f);return p(Ga(n)(l),r,u,a,o)})})})}}},Apply0:function(){return Cn}},jg=se(Qn);var od={Applicative0:function(){return Ur},Bind1:function(){return Qn}};var ni={throwError:function(t){return function(e,n,r,u,a){return u(e,t)}},Monad0:function(){return od}},Xg=kn(ni),Yg=function(t){return function(e){return Xg(new ln(t,e))}},Hr=function(t){return jg(Yg(t))(nd)};var Va={tailRecM:function(t){return function(e){return function(n,r,u,a,o){var i=Og("loop","Parsing",function(){return function(f,c,p){var _=t(c);return _(f,r,u,a,function(w,T){var x=Ga(f)(w);if(T instanceof ee){var I=p===0;return I?r(function($){return i(288)(x,T.value0,30)}):i(290)(x,T.value0,p-1|0)}if(T instanceof ne)return o(x,T.value0);throw new Error("Failed pattern match at Parsing (line 284, column 19 - line 292, column 46): "+[T.constructor.name])})}}),l=i(279);return l(n,e,30)}}},Monad0:function(){return od}};var Je=function(){function t(){}return t.value=new t,t}(),Ge=function(){function t(e,n){this.value0=e,this.value1=n}return t.create=function(e){return function(n){return new t(e,n)}},t}();var $r={foldr:function(t){return function(e){var n=function(){var u=function(a){return function(o){var i=a,l=!1,f;function c(p,_){if(_ instanceof Je)return l=!0,p;if(_ instanceof Ge){i=new Ge(_.value0,p),o=_.value1;return}throw new Error("Failed pattern match at Data.List.Types (line 107, column 7 - line 107, column 23): "+[p.constructor.name,_.constructor.name])}for(;!l;)f=c(i,o);return f}};return u(Je.value)}(),r=gt($r)(X(t))(e);return function(u){return r(n(u))}}},foldl:function(t){var e=function(n){return function(r){var u=n,a=!1,o;function i(l,f){if(f instanceof Je)return a=!0,l;if(f instanceof Ge){u=t(l)(f.value0),r=f.value1;return}throw new Error("Failed pattern match at Data.List.Types (line 111, column 12 - line 113, column 30): "+[f.constructor.name])}for(;!a;)o=i(u,r);return o}};return e},foldMap:function(t){var e=H(t.Semigroup0()),n=_t(t);return function(r){return gt($r)(function(u){var a=e(u);return function(o){return a(r(o))}})(n)}}};var sd=Rt(Tn),Ch=xn(ed);var Eh=be(Cn);var Mh=Bi(Cn);var dd=function(t){return function(e){return sd(t)(Ch(function(n){return Hr("Expected "+e(void 0))}))}},ri=function(t){return function(e){return sd(t)(Hr("Expected "+e))}};var qr=function(t){return function(e,n,r,u,a){return t(e,n,r,function(o,i){return u(new un(o.value0,o.value1,e.value2),i)},a)}};var Uo=function(t){return function(e){return function(n){return Mh(Eh(t)(n))(e)}}};var ai=C(Qn),xh=nn(Va),Lh=Rt(Tn),ja=R(Ur),Ih=Tl($r);var Nh=function(t){return ai(X(xh)(Je.value)(function(e){return Lh(ai(t)(function(n){return ja(new ee(new Ge(n,e)))}))(ja(new ne(e)))}))(function(e){return ja(gn(Ih(e)))})},ui=function(t){return ai(Nh(t))(function(e){var n=Ks(e);if(n instanceof d)return Hr("Expected at least 1");if(n instanceof s)return ja(n.value0);throw new Error("Failed pattern match at Parsing.Combinators.Array (line 55, column 3 - line 57, column 25): "+[n.constructor.name])})};var li=Fn(Xn),Ph=Zr(sa),Ah=He(),Wh=an(xo);var Uh=E(la);var ii=function(t){return function(e){return function(n){var r=li(e);if(r===10)return{index:t.index+1|0,line:t.line+1|0,column:1};if(r===13){var u=qs(0)(n);return u instanceof s&&li(u.value0)===10?{index:t.index+1|0,line:t.line,column:t.column}:{index:t.index+1|0,line:t.line+1|0,column:1}}return r===9?{index:t.index+1|0,line:t.line,column:(t.column+8|0)-Ph(t.column-1|0)(8)|0}:{index:t.index+1|0,line:t.line,column:t.column+1|0}}}},Hh=function(t){return function(e){return function(n){var r=t,u=e,a=!1,o;function i(l,f,c){var p=$a(f);if(p instanceof d)return a=!0,l;if(p instanceof s){var _=function(){if(Ra(p.value0.tail))return ii(l)(p.value0.head)(c);if(Wt)return ii(l)(p.value0.head)(p.value0.tail);throw new Error("Failed pattern match at Parsing.String (line 165, column 7 - line 167, column 52): ")}();r=_,u=p.value0.tail,n=c;return}throw new Error("Failed pattern match at Parsing.String (line 161, column 36 - line 168, column 38): "+[p.constructor.name])}for(;!a;)o=i(r,u,n);return o}}};var ci=function(t){return mo(function(e){return function(n){return function(r){return function(u){return function(a){var o=$a(e.value0);if(o instanceof d)return u(e,new ln("Unexpected EOF",e.value1));if(o instanceof s){var i=li(o.value0.head),l=i<0||i>65535;if(l)return u(e,new ln("Expected Char",e.value1));var f=Ah(Wh(i)),c=t(f);return c?a(new un(o.value0.tail,ii(e.value1)(o.value0.head)(o.value0.tail),!0),f):u(e,new ln("Predicate unsatisfied",e.value1))}throw new Error("Failed pattern match at Parsing.String (line 114, column 7 - line 129, column 75): "+[o.constructor.name])}}}}})};var fi=mo(function(t){return function(e){return function(n){return function(r){return function(u){var a=Ra(t.value0);return a?u(new un(t.value0,t.value1,!0),void 0):r(t,new ln("Expected EOF",t.value1))}}}}}),vd=function(t){return mo(function(e){return function(n){return function(r){return function(u){return function(a){var o=t(e.value0);if(o instanceof ht)return u(e,new ln(o.value0,e.value1));if(o instanceof mt)return a(new un(o.value0.remainder,Hh(e.value1)(o.value0.consumed)(o.value0.remainder),!Ra(o.value0.consumed)),o.value0.value);throw new Error("Failed pattern match at Parsing.String (line 286, column 7 - line 290, column 121): "+[o.constructor.name])}}}}})};var si=vd(function(t){return new mt({value:t,consumed:t,remainder:""})});var fe=function(t){return ri(ci(function(e){return e===t}))(Uh(t))};var Jh=E(Cu(la));var Gh=El(ea);var gd=function(t){return dd(ci(X(Gh)(t)))(function(e){return"none of "+Jh(t)})};var bd=E(ua),Xa=H(Ae),Ya=we(Mt),Td=gt(pt),vi=v(A),jh=oo(Xr)(pt),Kn=Ht(Zt)(It),Cd=Hu(pt)(We),En=v(Mt),Xh=v(dt),Re=v(Yn),Ve=Rt(Tn),Za=be(Cn),di=ro(It)(pt),Ed=Xe(Yn);var tu=function(){function t(){}return t.value=new t,t}(),Md=function(){function t(){}return t.value=new t,t}(),eu=function(){function t(){}return t.value=new t,t}(),xd=function(){function t(){}return t.value=new t,t}();var Yh=function(t){return t.text},Qh=function(t){return function(e){return function(n){return{line:St(e.line)(n),width:e.width+t+n.width}}}},mi=function(t){return function(e){return function(n){var r=function(){if(n.weight instanceof tu)return e.weight.normal;if(n.weight instanceof Md)return e.weight.bold;throw new Error("Failed pattern match at Template.Layer.Text.Markup (line 285, column 14 - line 287, column 37): "+[n.weight.constructor.name])}(),u=function(){if(n.style instanceof eu)return e.style.normal;if(n.style instanceof xd)return e.style.italic;throw new Error("Failed pattern match at Template.Layer.Text.Markup (line 282, column 13 - line 284, column 39): "+[n.style.constructor.name])}();return Un(t)(u+(" "+(r+(" "+(bd(e.size)+("px "+e.name))))))}}},Ld=function(t){return function(e){return{text:e.text,position:e.position,maxWidth:e.maxWidth,fillStyle:e.fillStyle,align:e.align,baseline:e.baseline,lineHeight:e.lineHeight,letterSpacing:e.letterSpacing,dragOffset:e.dragOffset,context:e.context,font:{name:e.font.name,style:e.font.style,weight:e.font.weight,size:t}}}};var Id=function(t){return function(e){var n=function(u){return function(a){var o=Ro(1)(t(a.text));if(o.before.length===1&&o.before[0]===""&&o.after.length===0)return{splits:u.splits,split:u.split};if(o.before.length===1&&o.after.length===0)return{splits:u.splits,split:St(u.split)({style:a.style,weight:a.weight,text:o.before[0]})};if(o.before.length===1&&o.before[0]===""){var i=Ro(Ct(o.after)-1|0)(o.after);return i.after.length===1&&i.after[0]===""?{splits:Xa(St(u.splits)(u.split))(Ya(i.before)(function(l){return[{style:a.style,weight:a.weight,text:l}]})),split:[]}:i.after.length===1?{splits:Xa(St(u.splits)(u.split))(Ya(i.before)(function(l){return[{style:a.style,weight:a.weight,text:l}]})),split:[{style:a.style,weight:a.weight,text:i.after[0]}]}:{splits:u.splits,split:u.split}}if(o.before.length===1){var i=Ro(Ct(o.after)-1|0)(o.after);return i.after.length===1&&i.after[0]===""?{splits:Xa(St(u.splits)(St(u.split)({style:a.style,weight:a.weight,text:o.before[0]})))(Ya(i.before)(function(f){return[{style:a.style,weight:a.weight,text:f}]})),split:[]}:i.after.length===1?{splits:Xa(St(u.splits)(St(u.split)({style:a.style,weight:a.weight,text:o.before[0]})))(Ya(i.before)(function(f){return[{style:a.style,weight:a.weight,text:f}]})),split:[{style:a.style,weight:a.weight,text:i.after[0]}]}:{splits:u.splits,split:u.split}}return{splits:u.splits,split:u.split}}},r=Td(n)({splits:[],split:[]})(e);return St(r.splits)(r.split)}},Nd=Id(Oa),_i=function(t){return{text:t,style:eu.value,weight:tu.value}};var Kh=function(t){return function(e){return{fragment:t,width:e}}},Sd=function(t){return function(e){return function(n){return Ft(t)(function(){return mi(t)(e)(n)(),Io(t)(n.text)()})}}},gi=function(t){return function(e){return Sd(t)(e)({style:eu.value,weight:tu.value,text:" "})}},Zh=function(t){return function(e){return function(n){return Ft(t)(function(){return mi(t)(e)(n)(),Xl(t)(n.text)()})}}},hd=function(t){return function(e){return function(n){return vi(function(){var r=jt(0);return function(u){return r(jh(u))}}())(Kn(Zh(t)(e))(n))}}},t0=function(t){return function(e){return function(n){return vi(Kh(n))(Sd(t)(e)(n))}}},Pd=function(t){return function(e){return function(n){return function(){var u=Kn(t0(t)(e))(n)(),a=Cd(En(function(o){return o.width})(u));return{word:u,width:a}}}}},Rd=function(t){return function(e){return function(n){var r=Nd(n);return function(){var a=Kn(Pd(t)(e))(r)(),o=gi(t)(e)(),i=o*Z(Ct(a)-1|0)+Cd(En(function(l){return l.width})(a));return{line:a,width:i}}}}},e0=function(t){return function(e){return function(n){return function(r){var u=Nd(r);return function(){var o=Kn(Pd(t)(e))(u)(),i=gi(t)(e)(),l=function(c){return function(p){if(c.value1.line.length===0)return new M(c.value0,{line:[p],width:p.width});var _=c.value1.width+i+p.width>n;return _?new M(St(c.value0)(c.value1),{line:[p],width:p.width}):new M(c.value0,Qh(i)(c.value1)(p))}},f=Td(l)(new M([],{line:[],width:0}))(o);return f.value1.line.length===0?f.value0:St(f.value0)(f.value1)}}}}},hi=function(t){return function(e){return{text:e.text,position:e.position,fillStyle:e.fillStyle,font:e.font,align:e.align,baseline:e.baseline,lineHeight:e.lineHeight,letterSpacing:e.letterSpacing,dragOffset:e.dragOffset,context:e.context,maxWidth:Xh(t)(e.maxWidth)}}},Ho=function(){var t=Re(Ql);return function(e){return t(ui(e))}}(),$o=Re(function(t){return _i(Ol(t))})(Ho(gd(["_","*"]))),pi=Id(Pr),Dd=function(t){return function(e){return function(n){return function(r){return vi(en)(Kn(e0(t)(e)(n))(pi(r)))}}}},Qa=function(t){return{text:t.text,weight:t.weight,style:xd.value}},yd=Ve(qr(Uo(fe("_"))(fe("_"))(Re(Qa)($o))))(Ve($o)(Za(fe("_"))(Re(function(t){return Qa(_i(t))})(si)))),n0=function(t){return t.fragment},r0=function(t){return En(n0)(t.word)},Fd=function(t){return En(r0)(t.line)},nu=function(t){var e=t.Monad0().Applicative0(),n=R(e),r=Nt(t),u=Xt(e);return{position:function(a){return n(a.position)},translate:function(a){return function(o){return n({text:o.text,maxWidth:o.maxWidth,fillStyle:o.fillStyle,font:o.font,align:o.align,baseline:o.baseline,lineHeight:o.lineHeight,letterSpacing:o.letterSpacing,dragOffset:o.dragOffset,context:o.context,position:Be(a)(o.position)})}},containsPoint:function(a){return function(o){return r(Ft(o.context)(function(){Ce(o.context)(o.fillStyle)(),Un(o.context)(o.font.style.normal+(" "+(o.font.weight.normal+(" "+(bd(o.font.size)+("px "+o.font.name))))))(),wr(o.context)(o.baseline)(),br(o.context)(o.align)(),Bn(o.context)(o.letterSpacing)();var l=function(){if(o.maxWidth instanceof s)return Dd(o.context)(o.font)(o.maxWidth.value0)(o.text)();if(o.maxWidth instanceof d)return Kn(Rd(o.context)(o.font))(pi(o.text))();throw new Error("Failed pattern match at Template.Layer.Text.Markup (line 199, column 14 - line 201, column 89): "+[o.maxWidth.constructor.name])}(),f=hd(o.context)(o.font)(en(Ml(Fd)(l)))();return X(Fo)(Nr(l))(function(c){var p=function(){return o.baseline instanceof Ee?o.position.y+f*o.lineHeight*Z(c.value0):o.baseline instanceof qe?o.position.y-f-Z((Ct(l)-c.value0|0)-1|0)*f*o.lineHeight:o.position.y+f*o.lineHeight*Z(c.value0)}();if(o.align instanceof yr||o.align instanceof ge)return o.position.x<=a.x&&a.x<=o.position.x+c.value1.width&&p<=a.y&&a.y<=p+f;if(o.align instanceof Fr||o.align instanceof mn)return o.position.x-c.value1.width<=a.x&&a.x<=o.position.x&&p<=a.y&&a.y<=p+f;if(o.align instanceof Dr)return o.position.x-c.value1.width/2<=a.x&&a.x<=o.position.x+c.value1.width/2&&p<=a.y&&a.y<=p+f;throw new Error("Failed pattern match at Template.Layer.Text.Markup (line 212, column 7 - line 232, column 41): "+[o.align.constructor.name])})}))}},dragStart:function(a){return function(o){return n({text:o.text,position:o.position,maxWidth:o.maxWidth,fillStyle:o.fillStyle,font:o.font,align:o.align,baseline:o.baseline,lineHeight:o.lineHeight,letterSpacing:o.letterSpacing,context:o.context,dragOffset:new s(a)})}},drag:function(a){return function(o){return u(nu(t))(o.dragOffset)(a)(o)}},dragEnd:function(a){return n({text:a.text,position:a.position,maxWidth:a.maxWidth,fillStyle:a.fillStyle,font:a.font,align:a.align,baseline:a.baseline,lineHeight:a.lineHeight,letterSpacing:a.letterSpacing,context:a.context,dragOffset:d.value})},draw:function(a){return function(o){return Ft(a)(function(){Ce(a)(o.fillStyle)(),wr(a)(o.baseline)(),br(a)(ge.value)(),Bn(a)(o.letterSpacing)();var l=function(){if(o.maxWidth instanceof s)return Dd(a)(o.font)(o.maxWidth.value0)(o.text)();if(o.maxWidth instanceof d)return Kn(Rd(a)(o.font))(pi(o.text))();throw new Error("Failed pattern match at Template.Layer.Text.Markup (line 245, column 14 - line 247, column 83): "+[o.maxWidth.constructor.name])}(),f=hd(a)(o.font)(en(Ml(Fd)(l)))();return di(Nr(l))(function(c){var p=function(){return o.baseline instanceof Ee?o.position.y+Z(c.value0)*f*o.lineHeight:o.baseline instanceof qe?o.position.y-Z((Ct(l)-c.value0|0)-1|0)*f*o.lineHeight:o.position.y+Z(c.value0)*f*o.lineHeight}(),_=function(){if(o.align instanceof yr||o.align instanceof ge)return o.position.x;if(o.align instanceof Fr||o.align instanceof mn)return o.position.x-c.value1.width;if(o.align instanceof Dr)return o.position.x-c.value1.width/2;throw new Error("Failed pattern match at Template.Layer.Text.Markup (line 263, column 16 - line 268, column 57): "+[o.align.constructor.name])}();return function(){var T=gi(a)(o.font)(),x=yo(0)(Sa(function(I){return function($){return I+T+$.width}})(0)(c.value1.line));return di(Rn(c.value1.line)(x))(function(I){var $=yo(0)(Sa(function(lt){return function(J){return lt+J.width}})(0)(I.value0.word));return di(Rn(I.value0.word)($))(function(lt){return function(){return mi(a)(o.font)(lt.value0.fragment)(),po(a)(Yh(lt.value0.fragment))(_+I.value1+lt.value1)(p)()}})})()}})()})}}}},Ka=function(t){return{text:t.text,style:t.style,weight:Md.value}},o0=Ve(qr(Uo(fe("*"))(fe("*"))(Re(En(Ka))(Ho(yd)))))(Za(fe("*"))(Ve(Ed([])(fi))(Re(En(Ka))(Ho(yd))))),wd=Ve(qr(Uo(fe("*"))(fe("*"))(Re(Ka)($o))))(Ve($o)(Za(fe("*"))(Re(function(t){return Ka(_i(t))})(si)))),a0=Ve(qr(Uo(fe("_"))(fe("_"))(Re(En(Qa))(Ho(wd)))))(Za(fe("_"))(Ve(Ed([])(fi))(Re(En(Qa))(Ho(wd))))),u0=Re(function(t){return en(Ql(t))})(ui(Ve(a0)(Ve(o0)(Re(Fl)($o)))));var ru=function(t){return function(e){var n=rd(t)(u0);if(n instanceof mt)return{position:e.position,maxWidth:e.maxWidth,fillStyle:e.fillStyle,font:e.font,align:e.align,baseline:e.baseline,lineHeight:e.lineHeight,letterSpacing:e.letterSpacing,dragOffset:e.dragOffset,context:e.context,text:n.value0};if(n instanceof ht)return{position:e.position,maxWidth:e.maxWidth,fillStyle:e.fillStyle,font:e.font,align:e.align,baseline:e.baseline,lineHeight:e.lineHeight,letterSpacing:e.letterSpacing,dragOffset:e.dragOffset,context:e.context,text:[{text:t,style:eu.value,weight:tu.value}]};throw new Error("Failed pattern match at Template.Layer.Text.Markup (line 176, column 37 - line 178, column 106): "+[n.constructor.name])}};var Wd=function(t){return t},Ud=function(t){return t},Hd=function(t){return t},l0={mapLayerWrapper:function(t){return function(e){var n=v(e.Bind1().Apply0().Functor0());return function(r){return function(u){return n(Wd)(r(u))}}}}},i0=$n(l0);var c0={mapLayerWrapper:function(t){return function(e){var n=v(e.Bind1().Apply0().Functor0());return function(r){return function(u){return n(Ud)(r(u))}}}}},f0=$n(c0);var s0={mapLayerWrapper:function(t){return function(e){var n=v(e.Bind1().Apply0().Functor0());return function(r){return function(u){return n(Hd)(r(u))}}}}},d0=$n(s0);var $d=function(t){return function(e){var n=bt(e),r=i0(e)(t),u=$t(e),a=zt(e),o=ce(e),i=Tt(e);return{position:function(l){return n(l)},translate:function(){var l=wt(e);return function(f){return r(l(f))}}(),containsPoint:function(l){return function(f){return u(l)(f)}},dragStart:function(l){return r(a({offsetX:l.offsetX,offsetY:0}))},drag:function(l){return r(o({translateX:l.translateX,translateY:0}))},dragEnd:r(Jt(e)),draw:function(l){return function(f){return i(l)(f)}}}}},qd=function(t){return function(e){var n=bt(e),r=f0(e)(t),u=$t(e),a=zt(e),o=ce(e),i=Tt(e);return{position:function(l){return n(l)},translate:function(){var l=wt(e);return function(f){return r(l(f))}}(),containsPoint:function(l){return function(f){return u(l)(f)}},dragStart:function(l){return r(a({offsetX:0,offsetY:l.offsetY}))},drag:function(l){return r(o({translateX:0,translateY:l.translateY}))},dragEnd:r(Jt(e)),draw:function(l){return function(f){return i(l)(f)}}}}},Od=function(t){var e=R(t.Applicative0());return function(n){var r=bt(n),u=$t(n),a=Tt(n);return{position:function(o){return r(o)},translate:function(){var o=d0(n)(t),i=wt(n);return function(l){return o(i(l))}}(),containsPoint:function(o){return function(i){return u(o)(i)}},dragStart:K(e),drag:K(e),dragEnd:e,draw:function(o){return function(i){return a(o)(i)}}}}};var Bd=Wd,kd=Ud,qo=Hd;function ou(t,e){var n={};for(var r in e)({}).hasOwnProperty.call(e,r)&&(n[r]=e[r]);for(var u in t)({}).hasOwnProperty.call(t,u)&&(n[u]=t[u]);return n}var zd=function(){return function(){return function(t){return function(e){return ou(t,e)}}}};var Zn=function(t){return function(e){return function(){return e[t]}}},g0=Zn("URL"),h0=Zn("documentURI"),R0=Zn("origin"),D0=Zn("compatMode"),y0=Zn("characterSet"),F0=Zn("contentType");var w0=Zn("documentElement");function au(t){return function(e){return function(){return e.createElement(t)}}}function Jd(t,e,n){return t==null?e:n(t)}var at=function(t){return Jd(t,d.value,s.create)};function Gd(t,e,n,r){if(typeof window<"u"){var u=window[n];if(u!=null&&r instanceof u)return e(r)}for(var a=r;a!=null;){var o=Object.getPrototypeOf(a),i=o.constructor.name;if(i===n)return e(r);if(i==="Object")return t;a=o}return t}var y=function(t){return function(e){return Gd(d.value,s.create,t,e)}};var uu=function(t){return function(e){return e[t]}},L0=uu("namespaceURI"),I0=uu("prefix"),N0=uu("localName"),S0=uu("tagName");function Oo(t){return function(e){return function(n){return function(){n.setAttribute(t,e)}}}}function Ri(t){return function(){var e=t.getBoundingClientRect();return{top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.width,height:e.height,x:e.x,y:e.y}}}var lu=function(t){return function(e){return function(){return e[t]}}},A0=lu("children"),W0=lu("firstElementChild"),U0=lu("lastElementChild"),H0=lu("childElementCount");var jd=m,De=m;var Le=function(t){return function(e){return function(){return e[t]}}};var k0=Le("baseURI"),z0=Le("ownerDocument"),J0=Le("parentNode"),G0=Le("parentElement");var V0=Le("childNodes"),j0=Le("firstChild"),X0=Le("lastChild"),Y0=Le("previousSibling"),Q0=Le("nextSibling"),K0=Le("nodeValue");var Z0=Le("textContent");function Di(t){return function(e){return function(){e.appendChild(t)}}}function Xd(t){return function(e){return function(){return e.getElementById(t)}}}var a2=v(A),tr=function(t){var e=a2(at),n=Xd(t);return function(r){return e(n(r))}};function oe(t){return function(){return function(e){return t(e)()}}}function ae(t){return function(e){return function(n){return function(r){return function(){return r.addEventListener(t,e,n)}}}}}var Yd=m;function Qd(t){return function(e){return e.item(t)}}var v2=v(dt),m2=function(t){var e=Qd(t);return function(n){return at(e(n))}},Kd=function(t){var e=rn(t);return function(n){return e(function(r){return v2(X(M.create)(r+1|0))(m2(r)(n))})(0)}};function yi(t){return function(){return URL.createObjectURL(t)}}var Fi=function(){return window};function Zd(t){return t.body}var w2=v(A);var er=m;var tp=m,wi=m;var ep=function(t){return w2(at)(function(){return Zd(t)})};function np(t,e,n){var r=Object.prototype.toString.call(n);return r.indexOf("[object HTML")===0&&r.indexOf("Element]")===r.length-8?e(n):t}function bi(t){return function(){return t.click()}}function Ti(t){return function(){return t.offsetWidth}}function Ci(t){return function(){return t.offsetHeight}}var rp=m;var op=m;var Ei=function(t){return np(d.value,s.create,t)};function lp(t){return function(){return t.files}}function Or(t){return function(){return t.value}}var eR=v(A);var iu=y("HTMLInputElement");var Mi=function(){var t=eR(at);return function(e){return t(lp(e))}}();function cu(t){return function(){return t.value}}var cp=y("HTMLTextAreaElement");function xi(t){return function(){return t.document}}function Bo(t){return t.clientX}function ko(t){return t.clientY}function zo(t){return t.touches}var fu=y("TouchEvent");function fp(t,e){return e.item(t)}var su=function(t){return function(e){return at(fp(t,e))}};function Jo(t){return t.clientX}function Go(t){return t.clientY}var du=y("MouseEvent");var Ie=R(It),LR=Ne(Se),Vo=Eo(Bt)(_n(A)),IR=Tt(Vo),kr=bt(Vo),sp=zt(Vo),vu=ce(Vo),dp=Jt(Vo),Ii=Jn(yt),Br=C(Ii),Li=se(Ii),pu=Ir(yt),nr=Me(Lr)(yt),pp=LR(Ii),vp=se(vn),mp=R(Co(yt)),NR=Ha(Bt),SR=zd()(),rr=Rs(Bt),PR=Kd(Rl),zr=function(t){return function(e){return function(n){return function(){var u=Ri(op(e))(),a=Ti(e)(),o=Ci(e)(),i=lo(t)(),l=io(t)();return{x:(n.x-u.left)*i/a,y:(n.y-u.top)*l/o}}}}},ye=function(t){return function(){var n=Rr(t.canvas)(),r=vf(t.canvas)();return tl(n)({x:0,y:0,width:r.width,height:r.height})(),Ft(n)(IR(n)(t.layer))()}},AR=function(t){return oe(function(e){var n=fu(e);if(n instanceof d)return Ie(void 0);if(n instanceof s){var r=su(0)(zo(n.value0));if(r instanceof d)return ye(t);if(r instanceof s)return function(){var a=kr(t.layer)(),o=zr(t.canvas)(t.canvasHtmlElement)({x:Z(Bo(r.value0)),y:Z(ko(r.value0))})(),i={offsetX:o.x-a.x,offsetY:o.y-a.y};return sp(i)(t.layer)(),ye(t)()};throw new Error("Failed pattern match at Template.Main (line 194, column 22 - line 204, column 22): "+[r.constructor.name])}throw new Error("Failed pattern match at Template.Main (line 192, column 63 - line 204, column 22): "+[n.constructor.name])})},WR=function(t){return oe(function(e){var n=fu(e);if(n instanceof d)return Ie(void 0);if(n instanceof s){var r=su(0)(zo(n.value0));if(r instanceof d)return ye(t);if(r instanceof s)return function(){var a=kr(t.layer)(),o=zr(t.canvas)(t.canvasHtmlElement)({x:Z(Bo(r.value0)),y:Z(ko(r.value0))})(),i={translateX:o.x-a.x,translateY:o.y-a.y};return vu(i)(t.layer)(),ye(t)()};throw new Error("Failed pattern match at Template.Main (line 222, column 22 - line 232, column 22): "+[r.constructor.name])}throw new Error("Failed pattern match at Template.Main (line 220, column 62 - line 232, column 22): "+[n.constructor.name])})},UR=function(t){return oe(function(e){var n=fu(e);if(n instanceof d)return Ie(void 0);if(n instanceof s){var r=su(0)(zo(n.value0));if(r instanceof d)return ye(t);if(r instanceof s)return function(){var a=kr(t.layer)(),o=zr(t.canvas)(t.canvasHtmlElement)({x:Z(Bo(r.value0)),y:Z(ko(r.value0))})(),i={translateX:o.x-a.x,translateY:o.y-a.y};return vu(i)(t.layer)(),dp(t.layer)(),ye(t)()};throw new Error("Failed pattern match at Template.Main (line 251, column 22 - line 262, column 22): "+[r.constructor.name])}throw new Error("Failed pattern match at Template.Main (line 249, column 61 - line 262, column 22): "+[n.constructor.name])})},_p=function(t){return function(e){return zn(Br(Li(pu)(nr(cl(t))))(function(n){return pp(nr(il(n)(e)))(function(){return Br(nr(vp(xi)(Fi)))(function(r){return Br(Li(pu)(nr(tr("canvas")(er(r)))))(function(u){return Br(pu(Ei(u)))(function(a){return mp({canvas:n,canvasElement:u,canvasHtmlElement:a,document:r})})})})})}))}},gp=function(t){var e=kt(t);return function(n){return function(r){return function(){var a=NR(e(r))();return SR(n)({layer:a})}}}},HR=function(t){return oe(function(e){var n=du(e);if(n instanceof d)return Ie(void 0);if(n instanceof s)return function(){var u=kr(t.layer)(),a=zr(t.canvas)(t.canvasHtmlElement)({x:Z(Jo(n.value0)),y:Z(Go(n.value0))})(),o={translateX:a.x-u.x,translateY:a.y-u.y};return vu(o)(t.layer)(),dp(t.layer)(),ye(t)()};throw new Error("Failed pattern match at Template.Main (line 235, column 60 - line 246, column 20): "+[n.constructor.name])})},$R=function(t){return oe(function(e){var n=du(e);if(n instanceof d)return Ie(void 0);if(n instanceof s)return function(){var u=kr(t.layer)(),a=zr(t.canvas)(t.canvasHtmlElement)({x:Z(Jo(n.value0)),y:Z(Go(n.value0))})(),o={translateX:a.x-u.x,translateY:a.y-u.y};return vu(o)(t.layer)(),ye(t)()};throw new Error("Failed pattern match at Template.Main (line 207, column 62 - line 217, column 20): "+[n.constructor.name])})},qR=function(t){return oe(function(e){var n=du(e);if(n instanceof d)return Ie(void 0);if(n instanceof s)return function(){var u=kr(t.layer)(),a=zr(t.canvas)(t.canvasHtmlElement)({x:Z(Jo(n.value0)),y:Z(Go(n.value0))})(),o={offsetX:a.x-u.x,offsetY:a.y-u.y};return sp(o)(t.layer)(),ye(t)()};throw new Error("Failed pattern match at Template.Main (line 179, column 62 - line 189, column 20): "+[n.constructor.name])})},OR=function(t){return oe(function(e){return ye(t)})},Ni=function(t){return function(e){return function(n){return function(r){return zn(function(){var u=er(r.document);return Br(Li(pu)(nr(tr(t)(u))))(function(a){return Br(nr(oe(function(o){return function(){var l=au("canvas")(wi(r.document))();Oo("id")("hidden-clip-canvas")(l)();var f=ep(r.document)();if(f instanceof s){Di(jd(l))(rp(f.value0))();var c=cl("hidden-clip-canvas")();if(c instanceof s){il(c.value0)({width:n.width,height:n.height})();var p=Rr(c.value0)(),_=r.canvas;al(p)(_)(n.x)(n.y)(n.width)(n.height)(0)(0)(n.width)(n.height)();var w=Yu(c.value0)(),T=au("a")(wi(r.document))();Oo("href")(w)(T)(),Oo("download")(e)(T)();var x=Ei(T);if(x instanceof s)return bi(x.value0)();throw new Error("Failed pattern match at Template.Main (line 173, column 9 - line 173, column 53): "+[x.constructor.name])}throw new Error("Failed pattern match at Template.Main (line 162, column 5 - line 162, column 64): "+[c.constructor.name])}throw new Error("Failed pattern match at Template.Main (line 159, column 5 - line 159, column 53): "+[f.constructor.name])}})))(function(o){return pp(nr(ae("click")(o)(!1)(De(a))))(function(){return mp(a)})})})}())}}}};var BR=function(t){return function(e){return function(n){return function(r){return function(){var a=tr(e)(er(t.document))();if(a instanceof s){var o=cp(a.value0);if(o instanceof s){var i=cu(o.value0)();rr(r(i))(n)();var l=oe(function(f){return function(){var p=cu(o.value0)();return rr(r(p))(n)()}})();return ae("input")(l)(!1)(De(a.value0))()}throw new Error("Failed pattern match at Template.Main (line 298, column 7 - line 298, column 55): "+[o.constructor.name])}throw new Error("Failed pattern match at Template.Main (line 297, column 3 - line 297, column 79): "+[a.constructor.name])}}}}},mu=function(t){return function(e){return function(n){return function(r){return BR(t)(e)(n)(function(u){return function(a){return function(o){return Ie(a(o))}}(r(u))})}}}},hp=function(t){return function(e){return function(n){return function(r){return function(){var a=tr(e)(er(t.document))();if(a instanceof s){var o=iu(a.value0);if(o instanceof s){var i=Or(o.value0)();(function(){var f=Ta(i);if(f instanceof s)return rr(r(f.value0))(n)();if(f instanceof d)return void 0;throw new Error("Failed pattern match at Template.Main (line 317, column 3 - line 319, column 25): "+[f.constructor.name])})();var l=oe(function(f){return function(){var p=Or(o.value0)(),_=Ta(p);if(_ instanceof s)return rr(r(_.value0))(n)();if(_ instanceof d)return void 0;throw new Error("Failed pattern match at Template.Main (line 323, column 5 - line 325, column 27): "+[_.constructor.name])}})();return ae("input")(l)(!1)(De(a.value0))()}throw new Error("Failed pattern match at Template.Main (line 314, column 7 - line 314, column 52): "+[o.constructor.name])}throw new Error("Failed pattern match at Template.Main (line 313, column 3 - line 313, column 79): "+[a.constructor.name])}}}}},kR=function(t){return function(e){return function(n){return function(r){return hp(t)(e)(n)(function(u){return function(a){return function(o){return Ie(a(o))}}(r(u))})}}}};var Rp=function(t){var e=Rf(t);return function(n){return function(r){return function(u){return function(){var o=hn(1)();return hp(n)(r)(u)(function(i){return function(l){return function(){var c=te(o)();return Er(i)(o)(),e(i/c)(l)()}}})()}}}}},Si=function(t){return function(e){return function(n){return kR(t)(e)(n)(Ld)}}},zR=function(t){return function(e){return function(n){return function(r){return function(){var a=tr(e)(er(t.document))();if(a instanceof s){var o=iu(a.value0);if(o instanceof s){var i=Or(o.value0)();rr(r(i))(n)();var l=oe(function(f){return function(){var p=Or(o.value0)();return rr(r(p))(n)()}})();return ae("input")(l)(!1)(De(a.value0))()}throw new Error("Failed pattern match at Template.Main (line 282, column 7 - line 282, column 52): "+[o.constructor.name])}throw new Error("Failed pattern match at Template.Main (line 281, column 3 - line 281, column 79): "+[a.constructor.name])}}}}},Pi=function(t){return function(e){return function(n){return function(r){return zR(t)(e)(n)(function(u){return function(a){return function(o){return Ie(a(o))}}(r(u))})}}}},JR=function(t){return function(e){return function(n){return function(r){return function(){var a=tr(e)(er(t.document))();if(a instanceof s){var o=iu(a.value0);if(o instanceof s){var i=function(c){if(c instanceof d)return Ie(void 0);if(c instanceof s){var p=ze(PR(c.value0))(0);if(p instanceof d)return Ie(void 0);if(p instanceof s)return rr(r(p.value0))(n);throw new Error("Failed pattern match at Template.Main (line 353, column 24 - line 355, column 54): "+[p.constructor.name])}throw new Error("Failed pattern match at Template.Main (line 351, column 26 - line 355, column 54): "+[c.constructor.name])},l=Mi(o.value0)();i(l)();var f=oe(function(c){return vp(i)(Mi(o.value0))})();return ae("change")(f)(!1)(De(a.value0))()}throw new Error("Failed pattern match at Template.Main (line 348, column 7 - line 348, column 52): "+[o.constructor.name])}throw new Error("Failed pattern match at Template.Main (line 347, column 3 - line 347, column 79): "+[a.constructor.name])}}}}};var GR=function(t){return function(e){return function(n){return function(r){return JR(t)(e)(n)(function(u){return r(Yd(u))})}}}};var Dp=function(t){return function(e){return function(n){return function(r){return GR(t)(e)(n)(function(u){return function(a){return function(){var i=yi(u)();return r(i)(a)()}}})}}}},yp=function(t){return function(){var n=qR(t)(),r=$R(t)(),u=HR(t)(),a=AR(t)(),o=WR(t)(),i=UR(t)(),l=OR(t)();return ae("mousedown")(n)(!1)(De(t.canvasElement))(),ae("mousemove")(r)(!1)(De(t.canvasElement))(),ae("mouseup")(u)(!1)(De(t.canvasElement))(),ae("touchstart")(a)(!1)(De(t.canvasElement))(),ae("touchmove")(o)(!1)(De(t.canvasElement))(),ae("touchend")(i)(!1)(De(t.canvasElement))(),ae("input")(l)(!1)(tp(t.document))()}};var jR=Ne(Se),XR=Pn(pt)(_e),Fp=Ht(Zt),wp=Et(A),YR=Fp(It),QR=se(vn),Jr=Ha(Bt),KR=rs(Bt),ZR=os(Bt),tD=Rp(es(Bt)),Ai=Nl(Bt),Ui=Eo(Bt),eD=kt(Ui(nu(Bt))),nD=kt(Ui(za(Bt))),bp=Od(yt),Tp=Pa(Bt),Wi=kt(bp(Tp)),rD=kt(qd(yt)(bs(xl(yt))(yt))),oD=kt(Ui(Tp)),aD=kt(bp(Hl(It))),uD=gp(ms(yt));var Cp=function(t){var e=Pa(t),n=bt(e),r=t.Monad0(),u=r.Bind1(),a=C(u),o=v(u.Apply0().Functor0()),i=us(t),l=wt(e),f=r.Applicative0(),c=R(f),p=$t(e),_=Tt(e),w=zt(e),T=Xt(f),x=Jt(e);return{position:function(I){return n(I.guillotine)},translate:function(I){return function($){return a(o(function(lt){return function(J){return J+I.translateX}(function(J){return J.x}(lt))})(n($.guillotine)))(function(lt){return a(i($.guillotine))(function(J){var it=as($.guillotine).scaleY,At=function(){return J instanceof s&&J.value0.width!==0?ns({scaleX:($.xMax-lt)/J.value0.width,scaleY:it})($.guillotine):$.guillotine}();return a(l(I)(At))(function(Fe){return c({xMax:$.xMax,guillotine:Fe})})})})}},containsPoint:function(I){return function($){return p(I)($.guillotine)}},draw:function(I){return function($){return _(I)($.guillotine)}},dragStart:function(I){return function($){return a(w(I)($.guillotine))(function(lt){return c({xMax:$.xMax,guillotine:lt})})}},drag:function(I){return function($){return T(Cp(t))($.guillotine.dragOffset)(I)($)}},dragEnd:function(I){return a(x(I.guillotine))(function($){return c({xMax:I.xMax,guillotine:$})})}}},Ep=function(t){var e=t.Monad0(),n=sl(e),r=bt(n),u=e.Bind1(),a=C(u),o=wt(n),i=Cp(t),l=wt(i),f=Eo(t),c=f(za(t)),p=wt(c),_=f(nu(t)),w=wt(_),T=jR(u),x=Ds(t),I=e.Applicative0(),$=R(I),lt=u.Apply0().Functor0(),J=v(lt),it=Fp(I),At=_n(lt),Fe=$t(At),je=kt(n),Mn=kt(i),ar=kt(_),Hi=kt(c),xp=Tt(At),Lp=zt(n),Ip=Xt(I),Np=Jt(n);return{position:function(vt){return r(vt.overlayBackground)},translate:function(vt){return function(ut){return a(o(vt)(ut.overlayBackground))(function(_u){return a(l(vt)(ut.guillotine))(function(Sp){return a(p(vt)(ut.author))(function(Pp){return a(w(vt)(ut.title))(function($i){return T(x(hi(function(gu){return gu-vt.translateX}))($i))(function(){return T(x(hi(function(gu){return gu-vt.translateX}))(ut.bodyText))(function(){return $({overlayBackground:_u,guillotine:Sp,author:Pp,bodyText:ut.bodyText,title:$i})})})})})})})}},containsPoint:function(vt){return function(ut){return J(XR)(it(Fe(vt))([je(ut.overlayBackground),Mn(ut.guillotine),ar(ut.bodyText),Hi(ut.author),ar(ut.title)]))}},draw:function(vt){return function(ut){return wp(YR(xp(vt))([je(ut.overlayBackground),Mn(ut.guillotine),ar(ut.bodyText),Hi(ut.author),ar(ut.title)]))}},dragStart:function(vt){return function(ut){return a(Lp(vt)(ut.overlayBackground))(function(_u){return $({guillotine:ut.guillotine,bodyText:ut.bodyText,author:ut.author,title:ut.title,overlayBackground:_u})})}},drag:function(vt){return function(ut){return Ip(Ep(t))(ut.overlayBackground.dragOffset)(vt)(ut)}},dragEnd:function(vt){return a(Np(vt.overlayBackground))(function(ut){return $({guillotine:vt.guillotine,bodyText:vt.bodyText,author:vt.author,title:vt.title,overlayBackground:ut})})}}},lD=kt($d(yt)(Ts(Ep(Bt))(yt))),rt=2;var iD=function(t){var e=t.Monad0(),n=C(e.Bind1()),r=Nl(t),u=R(e.Applicative0());return function(a){return function(o){return function(i){return function(l){return n(r(a)(o)(i)(Hn.value))(function(f){return u({guillotine:f,xMax:l})})}}}}},cD=iD(Bt),fD=function(){return{width:1080,height:1080*5/4}}(),jo=function(){return Kt(ir()(cn({reflectSymbol:function(){return"height"}})()(cn({reflectSymbol:function(){return"width"}})()(lr)(We))(We)))({width:2*rt,height:rt})(fD)}(),or=function(){return jo.height}(),Pt=function(){return jo.width}(),Mp=wp(function(){var e=_p("canvas")(jo)();if(e instanceof s){var n=Rr(e.value0.canvas)(),r=QR(Jr)(KR({x:0,y:0})({scaleX:1,scaleY:1})(Hn.value))();Dp(e.value0)("image")(r)(ZR)(),tD(e.value0)("image-size")(r)();var u=cD("./img/guillotine2x.png")({x:Pt/2+285*rt,y:60*rt})({scaleX:(Pt-180*rt-(Pt/2+285*rt))/1560,scaleY:1})(Pt-180*rt)(),a=Ai("./img/guillotinewit2x.png")({x:60*rt,y:60*rt})({scaleX:1,scaleY:1})(Hn.value)(),o=Ai("./img/jacobinlogo80x200.png")({x:Pt-100*rt,y:or-160*rt})({scaleX:1,scaleY:1})(Hn.value)(),i=Ai("./img/jacobinlogowit80x200.png")({x:Pt/2-100*rt,y:or-160*rt})({scaleX:1,scaleY:1})(Hn.value)(),l=Jr({text:[],lineHeight:.95,position:{x:Pt-rt*60,y:rt*150},fillStyle:"#f00",font:{name:"Oswald",style:{normal:"normal",italic:"italic"},weight:{normal:"500",bold:"700"},size:90*rt},align:mn.value,baseline:Ee.value,letterSpacing:"-3px",dragOffset:d.value,maxWidth:new s(Pt/2-2*60*rt),context:n})();mu(e.value0)("bodytext")(l)(ru)(),Si(e.value0)("bodytext-size")(l)();var f={x:60*rt,y:250*rt},c=Jr({text:[],lineHeight:.9,position:f,maxWidth:new s(Pt/2-2*60*rt),fillStyle:"#fff",font:{name:"Oswald",style:{normal:"normal",italic:"italic"},weight:{normal:"700",bold:"700"},size:100*rt},align:ge.value,baseline:qe.value,letterSpacing:"-2px",dragOffset:d.value,context:n})();mu(e.value0)("title-left")(c)(ru)(),Si(e.value0)("title-size")(c)();var p=Jr({text:"AUTEUR",lineHeight:.95,position:f,fillStyle:"#fff",fontName:"Oswald",fontStyle:"normal",fontWeight:"500",fontSize:rt*50,align:ge.value,baseline:Ee.value,letterSpacing:"-3px",dragOffset:d.value,maxWidth:d.value,context:n})();Pi(e.value0)("author")(p)(jl)();var _=Fs(f.y)(50*rt)(Zf([eD(c),nD(p)])),w=Jr({text:"AUTEUR",lineHeight:.95,position:{x:Pt/2+128*rt,y:or-160*rt},fillStyle:"#f00",fontName:"Oswald",fontStyle:"normal",fontWeight:"400",fontSize:2*50,align:ge.value,baseline:qe.value,letterSpacing:"-3px",dragOffset:d.value,maxWidth:d.value,context:n})();Pi(e.value0)("author")(w)(function(At){return jl(ha(At))})();var T=Jr({text:[],lineHeight:.9,position:{x:Pt/2+128*rt,y:or-160*rt},maxWidth:new s(Pt/2-(128+2*60+20)*rt),fillStyle:"#f00",font:{name:"Oswald",style:{normal:"normal",italic:"italic"},weight:{normal:"700",bold:"700"},size:50*rt},align:ge.value,baseline:Ee.value,letterSpacing:"-2px",dragOffset:d.value,context:n})();mu(e.value0)("title-right")(T)(ru)();var x=Ff({x:Pt/2+60*rt,y:0})({width:Pt,height:or})(82.5)("#fff"),I=ws(Pt/2)(60*rt)({overlayBackground:x,guillotine:u,bodyText:l,author:w,title:T}),$=_s([Wi(qo(i)),Wi(qo(o)),rD(kd(_)),lD(Bd(I)),Wi(qo(a)),oD(r),aD(qo(gs({x:0,y:0,width:jo.width,height:jo.height})("#f00")))]),lt=uD(e.value0)($)();ye(lt)(),yp(lt)();var J=Ni("download-left")("jacobin-titel-links.png")({x:0,y:0,width:Pt/2,height:or})(lt)();if(J instanceof s){var it=Ni("download-right")("jacobin-titel-rechts.png")({x:Pt/2,y:0,width:Pt/2,height:or})(lt)();if(it instanceof s)return void 0;throw new Error("Failed pattern match at Jacobin.TitleSlide (line 303, column 3 - line 303, column 173): "+[it.constructor.name])}throw new Error("Failed pattern match at Jacobin.TitleSlide (line 302, column 3 - line 302, column 155): "+[J.constructor.name])}throw new Error("Failed pattern match at Jacobin.TitleSlide (line 136, column 3 - line 136, column 72): "+[e.constructor.name])});Mp();})();

/* Generated by Spago v0.93.44 */
(()=>{var $i=function(t){return function(e){for(var n=t.length,r=e.length,u=new Array(n*r),a=0,o=0;o<n;o++)for(var l=t[o],i=0;i<r;i++)u[a++]=l(e[i]);return u}};var Vo={compose:function(t){return function(e){return function(n){return t(e(n))}}}};var Y=function(t){return t.identity},et={identity:function(t){return t},Semigroupoid0:function(){return Vo}};var It=!0;var j=function(t){return function(e){return function(n){return t(n)(e)}}},K=function(t){return function(e){return t}};var qi=function(t){return function(e){for(var n=e.length,r=new Array(n),u=0;u<n;u++)r[u]=t(e[u]);return r}};var O=function(){function t(){}return t.value=new t,t}();var v=function(t){return t.map},ln=function(t){var e=v(t);return function(n){return function(r){return e(r)(n)}}},wt=function(t){return v(t)(K(void 0))};var Ge=function(t){var e=v(t);return function(n){return e(K(n))}};var bt={map:qi};var Lp=Y(et);var Qo={apply:$i,Functor0:function(){return bt}},st=function(t){return t.apply},Oi=function(t){var e=st(t),n=v(t.Functor0());return function(r){return function(u){return e(n(K)(r))(u)}}},Fe=function(t){var e=st(t),n=v(t.Functor0());return function(r){return function(u){return e(n(K(Lp))(r))(u)}}};var h=function(t){return t.pure};var kr=function(t){var e=st(t.Apply0()),n=h(t);return function(r){return function(u){return e(n(r))(u)}}};var ki=typeof Array.prototype.flatMap=="function"?function(t){return function(e){return t.flatMap(e)}}:function(t){return function(e){for(var n=[],r=t.length,u=0;u<r;u++)for(var a=e(t[u]),o=a.length,l=0;l<o;l++)n.push(a[l]);return n}};var Le=function(t){return t.discard};var Yo={bind:ki,Apply0:function(){return Qo}},C=function(t){return t.bind},ie=function(t){return j(C(t))};var Ie={discard:function(t){return C(t)}};var zi=function(t){return function(e){return function(n){for(var r=e,u=n.length,a=u-1;a>=0;a--)r=t(n[a])(r);return r}}},Ji=function(t){return function(e){return function(n){for(var r=e,u=n.length,a=0;a<u;a++)r=t(r)(n[a]);return r}}};var Gi=function(t){return function(e){return t.length===0?e:e.length===0?t:t.concat(e)}};var Vt=function(t){return t.reflectSymbol};var fe=function(t){return function(e){return e[t]}},ne=function(t){return function(e){return function(n){var r={};for(var u in n)({}).hasOwnProperty.call(n,u)&&(r[u]=n[u]);return r[t]=e,r}}};var Se={append:Gi};var H=function(t){return t.append};var Rt=function(t){return t.alt};var ji="\uFFFF",Qi="\0",$p=Number.POSITIVE_INFINITY,qp=Number.NEGATIVE_INFINITY;var Ru=function(t){return function(e){return function(n){return function(r){return function(u){return r<u?t:r===u?e:n}}}}};var Xi=Ru,Yi=Ru;var Ki=Ru;var Du=function(t){return function(e){return t===e}};var Zi=Du,tc=Du,ec=Du;var nc={eq:tc},Ko={eq:Zi},Zo={eq:ec};var V=function(t){return t.eq};var B=function(){function t(){}return t.value=new t,t}(),W=function(){function t(){}return t.value=new t,t}(),nt=function(){function t(){}return t.value=new t,t}();var ar={eq:function(t){return function(e){return t instanceof B&&e instanceof B||t instanceof W&&e instanceof W||t instanceof nt&&e instanceof nt}}};var rc=function(t){return function(e){return t-e|0}},oc=function(t){return function(e){return t-e}};var ac=function(t){return function(e){return t+e|0}},uc=function(t){return function(e){return t*e|0}},lc=function(t){return function(e){return t+e}},ic=function(t){return function(e){return t*e}};var cc=function(t){return t.zeroRecord},se=function(t){return t.zero};var ur={addRecord:function(t){return function(e){return function(n){return{}}}},mulRecord:function(t){return function(e){return function(n){return{}}}},oneRecord:function(t){return function(e){return{}}},zeroRecord:function(t){return function(e){return{}}}};var Pe={add:lc,zero:0,mul:ic,one:1},ta={add:ac,zero:0,mul:uc,one:1},fc=function(t){return t.oneRecord},Ae=function(t){return t.one},sc=function(t){return t.mulRecord},jt=function(t){return t.mul},dc=function(t){return t.addRecord},lr=function(){return function(t){return{add:dc(t)(O.value),mul:sc(t)(O.value),one:fc(t)(O.value)(O.value),zero:cc(t)(O.value)(O.value)}}},re=function(t){return t.add};var cn=function(t){var e=Vt(t);return function(){return function(n){var r=dc(n),u=sc(n),a=fc(n),o=cc(n);return function(l){var i=re(l),d=jt(l),c=Ae(l),p=se(l);return{addRecord:function(F){return function(N){return function(b){var M=r(O.value)(N)(b),x=e(O.value),$=ne(x),lt=fe(x);return $(i(lt(N))(lt(b)))(M)}}},mulRecord:function(F){return function(N){return function(b){var M=u(O.value)(N)(b),x=e(O.value),$=ne(x),lt=fe(x);return $(d(lt(N))(lt(b)))(M)}}},oneRecord:function(F){return function(N){var b=a(O.value)(O.value),M=e(O.value),x=ne(M);return x(c)(b)}},zeroRecord:function(F){return function(N){var b=o(O.value)(O.value),M=e(O.value),x=ne(M);return x(p)(b)}}}}}}};var Gp=lr(),pc=function(t){return t.subRecord},ir=function(t){return t.sub};var yu={subRecord:function(t){return function(e){return function(n){return{}}}},SemiringRecord0:function(){return ur}},ea=function(t){var e=Vt(t),n=cn(t)();return function(){return function(r){var u=pc(r),a=n(r.SemiringRecord0());return function(o){var l=ir(o),i=a(o.Semiring0());return{subRecord:function(d){return function(c){return function(p){var F=u(O.value)(c)(p),N=e(O.value),b=ne(N),M=fe(N);return b(l(M(c))(M(p)))(F)}}},SemiringRecord0:function(){return i}}}}}},Fu=function(){return function(t){var e=Gp(t.SemiringRecord0());return{sub:pc(t)(O.value),Semiring0:function(){return e}}}};var na={sub:oc,Semiring0:function(){return Pe}},vc={sub:rc,Semiring0:function(){return ta}};var Gr=function(){return{compare:Yi(B.value)(nt.value)(W.value),Eq0:function(){return nc}}}(),oe=function(){return{compare:Xi(B.value)(nt.value)(W.value),Eq0:function(){return Ko}}}(),ra=function(){return{compare:Ki(B.value)(nt.value)(W.value),Eq0:function(){return Zo}}}();var k=function(t){return t.compare};var Ve=function(t){return t.top};var Vr={top:ji,bottom:Qi,Ord0:function(){return ra}};var fn=function(t){return t.bottom};var gc=function(t){var e=t.toString();return isNaN(e+".0")?e:e+".0"},hc=function(t){var e=t.charCodeAt(0);if(e<32||e===127){switch(t){case"\x07":return"'\\a'";case"\b":return"'\\b'";case"\f":return"'\\f'";case`
`:return"'\\n'";case"\r":return"'\\r'";case"	":return"'\\t'";case"\v":return"'\\v'"}return"'\\"+e.toString(10)+"'"}return t==="'"||t==="\\"?"'\\"+t+"'":"'"+t+"'"};var Rc=function(t){return function(e){for(var n=[],r=0,u=e.length;r<u;r++)n[r]=t(e[r]);return"["+n.join(",")+"]"}};var oa={show:gc};var aa={show:hc};var T=function(t){return t.show},bu=function(t){return{show:Rc(T(t))}};var nv=Y(et),s=function(){function t(){}return t.value=new t,t}(),f=function(){function t(e){this.value0=e}return t.create=function(e){return new t(e)},t}();var de=function(t){return function(e){return function(n){if(n instanceof s)return t;if(n instanceof f)return e(n.value0);throw new Error("Failed pattern match at Data.Maybe (line 237, column 1 - line 237, column 51): "+[t.constructor.name,e.constructor.name,n.constructor.name])}}},sn=de(!0)(K(!1));var dt={map:function(t){return function(e){return e instanceof f?new f(t(e.value0)):s.value}}};var Bt=function(t){return de(t)(nv)},We=function(){return function(t){if(t instanceof f)return t.value0;throw new Error("Failed pattern match at Data.Maybe (line 288, column 1 - line 288, column 46): "+[t.constructor.name])}};var ht=function(){function t(e){this.value0=e}return t.create=function(e){return new t(e)},t}(),mt=function(){function t(e){this.value0=e}return t.create=function(e){return new t(e)},t}();var xn=function(t){return t.defer};var Fc=function(t){return function(e){return t&&e}},wc=function(t){return function(e){return t||e}},bc=function(t){return!t};var ia=function(t){return t.not};var Qr=function(t){return t.ff};var sr=function(t){return t.disj},pe={ff:!1,tt:!0,implies:function(t){return function(e){return sr(pe)(ia(pe)(t))(e)}},conj:Fc,disj:wc,not:bc};var Cc=function(t){return Math.min(Math.abs(t),2147483647)},Tc=function(t){return function(e){return e===0?0:e>0?Math.floor(t/e):-Math.floor(t/-e)}},Ec=function(t){return function(e){if(e===0)return 0;var n=Math.abs(e);return(t%n+n)%n}};var Mc={Ring0:function(){return vc}};var Xr=function(t){return t.mod};var ca={degree:Cc,div:Tc,mod:Ec,CommutativeRing0:function(){return Mc}};var _t=function(t){return t.mempty};var E=function(){function t(e,n){this.value0=e,this.value1=n}return t.create=function(e){return function(n){return new t(e,n)}},t}();var Qe=function(t){return t.value1};var Xe=function(t){return t.value0};var pa=function(t){return t};var hv=function(t){var e=sr(t);return{append:function(n){return function(r){return e(n)(r)}}}};var Nu=function(t){var e=hv(t);return{mempty:Qr(t),Semigroup0:function(){return e}}};var m=function(t){return t};var Su=function(){return m};var Sc=Su();var Ln=function(){return Sc};var Pu=function(){return function(){return function(){return function(){return function(t){return Sc}}}}};var wv=Y(et),bv=V(ar);var Cv=Pu()()()(),At=function(t){return t.foldr};var Nn=function(t){var e=Fe(t.Apply0()),n=h(t);return function(r){var u=At(r);return function(a){return u(function(o){return e(a(o))})(n(void 0))}}},to=function(t){var e=Nn(t);return function(n){return j(e(n))}};var gt=function(t){return t.foldl};var Ac=function(t){var e=gt(t);return function(n){var r=function(u){return function(a){if(u instanceof s)return new f(a);if(u instanceof f)return new f(function(){var o=bv(n(u.value0)(a))(W.value);return o?u.value0:a}());throw new Error("Failed pattern match at Data.Foldable (line 441, column 3 - line 441, column 27): "+[u.constructor.name,a.constructor.name])}};return e(r)(s.value)}},eo=function(t){var e=k(t);return function(n){return Ac(n)(e)}};var Wu=function(t){var e=gt(t);return function(n){return e(re(n))(se(n))}};var Wc=function(t){var e=At(t);return function(n){var r=H(n.Semigroup0()),u=_t(n);return function(a){return e(function(o){return function(l){return r(a(o))(l)}})(u)}}},pt={foldr:zi,foldl:Ji,foldMap:function(t){return Wc(pt)(t)}};var Ue=function(t){return t.foldMap};var Sn=function(t){var e=Ue(t);return function(n){return Cv(pa)(e(Nu(n)))}};var Pn=function(t){var e=Sn(t);return function(n){return e(n)(wv)}};var _a=function(t){return t.toUpperCase()};var An=function(t){return function(e){return e.join(t)}};var ga=function(t){return t===""};var Uc=function(){function t(u){return[u]}function e(u){return function(a){return[u,a]}}function n(u){return function(a){return function(o){return[u,a,o]}}}function r(u){return function(a){return u.concat(a)}}return function(u){return function(a){return function(o){return function(l){return function(i){function d(c,p){switch(p-c){case 0:return o([]);case 1:return a(t)(l(i[c]));case 2:return u(a(e)(l(i[c])))(l(i[c+1]));case 3:return u(u(a(n)(l(i[c])))(l(i[c+1])))(l(i[c+2]));default:var F=c+Math.floor((p-c)/4)*2;return u(a(r)(d(c,F)))(d(F,p))}}return d(0,i.length)}}}}}}();var gr=function(t){return t};var $u={map:function(t){return function(e){return t(e)}}};var qc={apply:function(t){return function(e){return t(e)}},Functor0:function(){return $u}},xv={bind:function(t){return function(e){return e(t)}},Apply0:function(){return qc}},Lv={pure:gr,Apply0:function(){return qc}},Oc={Applicative0:function(){return Lv},Bind1:function(){return xv}};var f1=Y(et),St=function(t){return t.traverse};var s1=function(t){var e=St(t);return function(n){return e(n)(f1)}},Qt={traverse:function(t){var e=t.Apply0();return Uc(st(e))(v(e.Functor0()))(h(t))},sequence:function(t){return s1(Qt)(t)},Functor0:function(){return bt},Foldable1:function(){return pt}};var Xc=function(t){return function(){return t}},Yc=function(t){return function(e){return function(){return e(t())()}}};var Zc=function(t){var e=C(t.Bind1()),n=h(t.Applicative0());return function(r){return function(u){return e(u)(function(a){return n(r(a))})}}},Wn=function(t){var e=C(t.Bind1()),n=h(t.Applicative0());return function(r){return function(u){return e(r)(function(a){return e(u)(function(o){return n(a(o))})})}}};var tf=function(t,e,n){var r=0,u;return function(a){if(r===2)return u;if(r===1)throw new ReferenceError(t+" was needed before it finished initializing (module "+e+", line "+a+")",e,a);return r=1,u=n(),r=2,u}},Ut={Applicative0:function(){return Et},Bind1:function(){return vn}},vn={bind:Yc,Apply0:function(){return Ju(0)}},Et={pure:Xc,Apply0:function(){return Ju(0)}},ef=tf("functorEffect","Effect",function(){return{map:kr(Et)}}),Ju=tf("applyEffect","Effect",function(){return{apply:Wn(Ut),Functor0:function(){return ef(0)}}}),A=ef(20),nf=Ju(23);var Ht={liftEffect:Y(et),Monad0:function(){return Ut}},Mt=function(t){return t.liftEffect};function rf(t){return function(e){return function(n){return function(){var r=new Image;r.src=t,r.addEventListener("load",function(){n(r)()},!1),r.addEventListener("error",function(){e()},!1)}}}}function of(t,e,n){return function(){var r=document.getElementById(t);return r&&r instanceof HTMLCanvasElement?e(r):n}}function hr(t){return function(){return t.getContext("2d")}}function oo(t){return function(){return t.width}}function ao(t){return function(){return t.height}}function Gu(t){return function(e){return function(){t.width=e}}}function Vu(t){return function(e){return function(){t.height=e}}}function ju(t){return function(){return t.toDataURL()}}function be(t){return function(e){return function(){t.fillStyle=e}}}function af(t){return function(e){return function(){t.globalCompositeOperation=e}}}function uo(t){return function(){t.beginPath()}}function lo(t){return function(){t.fill()}}function io(t){return function(e){return function(n){return function(){t.lineTo(e,n)}}}}function Qu(t){return function(e){return function(n){return function(){t.moveTo(e,n)}}}}function Xu(t){return function(){t.closePath()}}function Yu(t){return function(e){return function(){t.rect(e.x,e.y,e.width,e.height)}}}function Ku(t){return function(e){return function(){t.clearRect(e.x,e.y,e.width,e.height)}}}function Zu(t){return function(e){return function(){t.translate(e.translateX,e.translateY)}}}function uf(t){return function(e){return function(){t.textAlign=e}}}function lf(t){return function(e){return function(){t.textBaseline=e}}}function Un(t){return function(e){return function(){t.font=e}}}function co(t){return function(e){return function(n){return function(r){return function(){t.fillText(e,n,r)}}}}}function tl(t){return function(){t.save()}}function el(t){return function(){t.restore()}}function nl(t){return function(e){return function(n){return function(r){return function(u){return function(a){return function(){t.drawImage(e,n,r,u,a)}}}}}}}function rl(t){return function(e){return function(n){return function(r){return function(u){return function(a){return function(o){return function(l){return function(i){return function(d){return function(){t.drawImage(e,n,r,u,a,o,l,i,d)}}}}}}}}}}}var y1=Fe(nf),ve=function(){function t(){}return t.value=new t,t}(),F1=function(){function t(){}return t.value=new t,t}(),w1=function(){function t(){}return t.value=new t,t}(),b1=function(){function t(){}return t.value=new t,t}(),C1=function(){function t(){}return t.value=new t,t}(),Ke=function(){function t(){}return t.value=new t,t}(),me=function(){function t(){}return t.value=new t,t}(),mn=function(){function t(){}return t.value=new t,t}(),Rr=function(){function t(){}return t.value=new t,t}(),Dr=function(){function t(){}return t.value=new t,t}(),yr=function(){function t(){}return t.value=new t,t}();var Hn=function(){function t(){}return t.value=new t,t}(),T1=function(){function t(){}return t.value=new t,t}(),E1=function(){function t(){}return t.value=new t,t}(),M1=function(){function t(){}return t.value=new t,t}(),x1=function(){function t(){}return t.value=new t,t}(),L1=function(){function t(){}return t.value=new t,t}(),I1=function(){function t(){}return t.value=new t,t}(),N1=function(){function t(){}return t.value=new t,t}(),S1=function(){function t(){}return t.value=new t,t}(),P1=function(){function t(){}return t.value=new t,t}(),A1=function(){function t(){}return t.value=new t,t}(),W1=function(){function t(){}return t.value=new t,t}(),U1=function(){function t(){}return t.value=new t,t}(),H1=function(){function t(){}return t.value=new t,t}(),$1=function(){function t(){}return t.value=new t,t}(),q1=function(){function t(){}return t.value=new t,t}(),O1=function(){function t(){}return t.value=new t,t}(),B1=function(){function t(){}return t.value=new t,t}(),k1=function(){function t(){}return t.value=new t,t}(),z1=function(){function t(){}return t.value=new t,t}(),J1=function(){function t(){}return t.value=new t,t}(),G1=function(){function t(){}return t.value=new t,t}(),V1=function(){function t(){}return t.value=new t,t}(),j1=function(){function t(){}return t.value=new t,t}(),Q1=function(){function t(){}return t.value=new t,t}(),X1=function(){function t(){}return t.value=new t,t}(),yt=function(t){return function(e){return function(){tl(t)();var r=e();return el(t)(),r}}},al=function(t){return function(e){return rf(t)(e(s.value))(function(n){return e(f.create(n))})}};var Fr=function(t){return function(e){var n=function(r){if(r instanceof ve)return"top";if(r instanceof F1)return"hanging";if(r instanceof w1)return"middle";if(r instanceof b1)return"alphabetic";if(r instanceof C1)return"ideographic";if(r instanceof Ke)return"bottom";throw new Error("Failed pattern match at Graphics.Canvas (line 577, column 5 - line 577, column 33): "+[r.constructor.name])};return lf(t)(n(e))}},wr=function(t){return function(e){var n=function(r){if(r instanceof me)return"left";if(r instanceof mn)return"right";if(r instanceof Rr)return"center";if(r instanceof Dr)return"start";if(r instanceof yr)return"end";throw new Error("Failed pattern match at Graphics.Canvas (line 531, column 5 - line 531, column 32): "+[r.constructor.name])};return uf(t)(n(e))}};var df=function(t){return function(e){var n=function(r){if(r instanceof Hn)return"source-over";if(r instanceof T1)return"source-in";if(r instanceof E1)return"source-out";if(r instanceof M1)return"source-atop";if(r instanceof x1)return"destination-over";if(r instanceof L1)return"destination-in";if(r instanceof I1)return"destination-out";if(r instanceof N1)return"destination-atop";if(r instanceof S1)return"lighter";if(r instanceof P1)return"copy";if(r instanceof A1)return"xor";if(r instanceof W1)return"multiply";if(r instanceof U1)return"screen";if(r instanceof H1)return"overlay";if(r instanceof $1)return"darken";if(r instanceof q1)return"lighten";if(r instanceof O1)return"color-dodge";if(r instanceof B1)return"color-burn";if(r instanceof k1)return"hard-light";if(r instanceof z1)return"soft-light";if(r instanceof J1)return"difference";if(r instanceof G1)return"exclusion";if(r instanceof V1)return"hue";if(r instanceof j1)return"saturation";if(r instanceof Q1)return"color";if(r instanceof X1)return"luminosity";throw new Error("Failed pattern match at Graphics.Canvas (line 326, column 5 - line 326, column 45): "+[r.constructor.name])};return af(t)(n(e))}},ul=function(t){return function(e){return y1(Vu(t)(e.height))(Gu(t)(e.width))}},ll=function(t){return of(t,f.create,s.value)},pf=function(t){return function(){var n=oo(t)(),r=ao(t)();return{width:n,height:r}}},vf=function(t){return function(e){return function(){uo(t)();var r=e();return lo(t)(),r}}};var ya=isFinite;function mf(t,e,n,r){var u=parseFloat(t);return e(u)?n(u):r}var Fa=Math.tan;var gf=3.141592653589793;var wa=function(t){return mf(t,ya,f.create,s.value)};var ba=function(t){return function(e){return e(function(n){return t(n)})}},$e=function(t){return function(e){return{x:e.x+t.translateX,y:e.y+t.translateY}}};var kt=function(t){return t.translate},hf=function(t){return function(e){return{width:e.width*t.scaleX,height:e.height*t.scaleY}}},il=function(t){return t.scale},Rf=function(t){var e=il(t);return function(n){return e({scaleX:n,scaleY:n})}},ae=function(t){return t.position},$t=function(t){return function(e){return function(n){return n(t)(e)}}},rm=function(t){var e=v(t);return function(n){return ba(function(r){var u=e($t(r)),a=n(r);return function(o){return u(a(o))}})}};var cl=function(t){return t.mapLayerWrapper},zt=function(t){return t.draw},om=function(t){var e=kt(t);return function(n){return function(r){return function(u){var a={translateX:r.translateX-n.offsetX,translateY:r.translateY-n.offsetY};return e(a)(u)}}}},Jt=function(t){var e=h(t);return function(n){var r=om(n);return function(u){return function(a){return function(o){if(u instanceof s)return e(o);if(u instanceof f)return r(u.value0)(a)(o);throw new Error("Failed pattern match at Template.Layer (line 59, column 1 - line 59, column 115): "+[u.constructor.name,a.constructor.name,o.constructor.name])}}}}},_e=function(t){return t.dragStart},ge=function(t){return t.dragEnd},Ze=function(t){return t.drag},ue=function(t){return t.containsPoint},_n=function(t){var e=rm(t);return{position:ba(function(n){return ae(n)}),translate:function(n){return e(function(r){return kt(r)(n)})},containsPoint:function(n){return ba(function(r){return ue(r)(n)})},draw:function(n){return ba(function(r){return zt(r)(n)})},dragStart:function(n){return e(function(r){return _e(r)(n)})},drag:function(n){return e(function(r){return Ze(r)(n)})},dragEnd:e(function(n){return ge(n)})}};var yf=function(t){return function(e){return function(n){return function(r){return{position:t,dimensions:e,angle:n,fillStyle:r,dragOffset:s.value}}}}},Df=function(t){return t*gf/180},fl=function(t){var e=t.Applicative0(),n=h(e),r=Jt(e);return{position:function(u){return n(u.position)},translate:function(u){return function(a){return n({dimensions:a.dimensions,angle:a.angle,fillStyle:a.fillStyle,dragOffset:a.dragOffset,position:$e(u)(a.position)})}},containsPoint:function(u){return function(a){var o=(a.dimensions.height-u.y)/Fa(Df(a.angle));return n(a.position.x+o<=u.x&&u.x<=a.position.x+a.dimensions.width&&a.position.y<=u.y&&u.y<=a.position.y+a.dimensions.height)}},draw:function(u){return function(a){return yt(u)(function(){return be(u)(a.fillStyle)(),uo(u)(),Qu(u)(a.position.x)(a.position.y+a.dimensions.height)(),io(u)(a.position.x+a.dimensions.width)(a.position.y+a.dimensions.height)(),io(u)(a.position.x+a.dimensions.width)(a.position.y)(),io(u)(a.position.x+a.dimensions.height/Fa(Df(a.angle)))(a.position.y)(),Xu(u)(),lo(u)()})}},dragStart:function(u){return function(a){return n({position:a.position,dimensions:a.dimensions,angle:a.angle,fillStyle:a.fillStyle,dragOffset:new f(u)})}},drag:function(u){return function(a){return r(fl(t))(a.dragOffset)(u)(a)}},dragEnd:function(u){return n({position:u.position,dimensions:u.dimensions,angle:u.angle,fillStyle:u.fillStyle,dragOffset:s.value})}}};var Ff=function(t,e){for(var n=t>e?-1:1,r=new Array(n*(e-t)+1),u=t,a=0;u!==e;)r[a++]=u,u+=n;return r[a]=u,r},um=function(t,e){if(t<1)return[];var n=new Array(t);return n.fill(e)},lm=function(t,e){for(var n=[],r=0,u=0;u<t;u++)n[r++]=e;return n},im=typeof Array.prototype.fill=="function"?um:lm,wf=function(){function t(u,a){this.head=u,this.tail=a}var e={};function n(u){return function(a){return new t(u,a)}}function r(u){for(var a=[],o=0,l=u;l!==e;)a[o++]=l.head,l=l.tail;return a}return function(u,a){return r(u(n)(e)(a))}}(),Ft=function(t){return t.length};var bf=function(t,e,n,r){return r<0||r>=n.length?e:t(n[r])};var Cf=function(t,e,n,r){for(var u=0,a=r.length;u<a;u++)if(n(r[u]))return t(u);return e};var Tf=function(t,e,n,r,u){if(n<0||n>=u.length)return e;var a=u.slice();return a[n]=r,t(a)},gn=function(t){return t.slice().reverse()},tn=function(t){if(t.length<=1e4)return Array.prototype.concat.apply([],t);for(var e=[],n=0,r=t.length;n<r;n++)for(var u=t[n],a=0,o=u.length;a<o;a++)e.push(u[a]);return e};var Ef=function(t,e,n){for(var r=n.length,u=e,a=new Array(r),o=0;o<r;o++)u=t(u)(n[o]),a[o]=u;return a};var Mf=function(t,e,n){return n.slice(t,e)},xf=function(t,e,n){for(var r=e.length<n.length?e.length:n.length,u=new Array(r),a=0;a<r;a++)u[a]=t(e[a])(n[a]);return u},Lf=function(t,e){for(var n=e.length,r=0;r<n;r++)if(t(e[r]))return!0;return!1};var If=function(t){return function(){return{value:t}}};var Xt=function(t){return function(){return t.value}},Nf=function(t){return function(e){return function(){var n=t(e.value);return e.value=n.state,n.value}}},br=function(t){return function(e){return function(){e.value=t}}};var sm=wt(A),hn=If,dm=Nf,sl=function(t){return dm(function(e){var n=t(e);return{state:n,value:n}})},dl=function(t){return function(e){return sm(sl(t)(e))}};var Yt=function(){function t(e){this.value0=e}return t.create=function(e){return new t(e)},t}(),Kt=function(){function t(e){this.value0=e}return t.create=function(e){return new t(e)},t}(),en=function(t){return t.tailRecM};var mm=function(t){var e=function(n){var r=!1,u;function a(o){if(o instanceof Yt){n=t(o.value0);return}if(o instanceof Kt)return r=!0,o.value0;throw new Error("Failed pattern match at Control.Monad.Rec.Class (line 103, column 3 - line 103, column 25): "+[o.constructor.name])}for(;!r;)u=a(n);return u};return function(n){return e(t(n))}};var Sf={tailRecM:function(t){var e=function(r){return r},n=mm(function(r){return e(t(r))});return function(r){return gr(n(r))}},Monad0:function(){return Oc}};function Dm(t){return t}var Uf=Dm;function ym(t){return t.slice()}var Hf=ym;var $f=function(t,e){return e.push(t)};var Ta=function(e){return function(n){return function(){return e(n)}}},pl=function(e){return function(n){return function(r){return function(){return e(n,r)}}}};var qf=Ta(Uf);var Mm=Ta(Hf),Of=function(t){return function(e){return function(){var r=Mm(e)();return t(r)(),qf(r)()}}};var vl=pl($f);var po=function(t){return function(e,n,r,u,a){return t(e)(n)(r)(u)(a)}};var $n=function(t){return function(e){return function(n){return t(e,n)}}},vo=function(t){return function(e){return function(n){return function(r){return t(e,n,r)}}}},Ea=function(t){return function(e){return function(n){return function(r){return function(u){return t(e,n,r,u)}}}}},ml=function(t){return function(e){return function(n){return function(r){return function(u){return function(a){return t(e,n,r,u,a)}}}}}};var zf=function(t){return function(e){return function(n){return function(r){return function(u){return function(a){for(var o=[],l=a;;){var i=u(l);if(t(i))return o;var d=e(i);o.push(n(d)),l=r(d)}}}}}}};var Jf=function(t){return function(e){return function(n){return function(r){return function(u){return function(a){for(var o=[],l=a;;){var i=u(l);o.push(n(i));var d=r(i);if(t(d))return o;l=e(d)}}}}}}};var Om=We();var _l={unfoldr1:Jf(sn)(Om)(Xe)(Qe)};var zm=We(),nn=function(t){return t.unfoldr};var hl={unfoldr:zf(sn)(zm)(Xe)(Qe),Unfoldable10:function(){return _l}};var Jm=H(Se);var Xf=vo(xf);var Rn=function(){return Xf(E.create)}();var Yf=function(){return ml(Tf)(f.create)(s.value)}();var xt=function(t){return function(e){return Of(vl(e))(t)()}},Rl=vo(Mf),go=function(t){return function(e){return t<=0?{before:[],after:e}:{before:Rl(0)(t)(e),after:Rl(t)(Ft(e))(e)}}};var yl=function(t){return[t]};var Ia=vo(Ef);var Fl=$n(Ff);var Oe=function(){return Ea(bf)(f.create)(s.value)}();var wl=function(t){return function(e){return function(n){var r=function(u){return Yf(t)(e(u))(n)};return de(s.value)(r)(Oe(n)(t))}}};var bl=function(t){return $n(wf)(At(t))};var ho=function(){return Ea(Cf)(f.create)(s.value)}();var Cl=function(t){var e=V(t);return function(n){return ho(function(r){return e(r)(n)})}},Tl=function(t){var e=Cl(t);return function(n){return function(r){return sn(e(n)(r))}}};var Ro=function(t){return function(e){return Jm([t])(e)}};var El=j(C(Yo));var Do=$n(Lf);var Gm=Pn(pt)(pe),Vm=St(Qt),jm=ir(Fu()(ea({reflectSymbol:function(){return"x"}})()(ea({reflectSymbol:function(){return"y"}})()(yu)(na))(na))),Qm=Nn(Et)(pt);var Ml=function(t){var e=t.Applicative0(),n=h(e),r=t.Bind1().Apply0().Functor0(),u=v(r),a=Vm(e),o=_n(r),l=ue(o),i=zt(o),d=Jt(e);return{position:function(c){return n(c.position)},translate:function(c){return function(p){return n({layers:p.layers,dragOffset:p.dragOffset,position:$e(c)(p.position)})}},containsPoint:function(c){return function(p){return u(Gm)(a(l(jm(c)(p.position)))(p.layers))}},draw:function(c){return function(p){return yt(c)(function(){return Zu(c)({translateX:p.position.x,translateY:p.position.y})(),Qm(function(){var N=yt(c),b=i(c);return function(M){return N(b(M))}}())(gn(p.layers))()})}},dragStart:function(c){return function(p){return n({layers:p.layers,position:p.position,dragOffset:new f(c)})}},drag:function(c){return function(p){return d(Ml(t))(p.dragOffset)(c)(p)}},dragEnd:function(c){return n({layers:c.layers,position:c.position,dragOffset:s.value})}}},Kf=function(t){return{layers:t,position:{x:0,y:0},dragOffset:s.value}};var yo=t=>t.width,Fo=t=>t.height;var On=t=>e=>()=>t.letterSpacing=e;var Zf=function(t){return function(e){return function(n){return function(r){return nl(t)(e)(n.x)(n.y)(r.width)(r.height)}}}};var xl=function(t){return{width:yo(t),height:Fo(t)}};var Km=jt(lr()(cn({reflectSymbol:function(){return"scaleX"}})()(cn({reflectSymbol:function(){return"scaleY"}})()(ur)(Pe))(Pe))),Zm=Le(Ie),t_=v(dt);var ts=function(t){var e=h(t.Monad0().Applicative0());return{scale:function(n){return function(r){return e({image:r.image,position:r.position,composite:r.composite,dragOffset:r.dragOffset,scale:Km(n)(r.scale)})}}}},Na=function(t){var e=t.Monad0(),n=e.Applicative0(),r=h(n),u=C(e.Bind1()),a=Mt(t),o=Jt(n);return{position:function(l){return r(l.position)},translate:function(l){return function(i){return r({image:i.image,scale:i.scale,composite:i.composite,dragOffset:i.dragOffset,position:$e(l)(i.position)})}},containsPoint:function(l){return function(i){return u(a(Xt(i.image)))(function(d){if(d instanceof s)return r(!1);if(d instanceof f)return r(i.position.x<=l.x&&l.x<=i.position.x+yo(d.value0)*i.scale.scaleX&&i.position.y<=l.y&&l.y<=i.position.y+Fo(d.value0)*i.scale.scaleY);throw new Error("Failed pattern match at Template.Layer.Image (line 74, column 5 - line 78, column 107): "+[d.constructor.name])})}},dragStart:function(l){return function(i){return r({image:i.image,position:i.position,scale:i.scale,composite:i.composite,dragOffset:new f(l)})}},drag:function(l){return function(i){return o(Na(t))(i.dragOffset)(l)(i)}},dragEnd:function(l){return r({image:l.image,position:l.position,scale:l.scale,composite:l.composite,dragOffset:s.value})},draw:function(l){return function(i){return function(){var c=Xt(i.image)();if(c instanceof s)return void 0;if(c instanceof f)return yt(l)(function(){return df(l)(i.composite)(),Zf(l)(c.value0)(i.position)(hf(i.scale)(xl(c.value0)))()})();throw new Error("Failed pattern match at Template.Layer.Image (line 86, column 5 - line 91, column 78): "+[c.constructor.name])}}}}},es=function(t){return function(e){return{image:e.image,position:e.position,composite:e.composite,dragOffset:e.dragOffset,scale:t}}},Il=function(t){var e=Mt(t);return function(n){return function(r){return function(u){return function(a){return e(function(){var l=hn(s.value)();return al(n)(function(){var i=j(dl)(l);return function(d){return i(K(d))}}())(),{image:l,position:r,scale:u,composite:a,dragOffset:s.value}})}}}}},ns=function(t){var e=Mt(t);return function(n){return function(r){return function(u){return e(function(){var o=hn(s.value)();return{image:o,position:n,scale:r,composite:u,dragOffset:s.value}})}}}},rs=function(t){var e=t.Monad0(),n=Zm(e.Bind1()),r=Mt(t),u=h(e.Applicative0());return function(a){return function(o){return n(r(al(a)(function(){var l=j(dl)(o.image);return function(i){return l(K(i))}}())))(function(){return u(o)})}}},os=function(t){return t.scale},as=function(t){var e=t.Monad0(),n=C(e.Bind1()),r=Mt(t),u=h(e.Applicative0());return function(a){return n(r(Xt(a.image)))(function(o){return u(t_(xl)(o))})}};var Bn=function(t){return t.throwError};var Te=function(t){return t.lift};var i_=v(dt);var Pa=function(t){return t},kn=function(t){return t};var Er={lift:function(t){var e=Zc(t)(f.create);return function(n){return Pa(e(n))}}};var c_=function(t){var e=v(t);return{map:function(n){return function(r){return e(i_(n))(r)}}}},f_=function(t){return{Applicative0:function(){return bo(t)},Bind1:function(){return zn(t)}}},zn=function(t){var e=C(t.Bind1()),n=h(t.Applicative0());return{bind:function(r){return function(u){return e(r)(function(a){if(a instanceof s)return n(s.value);if(a instanceof f){var o=u(a.value0);return o}throw new Error("Failed pattern match at Control.Monad.Maybe.Trans (line 55, column 11 - line 57, column 42): "+[a.constructor.name])})}},Apply0:function(){return ds(t)}}},ds=function(t){var e=c_(t.Bind1().Apply0().Functor0());return{apply:Wn(f_(t)),Functor0:function(){return e}}},bo=function(t){return{pure:function(){var e=h(t.Applicative0());return function(n){return Pa(e(f.create(n)))}}(),Apply0:function(){return ds(t)}}};var Mr=function(t){var e=h(t.Applicative0());return function(n){return Pa(e(n))}};var s_=Te(Er);var ps=function(t){var e=C(zn(t)),n=Mr(t),r=s_(t);return function(u){return function(a){return function(o){return e(n(Oe(o)(u)))(function(l){return e(r(a(l)))(function(i){return n(wl(u)(K(i))(o))})})}}}};var xr=function(t){return Rn(Fl(0)(Ft(t)))(t)};var d_=St(Qt),p_=Pn(pt)(pe),v_=Nn(Et)(pt),m_=Te(Er),__=Y(et);var vs=function(t){var e=t.Applicative0(),n=t.Bind1().Apply0().Functor0(),r=ln(n),u=d_(e),a=_n(n),o=kt(a),l=v(n),i=ue(a),d=zt(a),c=C(zn(t)),p=m_(t),F=Mr(t),N=ae(a),b=ps(t),M=_e(a),x=h(bo(t)),$=Ze(a),lt=ge(a);return{position:K(h(e)({x:0,y:0})),translate:function(J){return function(it){return r(u(o(J))(it.layers))(function(Lt){return{dragIndex:it.dragIndex,layers:Lt}})}},containsPoint:function(J){return function(it){return l(p_)(u(i(J))(it.layers))}},draw:function(J){return function(it){return v_(function(){var Lt=yt(J),ye=d(J);return function(Je){return Lt(ye(Je))}}())(gn(it.layers))}},dragStart:function(J){return function(it){return l(Bt(it))(kn(c(p(u(i({x:J.offsetX,y:J.offsetY}))(it.layers)))(function(Lt){return c(F(ho(__)(Lt)))(function(ye){return c(F(Oe(it.layers)(ye)))(function(Je){return c(p(N(Je)))(function(Mn){return c(b(ye)(M({offsetX:J.offsetX-Mn.x,offsetY:J.offsetY-Mn.y}))(it.layers))(function(or){return x({dragIndex:new f(ye),layers:or})})})})})})))}},drag:function(J){return function(it){return l(Bt(it))(kn(c(F(it.dragIndex))(function(Lt){return c(F(Oe(it.layers)(Lt)))(function(ye){return c(p(N(ye)))(function(Je){return c(b(Lt)($({translateX:J.translateX-Je.x,translateY:J.translateY-Je.y}))(it.layers))(function(Mn){return x({dragIndex:it.dragIndex,layers:Mn})})})})})))}},dragEnd:function(J){return l(Bt({layers:J.layers,dragIndex:s.value}))(kn(c(F(J.dragIndex))(function(it){return c(b(it)(lt)(J.layers))(function(Lt){return x({dragIndex:s.value,layers:Lt})})})))}}},ms=function(t){return{layers:t,dragIndex:s.value}};var Ul=function(t){var e=h(t),n=Jt(t);return{position:function(r){return e({x:r.rect.x,y:r.rect.y})},translate:function(r){return function(u){return e({fillStyle:u.fillStyle,dragOffset:u.dragOffset,rect:{width:u.rect.width,height:u.rect.height,x:u.rect.x+r.translateX,y:u.rect.y+r.translateY}})}},containsPoint:function(r){return function(u){return e(u.rect.x<=r.x&&r.x<=u.rect.x+u.rect.width&&u.rect.y<=r.y&&r.y<=u.rect.y+u.rect.height)}},draw:function(r){return function(u){return function(){return be(r)(u.fillStyle)(),vf(r)(Yu(r)(u.rect))()}}},dragStart:function(r){return function(u){return e({rect:u.rect,fillStyle:u.fillStyle,dragOffset:new f(r)})}},drag:function(r){return function(u){return n(Ul(t))(u.dragOffset)(r)(u)}},dragEnd:function(r){return e({rect:r.rect,fillStyle:r.fillStyle,dragOffset:s.value})}}},_s=function(t){return function(e){return{rect:t,fillStyle:e,dragOffset:s.value}}};var R_=Le(Ie),Hl=function(t){var e=t.Monad0(),n=e.Bind1(),r=C(n),u=Mt(t),a=R_(n),o=h(e.Applicative0());return function(l){return function(i){return r(u(Xt(i)))(function(d){return r(l(d))(function(c){return a(u(br(c)(i)))(function(){return o(c)})})})}}},gs=function(t){var e=Ge(t.Monad0().Bind1().Apply0().Functor0()),n=Hl(t);return function(r){return function(u){return e(void 0)(n(r)(u))}}};var y_=ie(vn),F_=function(t){return t};var Co=function(t){var e=t.Monad0().Bind1(),n=ie(e),r=Mt(t),u=Ge(e.Apply0().Functor0()),a=Hl(t);return function(o){var l=ae(o),i=kt(o),d=ue(o),c=_e(o),p=Ze(o),F=ge(o),N=zt(o);return{position:function(b){return n(l)(r(Xt(b)))},translate:function(b){return function(M){return u(M)(a(i(b))(M))}},containsPoint:function(b){return function(M){return n(d(b))(r(Xt(M)))}},dragStart:function(b){return function(M){return u(M)(a(c(b))(M))}},drag:function(b){return function(M){return u(M)(a(p(b))(M))}},dragEnd:function(b){return u(b)(a(F)(b))},draw:function(b){return function(M){return y_(N(b))(Xt(M))}}}}};var hs=function(t){var e=gs(t);return function(n){return function(r){return e(n)(r)}}};var w_=function(t){var e=Mt(t);return function(n){return function(r){return e(sl(n)(r))}}},Rs=function(t){var e=Ge(t.Monad0().Bind1().Apply0().Functor0()),n=w_(t);return function(r){return function(u){return e(void 0)(n(r)(u))}}},Wa=function(t){var e=v(t.Monad0().Bind1().Apply0().Functor0()),n=Mt(t);return function(r){return e(F_)(n(hn(r)))}};var Z=function(t){return t};function ys(t){return t.split(/\r\n|[\n\v\f\r\u0085\u2028\u2029]/)}function Fs(t){return t.split(/[\u000a-\u000d\u0085\u2028\u2029\u0009\u0020\u00a0\u1680\u2000-\u200a\u202f\u205f\u3000]+/)}var C3=typeof Array.from=="function",M_=typeof Symbol<"u"&&Symbol!=null&&typeof Symbol.iterator<"u"&&typeof String.prototype[Symbol.iterator]=="function",T3=typeof String.prototype.fromCodePoint=="function",x_=typeof String.prototype.codePointAt=="function",ws=function(t){return x_?function(e){return e.codePointAt(0)}:t},bs=function(t){return function(e){return function(n){return function(r){return function(u){return function(a){var o=a.length;if(u<0||u>=o)return n;if(M_)for(var l=a[Symbol.iterator](),i=u;;--i){var d=l.next();if(d.done)return n;if(i===0)return e(r(d.value))}return t(u)(a)}}}}}};function yn(t){return t.charCodeAt(0)}function Cs(t){return String.fromCharCode(t)}var Ms=fn(Vr),xs=Ve(Vr);var on=function(t){return t.toEnum};var Fn=function(t){return t.fromEnum};var Jn=function(t){return function(e){return function(n){return t(e(n)+1|0)}}},Gn=function(t){return function(e){return function(n){return t(e(n)-1|0)}}};var $l=function(t){return t>=yn(Ms)&&t<=yn(xs)?new f(Cs(t)):s.value},W_={succ:Jn($l)(yn),pred:Gn($l)(yn),Ord0:function(){return ra}};var Eo=function(){return{cardinality:yn(xs)-yn(Ms)|0,toEnum:$l,fromEnum:yn,Bounded0:function(){return Vr},Enum1:function(){return W_}}}();var ql=function(t){return t.join("")};var wn=function(t){return t.length};var Vn=function(t){return function(e){return e.substring(t)}};var bn=function(t){return function(e){if(t>=0&&t<e.length)return e.charAt(t);throw new Error("Data.String.Unsafe.charAt: Invalid index.")}};var k_=function(t,e,n){var r=0,u;return function(a){if(r===2)return u;if(r===1)throw new ReferenceError(t+" was needed before it finished initializing (module "+e+", line "+a+")",e,a);return r=1,u=n(),r=2,u}},Mo=Fn(Eo);var z_=k(oe);var Ns=function(t){return function(e){return(((t-55296|0)*1024|0)+(e-56320|0)|0)+65536|0}};var Ss=function(t){return 56320<=t&&t<=57343},Ps=function(t){return 55296<=t&&t<=56319},Ua=function(t){var e=wn(t);if(e===0)return s.value;if(e===1)return new f({head:Mo(bn(0)(t)),tail:""});var n=Mo(bn(1)(t)),r=Mo(bn(0)(t)),u=Ps(r)&&Ss(n);return u?new f({head:Ns(r)(n),tail:Vn(2)(t)}):new f({head:r,tail:Vn(1)(t)})};var J_=function(t){var e=Mo(bn(0)(t)),n=Ps(e)&&wn(t)>1;if(n){var r=Mo(bn(1)(t)),u=Ss(r);return u?Ns(e)(r):e}return e},Is=ws(J_);var Bl={eq:function(t){return function(e){return t===e}}},kl={compare:function(t){return function(e){return z_(t)(e)}},Eq0:function(){return Bl}};var G_=function(t){return function(e){var n=t,r=!1,u;function a(o,l){var i=Ua(l);if(i instanceof f){var d=o===0;if(d)return r=!0,new f(i.value0.head);n=o-1|0,e=i.value0.tail;return}return r=!0,s.value}for(;!r;)u=a(n,e);return u}},As=function(t){return function(e){return t<0?s.value:t===0&&e===""?s.value:t===0?new f(Is(e)):bs(G_)(f.create)(s.value)(Is)(t)(e)}},V_={bottom:0,top:1114111,Ord0:function(){return kl}},jn=function(){return{cardinality:1114112,fromEnum:function(t){return t},toEnum:function(t){if(t>=0&&t<=1114111)return new f(t);if(It)return s.value;throw new Error("Failed pattern match at Data.String.CodePoints (line 63, column 1 - line 68, column 26): "+[t.constructor.name])},Bounded0:function(){return V_},Enum1:function(){return j_(0)}}}(),j_=k_("enumCodePoint","Data.String.CodePoints",function(){return{succ:Jn(on(jn))(Fn(jn)),pred:Gn(on(jn))(Fn(jn)),Ord0:function(){return kl}}});var $a=function(t){return Fs(t)};var Ir=function(t){return ys(t)};var qa=t=>e=>()=>t.measureText(e);var Oa=St(Qt)(Et),ug=gt(pt),lg=v(bt),Os=v(A),ig=eo(Gr)(pt),Hs=T(oa),cg=to(Et)(pt);var Vl=function(t){return function(e){return{position:e.position,maxWidth:e.maxWidth,fillStyle:e.fillStyle,fontName:e.fontName,fontSize:e.fontSize,fontStyle:e.fontStyle,fontWeight:e.fontWeight,align:e.align,baseline:e.baseline,lineHeight:e.lineHeight,letterSpacing:e.letterSpacing,dragOffset:e.dragOffset,context:e.context,text:t}}};var xo=function(t){return function(e){return function(){var r=qa(t)(e)();return r.width}}},fg=function(t){return function(e){return function(n){var r=$a(n);return function(){var a=Oa(xo(t))(r)(),o=xo(t)(" ")(),l=function(c){return function(p){if(c.value1.value0.length===0)return new E(c.value0,new E([p.value0],p.value1));var F=c.value1.value1+o+p.value1>e;return F?new E(xt(c.value0)(c.value1.value0),new E([p.value0],p.value1)):new E(c.value0,new E(xt(c.value1.value0)(p.value0),c.value1.value1+o+p.value1))}},i=ug(l)(new E([],new E([],0)))(Rn(r)(a)),d=lg(An(" "))(i.value0);return i.value1.value0.length===0?d:xt(d)(An(" ")(i.value1.value0))}}}},$s=function(t){return function(e){return function(n){return Os(tn)(Oa(fg(t)(e))(Ir(n)))}}},jl=function(t){return function(e){return function(){var r=qa(t)(e)();return r.actualBoundingBoxAscent+r.actualBoundingBoxDescent}}};var qs=function(t){return function(e){return Os(function(){var n=Bt(0);return function(r){return n(ig(r))}}())(Oa(jl(t))(e))}},Ba=function(t){var e=t.Monad0().Applicative0(),n=h(e),r=Mt(t),u=Jt(e);return{position:function(a){return n(a.position)},translate:function(a){return function(o){return n({text:o.text,maxWidth:o.maxWidth,fillStyle:o.fillStyle,fontName:o.fontName,fontSize:o.fontSize,fontStyle:o.fontStyle,fontWeight:o.fontWeight,align:o.align,baseline:o.baseline,lineHeight:o.lineHeight,letterSpacing:o.letterSpacing,dragOffset:o.dragOffset,context:o.context,position:$e(a)(o.position)})}},containsPoint:function(a){return function(o){return r(yt(o.context)(function(){be(o.context)(o.fillStyle)(),Un(o.context)(o.fontStyle+(" "+(o.fontWeight+(" "+(Hs(o.fontSize)+("px "+o.fontName))))))(),Fr(o.context)(o.baseline)(),wr(o.context)(o.align)(),On(o.context)(o.letterSpacing)();var i=function(){if(o.maxWidth instanceof f)return $s(o.context)(o.maxWidth.value0)(o.text)();if(o.maxWidth instanceof s)return Ir(o.text);throw new Error("Failed pattern match at Template.Layer.Text (line 70, column 14 - line 72, column 44): "+[o.maxWidth.constructor.name])}(),d=Oa(xo(o.context))(i)(),c=qs(o.context)(i)();return j(Do)(xr(d))(function(p){var F=function(){return o.baseline instanceof ve?o.position.y+c*o.lineHeight*Z(p.value0):o.baseline instanceof Ke?o.position.y-c-Z((Ft(i)-p.value0|0)-1|0)*c*o.lineHeight:o.position.y+c*o.lineHeight*Z(p.value0)}();if(o.align instanceof Dr||o.align instanceof me)return o.position.x<=a.x&&a.x<=o.position.x+p.value1&&F<=a.y&&a.y<=F+c;if(o.align instanceof yr||o.align instanceof mn)return o.position.x-p.value1<=a.x&&a.x<=o.position.x&&F<=a.y&&a.y<=F+c;if(o.align instanceof Rr)return o.position.x-p.value1/2<=a.x&&a.x<=o.position.x+p.value1/2&&F<=a.y&&a.y<=F+c;throw new Error("Failed pattern match at Template.Layer.Text (line 83, column 7 - line 93, column 65): "+[o.align.constructor.name])})}))}},dragStart:function(a){return function(o){return n({text:o.text,position:o.position,maxWidth:o.maxWidth,fillStyle:o.fillStyle,fontName:o.fontName,fontSize:o.fontSize,fontStyle:o.fontStyle,fontWeight:o.fontWeight,align:o.align,baseline:o.baseline,lineHeight:o.lineHeight,letterSpacing:o.letterSpacing,context:o.context,dragOffset:new f(a)})}},drag:function(a){return function(o){return u(Ba(t))(o.dragOffset)(a)(o)}},dragEnd:function(a){return n({text:a.text,position:a.position,maxWidth:a.maxWidth,fillStyle:a.fillStyle,fontName:a.fontName,fontSize:a.fontSize,fontStyle:a.fontStyle,fontWeight:a.fontWeight,align:a.align,baseline:a.baseline,lineHeight:a.lineHeight,letterSpacing:a.letterSpacing,context:a.context,dragOffset:s.value})},draw:function(a){return function(o){return yt(a)(function(){be(a)(o.fillStyle)(),Un(a)(o.fontStyle+(" "+(o.fontWeight+(" "+(Hs(o.fontSize)+("px "+o.fontName))))))(),Fr(a)(o.baseline)(),wr(a)(o.align)(),On(a)(o.letterSpacing)();var i=function(){if(o.maxWidth instanceof f)return $s(a)(o.maxWidth.value0)(o.text)();if(o.maxWidth instanceof s)return Ir(o.text);throw new Error("Failed pattern match at Template.Layer.Text (line 106, column 14 - line 108, column 44): "+[o.maxWidth.constructor.name])}(),d=qs(a)(i)();return cg(xr(i))(function(c){var p=function(){return o.baseline instanceof ve?o.position.y+Z(c.value0)*d*o.lineHeight:o.baseline instanceof Ke?o.position.y-Z((Ft(i)-c.value0|0)-1|0)*d*o.lineHeight:o.position.y+Z(c.value0)*d*o.lineHeight}();return co(a)(c.value1)(o.position.x)(p)})()})}}}};var Bs=function(t){return t};var Dg=Bs;var Xl=function(t){return t};var Vs=function(t){if(Ft(t)>0)return new f(Dg(t));if(It)return s.value;throw new Error("Failed pattern match at Data.Array.NonEmpty (line 161, column 1 - line 161, column 58): "+[t.constructor.name])};var Sr=function(t){var e=null;return function(){return t===void 0||(e=t(),t=void 0),e}},No=function(t){return t()};var Mg=function(t,e,n){var r=0,u;return function(a){if(r===2)return u;if(r===1)throw new ReferenceError(t+" was needed before it finished initializing (module "+e+", line "+a+")",e,a);return r=1,u=n(),r=2,u}};var xg=Ln();var an=function(){function t(e,n,r){this.value0=e,this.value1=n,this.value2=r}return t.create=function(e){return function(n){return function(r){return new t(e,n,r)}}},t}(),un=function(){function t(e,n){this.value0=e,this.value1=n}return t.create=function(e){return function(n){return new t(e,n)}},t}();var js=function(){function t(e){this.value0=e}return t.create=function(e){return new t(e)},t}(),Qs=function(){function t(e){this.value0=e}return t.create=function(e){return new t(e)},t}(),Zl=function(){function t(e,n){this.value0=e,this.value1=n}return t.create=function(e){return function(n){return new t(e,n)}},t}();var Xs={defer:function(t){var e=Sr(t);return function(n,r,u,a,o){var l=No(e);return l(n,r,u,a,o)}}};var Qn={map:function(t){return function(e){return function(n,r,u,a,o){return r(function(l){return e(n,r,u,a,function(i,d){return r(function(c){return o(i,t(d))})})})}}}};var Cn={alt:function(t){return function(e){return function(n,r,u,a,o){return r(function(l){return t(new an(n.value0,n.value1,!1),r,u,function(i,d){return r(function(c){return i.value2?a(i,d):e(n,r,u,a,o)})},o)})}}},Functor0:function(){return Qn}},Lg=function(t){return function(e,n,r,u,a){var o=t(e);return a(o.value1,o.value0)}};var Ig=function(t){var e=t.Monad0(),n=v(e.Bind1().Apply0().Functor0()),r=h(e.Applicative0()),u=en(t);return function(a){return function(o){var l=function(i){var d=!1,c;function p(F){var N=F(void 0);if(N instanceof js){i=N.value0;return}if(N instanceof Qs)return d=!0,n(Yt.create)(N.value0);if(N instanceof Zl)return d=!0,r(new Kt(new E(N.value1,N.value0)));throw new Error("Failed pattern match at Parsing (line 160, column 13 - line 166, column 32): "+[N.constructor.name])}for(;!d;)c=p(i);return c};return u(l)(function(i){return o(a,js.create,Qs.create,function(d,c){return new Zl(d,new ht(c))},function(d,c){return new Zl(d,new mt(c))})})}}},Ys=Lg(function(t){return new E(t.value1,t)});var Ng={index:0,line:1,column:1},Sg=function(t){var e=v(t.Monad0().Bind1().Apply0().Functor0()),n=Ig(t);return function(r){return function(u){var a=new an(r,Ng,!1);return e(Xe)(n(a)(u))}}},Pg=Sg(Sf),Ks=function(t){var e=Pg(t);return function(n){return xg(e(n))}};var za=function(t){return function(e){return t.value2&&!e.value2?new an(e.value0,e.value1,!0):e}},Tn={apply:function(t){return function(e){return function(n,r,u,a,o){return r(function(l){return t(n,r,u,a,function(i,d){return r(function(c){var p=za(n)(i);return e(p,r,u,a,function(F,N){return r(function(b){return o(za(p)(F),d(N))})})})})})}}},Functor0:function(){return Qn}};var Pr={pure:function(t){return function(e,n,r,u,a){return a(e,t)}},Apply0:function(){return Tn}};var Xn={bind:function(t){return function(e){return function(n,r,u,a,o){return r(function(l){return t(n,r,u,a,function(i,d){return r(function(c){var p=e(d);return p(za(n)(i),r,u,a,o)})})})}}},Apply0:function(){return Tn}},Ag=ie(Xn);var Zs={Applicative0:function(){return Pr},Bind1:function(){return Xn}};var ei={throwError:function(t){return function(e,n,r,u,a){return u(e,t)}},Monad0:function(){return Zs}},Wg=Bn(ei),Ug=function(t){return function(e){return Wg(new un(t,e))}},Ar=function(t){return Ag(Ug(t))(Ys)};var Ja={tailRecM:function(t){return function(e){return function(n,r,u,a,o){var l=Mg("loop","Parsing",function(){return function(d,c,p){var F=t(c);return F(d,r,u,a,function(N,b){var M=za(d)(N);if(b instanceof Yt){var x=p===0;return x?r(function($){return l(288)(M,b.value0,30)}):l(290)(M,b.value0,p-1|0)}if(b instanceof Kt)return o(M,b.value0);throw new Error("Failed pattern match at Parsing (line 284, column 19 - line 292, column 46): "+[b.constructor.name])})}}),i=l(279);return i(n,e,30)}}},Monad0:function(){return Zs}};var Be=function(){function t(){}return t.value=new t,t}(),ke=function(){function t(e,n){this.value0=e,this.value1=n}return t.create=function(e){return function(n){return new t(e,n)}},t}();var Wr={foldr:function(t){return function(e){var n=function(){var u=function(a){return function(o){var l=a,i=!1,d;function c(p,F){if(F instanceof Be)return i=!0,p;if(F instanceof ke){l=new ke(F.value0,p),o=F.value1;return}throw new Error("Failed pattern match at Data.List.Types (line 107, column 7 - line 107, column 23): "+[p.constructor.name,F.constructor.name])}for(;!i;)d=c(l,o);return d}};return u(Be.value)}(),r=gt(Wr)(j(t))(e);return function(u){return r(n(u))}}},foldl:function(t){var e=function(n){return function(r){var u=n,a=!1,o;function l(i,d){if(d instanceof Be)return a=!0,i;if(d instanceof ke){u=t(i)(d.value0),r=d.value1;return}throw new Error("Failed pattern match at Data.List.Types (line 111, column 12 - line 113, column 30): "+[d.constructor.name])}for(;!a;)o=l(u,r);return o}};return e},foldMap:function(t){var e=H(t.Semigroup0()),n=_t(t);return function(r){return gt(Wr)(function(u){var a=e(u);return function(o){return a(r(o))}})(n)}}};var ud=Rt(Cn),ph=xn(Xs);var vh=Fe(Tn);var mh=Oi(Tn);var ld=function(t){return function(e){return ud(t)(ph(function(n){return Ar("Expected "+e(void 0))}))}},ni=function(t){return function(e){return ud(t)(Ar("Expected "+e))}};var Ur=function(t){return function(e,n,r,u,a){return t(e,n,r,function(o,l){return u(new an(o.value0,o.value1,e.value2),l)},a)}};var Ao=function(t){return function(e){return function(n){return mh(vh(t)(n))(e)}}};var oi=C(Xn),_h=en(Ja),gh=Rt(Cn),Ga=h(Pr),hh=bl(Wr);var Rh=function(t){return oi(j(_h)(Be.value)(function(e){return gh(oi(t)(function(n){return Ga(new Yt(new ke(n,e)))}))(Ga(new Kt(e)))}))(function(e){return Ga(gn(hh(e)))})},ai=function(t){return oi(Rh(t))(function(e){var n=Vs(e);if(n instanceof s)return Ar("Expected at least 1");if(n instanceof f)return Ga(n.value0);throw new Error("Failed pattern match at Parsing.Combinators.Array (line 55, column 3 - line 57, column 25): "+[n.constructor.name])})};var ui=Fn(jn),yh=Xr(ca),Fh=We(),wh=on(Eo);var bh=T(aa);var li=function(t){return function(e){return function(n){var r=ui(e);if(r===10)return{index:t.index+1|0,line:t.line+1|0,column:1};if(r===13){var u=As(0)(n);return u instanceof f&&ui(u.value0)===10?{index:t.index+1|0,line:t.line,column:t.column}:{index:t.index+1|0,line:t.line+1|0,column:1}}return r===9?{index:t.index+1|0,line:t.line,column:(t.column+8|0)-yh(t.column-1|0)(8)|0}:{index:t.index+1|0,line:t.line,column:t.column+1|0}}}},Ch=function(t){return function(e){return function(n){var r=t,u=e,a=!1,o;function l(i,d,c){var p=Ua(d);if(p instanceof s)return a=!0,i;if(p instanceof f){var F=function(){if(ga(p.value0.tail))return li(i)(p.value0.head)(c);if(It)return li(i)(p.value0.head)(p.value0.tail);throw new Error("Failed pattern match at Parsing.String (line 165, column 7 - line 167, column 52): ")}();r=F,u=p.value0.tail,n=c;return}throw new Error("Failed pattern match at Parsing.String (line 161, column 36 - line 168, column 38): "+[p.constructor.name])}for(;!a;)o=l(r,u,n);return o}}};var ii=function(t){return po(function(e){return function(n){return function(r){return function(u){return function(a){var o=Ua(e.value0);if(o instanceof s)return u(e,new un("Unexpected EOF",e.value1));if(o instanceof f){var l=ui(o.value0.head),i=l<0||l>65535;if(i)return u(e,new un("Expected Char",e.value1));var d=Fh(wh(l)),c=t(d);return c?a(new an(o.value0.tail,li(e.value1)(o.value0.head)(o.value0.tail),!0),d):u(e,new un("Predicate unsatisfied",e.value1))}throw new Error("Failed pattern match at Parsing.String (line 114, column 7 - line 129, column 75): "+[o.constructor.name])}}}}})};var ci=po(function(t){return function(e){return function(n){return function(r){return function(u){var a=ga(t.value0);return a?u(new an(t.value0,t.value1,!0),void 0):r(t,new un("Expected EOF",t.value1))}}}}}),cd=function(t){return po(function(e){return function(n){return function(r){return function(u){return function(a){var o=t(e.value0);if(o instanceof ht)return u(e,new un(o.value0,e.value1));if(o instanceof mt)return a(new an(o.value0.remainder,Ch(e.value1)(o.value0.consumed)(o.value0.remainder),!ga(o.value0.consumed)),o.value0.value);throw new Error("Failed pattern match at Parsing.String (line 286, column 7 - line 290, column 121): "+[o.constructor.name])}}}}})};var fi=cd(function(t){return new mt({value:t,consumed:t,remainder:""})});var le=function(t){return ni(ii(function(e){return e===t}))(bh(t))};var Nh=T(bu(aa));var Sh=Tl(Zo);var dd=function(t){return ld(ii(j(Sh)(t)))(function(e){return"none of "+Nh(t)})};var Rd=T(oa),Va=H(Se),ja=ln(bt),Dd=gt(pt),pi=v(A),Ah=eo(Gr)(pt),Yn=St(Qt)(Et),yd=Wu(pt)(Pe),En=v(bt),Wh=v(dt),he=v(Qn),ze=Rt(Cn),Ya=Fe(Tn),si=to(Et)(pt),Fd=Ge(Qn);var Ka=function(){function t(){}return t.value=new t,t}(),wd=function(){function t(){}return t.value=new t,t}(),Za=function(){function t(){}return t.value=new t,t}(),bd=function(){function t(){}return t.value=new t,t}();var Uh=function(t){return t.text},Hh=function(t){return function(e){return function(n){return{line:xt(e.line)(n),width:e.width+t+n.width}}}},vi=function(t){return function(e){return function(n){var r=function(){if(n.weight instanceof Ka)return e.weight.normal;if(n.weight instanceof wd)return e.weight.bold;throw new Error("Failed pattern match at Template.Layer.Text.Markup (line 268, column 16 - line 270, column 39): "+[n.weight.constructor.name])}(),u=function(){if(n.style instanceof Za)return e.style.normal;if(n.style instanceof bd)return e.style.italic;throw new Error("Failed pattern match at Template.Layer.Text.Markup (line 265, column 15 - line 267, column 41): "+[n.style.constructor.name])}();return Un(t)(u+(" "+(r+(" "+(Rd(e.size)+("px "+e.name))))))}}},Cd=function(t){return function(e){return{text:e.text,position:e.position,maxWidth:e.maxWidth,fillStyle:e.fillStyle,align:e.align,baseline:e.baseline,lineHeight:e.lineHeight,letterSpacing:e.letterSpacing,dragOffset:e.dragOffset,context:e.context,font:{name:e.font.name,style:e.font.style,weight:e.font.weight,size:t}}}};var Td=function(t){return function(e){var n=function(u){return function(a){var o=go(1)(t(a.text));if(o.before.length===1&&o.before[0]===""&&o.after.length===0)return{splits:u.splits,split:u.split};if(o.before.length===1&&o.after.length===0)return{splits:u.splits,split:xt(u.split)({style:a.style,weight:a.weight,text:o.before[0]})};if(o.before.length===1&&o.before[0]===""){var l=go(Ft(o.after)-1|0)(o.after);return l.after.length===1&&l.after[0]===""?{splits:Va(xt(u.splits)(u.split))(ja(l.before)(function(i){return[{style:a.style,weight:a.weight,text:i}]})),split:[]}:l.after.length===1?{splits:Va(xt(u.splits)(u.split))(ja(l.before)(function(i){return[{style:a.style,weight:a.weight,text:i}]})),split:[{style:a.style,weight:a.weight,text:l.after[0]}]}:{splits:u.splits,split:u.split}}if(o.before.length===1){var l=go(Ft(o.after)-1|0)(o.after);return l.after.length===1&&l.after[0]===""?{splits:Va(xt(u.splits)(xt(u.split)({style:a.style,weight:a.weight,text:o.before[0]})))(ja(l.before)(function(d){return[{style:a.style,weight:a.weight,text:d}]})),split:[]}:l.after.length===1?{splits:Va(xt(u.splits)(xt(u.split)({style:a.style,weight:a.weight,text:o.before[0]})))(ja(l.before)(function(d){return[{style:a.style,weight:a.weight,text:d}]})),split:[{style:a.style,weight:a.weight,text:l.after[0]}]}:{splits:u.splits,split:u.split}}return{splits:u.splits,split:u.split}}},r=Dd(n)({splits:[],split:[]})(e);return xt(r.splits)(r.split)}},Ed=Td($a),mi=function(t){return{text:t,style:Za.value,weight:Ka.value}};var $h=function(t){return function(e){return{fragment:t,width:e}}},Md=function(t){return function(e){return function(n){return yt(t)(function(){return vi(t)(e)(n)(),xo(t)(n.text)()})}}},_i=function(t){return function(e){return Md(t)(e)({style:Za.value,weight:Ka.value,text:" "})}},qh=function(t){return function(e){return function(n){return yt(t)(function(){return vi(t)(e)(n)(),jl(t)(n.text)()})}}},pd=function(t){return function(e){return function(n){return pi(function(){var r=Bt(0);return function(u){return r(Ah(u))}}())(Yn(qh(t)(e))(n))}}},Oh=function(t){return function(e){return function(n){return pi($h(n))(Md(t)(e)(n))}}},xd=function(t){return function(e){return function(n){return function(){var u=Yn(Oh(t)(e))(n)(),a=yd(En(function(o){return o.width})(u));return{word:u,width:a}}}}},vd=function(t){return function(e){return function(n){var r=Ed(n);return function(){var a=Yn(xd(t)(e))(r)(),o=_i(t)(e)(),l=o*Z(Ft(a)-1|0)+yd(En(function(i){return i.width})(a));return{line:a,width:l}}}}},Bh=function(t){return function(e){return function(n){return function(r){var u=Ed(r);return function(){var o=Yn(xd(t)(e))(u)(),l=_i(t)(e)(),i=function(c){return function(p){if(c.value1.line.length===0)return new E(c.value0,{line:[p],width:p.width});var F=c.value1.width+l+p.width>n;return F?new E(xt(c.value0)(c.value1),{line:[p],width:p.width}):new E(c.value0,Hh(l)(c.value1)(p))}},d=Dd(i)(new E([],{line:[],width:0}))(o);return d.value1.line.length===0?d.value0:xt(d.value0)(d.value1)}}}}},gi=function(t){return function(e){return{text:e.text,position:e.position,fillStyle:e.fillStyle,font:e.font,align:e.align,baseline:e.baseline,lineHeight:e.lineHeight,letterSpacing:e.letterSpacing,dragOffset:e.dragOffset,context:e.context,maxWidth:Wh(t)(e.maxWidth)}}},Wo=function(){var t=he(Xl);return function(e){return t(ai(e))}}(),Uo=he(function(t){return mi(ql(t))})(Wo(dd(["_","*"]))),di=Td(Ir),md=function(t){return function(e){return function(n){return function(r){return pi(tn)(Yn(Bh(t)(e)(n))(di(r)))}}}},Qa=function(t){return{text:t.text,weight:t.weight,style:bd.value}},_d=ze(Ur(Ao(le("_"))(le("_"))(he(Qa)(Uo))))(ze(Uo)(Ya(le("_"))(he(function(t){return Qa(mi(t))})(fi)))),kh=function(t){return t.fragment},zh=function(t){return En(kh)(t.word)},gd=function(t){return En(zh)(t.line)},tu=function(t){var e=t.Monad0().Applicative0(),n=h(e),r=Mt(t),u=Jt(e);return{position:function(a){return n(a.position)},translate:function(a){return function(o){return n({text:o.text,maxWidth:o.maxWidth,fillStyle:o.fillStyle,font:o.font,align:o.align,baseline:o.baseline,lineHeight:o.lineHeight,letterSpacing:o.letterSpacing,dragOffset:o.dragOffset,context:o.context,position:$e(a)(o.position)})}},containsPoint:function(a){return function(o){return r(yt(o.context)(function(){be(o.context)(o.fillStyle)(),Un(o.context)(o.font.style.normal+(" "+(o.font.weight.normal+(" "+(Rd(o.font.size)+("px "+o.font.name))))))(),Fr(o.context)(o.baseline)(),wr(o.context)(o.align)(),On(o.context)(o.letterSpacing)();var i=function(){if(o.maxWidth instanceof f)return md(o.context)(o.font)(o.maxWidth.value0)(o.text)();if(o.maxWidth instanceof s)return Yn(vd(o.context)(o.font))(di(o.text))();throw new Error("Failed pattern match at Template.Layer.Text.Markup (line 196, column 14 - line 198, column 89): "+[o.maxWidth.constructor.name])}(),d=pd(o.context)(o.font)(tn(El(gd)(i)))();return j(Do)(xr(i))(function(c){var p=function(){return o.baseline instanceof ve?o.position.y+d*o.lineHeight*Z(c.value0):o.baseline instanceof Ke?o.position.y-d-Z((Ft(i)-c.value0|0)-1|0)*d*o.lineHeight:o.position.y+d*o.lineHeight*Z(c.value0)}();if(o.align instanceof Dr||o.align instanceof me)return o.position.x<=a.x&&a.x<=o.position.x+c.value1.width&&p<=a.y&&a.y<=p+d;if(o.align instanceof yr||o.align instanceof mn)return o.position.x-c.value1.width<=a.x&&a.x<=o.position.x&&p<=a.y&&a.y<=p+d;if(o.align instanceof Rr)return o.position.x-c.value1.width/2<=a.x&&a.x<=o.position.x+c.value1.width/2&&p<=a.y&&a.y<=p+d;throw new Error("Failed pattern match at Template.Layer.Text.Markup (line 208, column 7 - line 218, column 65): "+[o.align.constructor.name])})}))}},dragStart:function(a){return function(o){return n({text:o.text,position:o.position,maxWidth:o.maxWidth,fillStyle:o.fillStyle,font:o.font,align:o.align,baseline:o.baseline,lineHeight:o.lineHeight,letterSpacing:o.letterSpacing,context:o.context,dragOffset:new f(a)})}},drag:function(a){return function(o){return u(tu(t))(o.dragOffset)(a)(o)}},dragEnd:function(a){return n({text:a.text,position:a.position,maxWidth:a.maxWidth,fillStyle:a.fillStyle,font:a.font,align:a.align,baseline:a.baseline,lineHeight:a.lineHeight,letterSpacing:a.letterSpacing,context:a.context,dragOffset:s.value})},draw:function(a){return function(o){return yt(a)(function(){be(a)(o.fillStyle)(),Fr(a)(o.baseline)(),wr(a)(me.value)(),On(a)(o.letterSpacing)();var i=function(){if(o.maxWidth instanceof f)return md(a)(o.font)(o.maxWidth.value0)(o.text)();if(o.maxWidth instanceof s)return Yn(vd(a)(o.font))(di(o.text))();throw new Error("Failed pattern match at Template.Layer.Text.Markup (line 231, column 14 - line 233, column 83): "+[o.maxWidth.constructor.name])}(),d=pd(a)(o.font)(tn(El(gd)(i)))();return si(xr(i))(function(c){var p=function(){return o.baseline instanceof ve?o.position.y+Z(c.value0)*d*o.lineHeight:o.baseline instanceof Ke?o.position.y-Z((Ft(i)-c.value0|0)-1|0)*d*o.lineHeight:o.position.y+Z(c.value0)*d*o.lineHeight}(),F=function(){if(o.align instanceof Dr||o.align instanceof me)return o.position.x;if(o.align instanceof yr||o.align instanceof mn)return o.position.x-c.value1.width;if(o.align instanceof Rr)return o.position.x-c.value1.width/2;throw new Error("Failed pattern match at Template.Layer.Text.Markup (line 247, column 18 - line 252, column 57): "+[o.align.constructor.name])}();return function(){var b=_i(a)(o.font)(),M=Ro(0)(Ia(function(x){return function($){return x+b+$.width}})(0)(c.value1.line));return si(Rn(c.value1.line)(M))(function(x){var $=Ro(0)(Ia(function(lt){return function(J){return lt+J.width}})(0)(x.value0.word));return si(Rn(x.value0.word)($))(function(lt){return function(){return vi(a)(o.font)(lt.value0.fragment)(),co(a)(Uh(lt.value0.fragment))(F+x.value1+lt.value1)(p)()}})})()}})()})}}}},Xa=function(t){return{text:t.text,style:t.style,weight:wd.value}},Jh=ze(Ur(Ao(le("*"))(le("*"))(he(En(Xa))(Wo(_d)))))(Ya(le("*"))(ze(Fd([])(ci))(he(En(Xa))(Wo(_d))))),hd=ze(Ur(Ao(le("*"))(le("*"))(he(Xa)(Uo))))(ze(Uo)(Ya(le("*"))(he(function(t){return Xa(mi(t))})(fi)))),Gh=ze(Ur(Ao(le("_"))(le("_"))(he(En(Qa))(Wo(hd)))))(Ya(le("_"))(ze(Fd([])(ci))(he(En(Qa))(Wo(hd))))),Vh=he(function(t){return tn(Xl(t))})(ai(ze(Gh)(ze(Jh)(he(yl)(Uo)))));var eu=function(t){return function(e){var n=Ks(t)(Vh);if(n instanceof mt)return{position:e.position,maxWidth:e.maxWidth,fillStyle:e.fillStyle,font:e.font,align:e.align,baseline:e.baseline,lineHeight:e.lineHeight,letterSpacing:e.letterSpacing,dragOffset:e.dragOffset,context:e.context,text:n.value0};if(n instanceof ht)return{position:e.position,maxWidth:e.maxWidth,fillStyle:e.fillStyle,font:e.font,align:e.align,baseline:e.baseline,lineHeight:e.lineHeight,letterSpacing:e.letterSpacing,dragOffset:e.dragOffset,context:e.context,text:[{text:t,style:Za.value,weight:Ka.value}]};throw new Error("Failed pattern match at Template.Layer.Text.Markup (line 173, column 37 - line 175, column 104): "+[n.constructor.name])}};var Id=function(t){return t};var Nd=function(t){return t},jh={mapLayerWrapper:function(t){return function(e){var n=v(e.Bind1().Apply0().Functor0());return function(r){return function(u){return n(Id)(r(u))}}}}},Qh=cl(jh);var Xh={mapLayerWrapper:function(t){return function(e){var n=v(e.Bind1().Apply0().Functor0());return function(r){return function(u){return n(Nd)(r(u))}}}}},Yh=cl(Xh);var Sd=function(t){return function(e){var n=ae(e),r=Qh(e)(t),u=ue(e),a=_e(e),o=Ze(e),l=zt(e);return{position:function(i){return n(i)},translate:function(){var i=kt(e);return function(d){return r(i(d))}}(),containsPoint:function(i){return function(d){return u(i)(d)}},dragStart:function(i){return r(a({offsetX:i.offsetX,offsetY:0}))},drag:function(i){return r(o({translateX:i.translateX,translateY:0}))},dragEnd:r(ge(e)),draw:function(i){return function(d){return l(i)(d)}}}}};var Pd=function(t){var e=h(t.Applicative0());return function(n){var r=ae(n),u=ue(n),a=zt(n);return{position:function(o){return r(o)},translate:function(){var o=Yh(n)(t),l=kt(n);return function(i){return o(l(i))}}(),containsPoint:function(o){return function(l){return u(o)(l)}},dragStart:K(e),drag:K(e),dragEnd:e,draw:function(o){return function(l){return a(o)(l)}}}}};var Ad=Id;var Ho=Nd;function nu(t,e){var n={};for(var r in e)({}).hasOwnProperty.call(e,r)&&(n[r]=e[r]);for(var u in t)({}).hasOwnProperty.call(t,u)&&(n[u]=t[u]);return n}var Wd=function(){return function(){return function(t){return function(e){return nu(t,e)}}}};var Kn=function(t){return function(e){return function(){return e[t]}}},n0=Kn("URL"),r0=Kn("documentURI"),o0=Kn("origin"),a0=Kn("compatMode"),u0=Kn("characterSet"),l0=Kn("contentType");var i0=Kn("documentElement");function ru(t){return function(e){return function(){return e.createElement(t)}}}function Ud(t,e,n){return t==null?e:n(t)}var at=function(t){return Ud(t,s.value,f.create)};function Hd(t,e,n,r){if(typeof window<"u"){var u=window[n];if(u!=null&&r instanceof u)return e(r)}for(var a=r;a!=null;){var o=Object.getPrototypeOf(a),l=o.constructor.name;if(l===n)return e(r);if(l==="Object")return t;a=o}return t}var D=function(t){return function(e){return Hd(s.value,f.create,t,e)}};var ou=function(t){return function(e){return e[t]}},m0=ou("namespaceURI"),_0=ou("prefix"),g0=ou("localName"),h0=ou("tagName");function $o(t){return function(e){return function(n){return function(){n.setAttribute(t,e)}}}}function hi(t){return function(){var e=t.getBoundingClientRect();return{top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.width,height:e.height,x:e.x,y:e.y}}}var au=function(t){return function(e){return function(){return e[t]}}},D0=au("children"),y0=au("firstElementChild"),F0=au("lastElementChild"),w0=au("childElementCount");var qd=m,Re=m;var Me=function(t){return function(e){return function(){return e[t]}}};var M0=Me("baseURI"),x0=Me("ownerDocument"),L0=Me("parentNode"),I0=Me("parentElement");var N0=Me("childNodes"),S0=Me("firstChild"),P0=Me("lastChild"),A0=Me("previousSibling"),W0=Me("nextSibling"),U0=Me("nodeValue");var H0=Me("textContent");function Ri(t){return function(e){return function(){e.appendChild(t)}}}function Od(t){return function(e){return function(){return e.getElementById(t)}}}var z0=v(A),Zn=function(t){var e=z0(at),n=Od(t);return function(r){return e(n(r))}};function te(t){return function(){return function(e){return t(e)()}}}function ee(t){return function(e){return function(n){return function(r){return function(){return r.addEventListener(t,e,n)}}}}}var Bd=m;function kd(t){return function(e){return e.item(t)}}var Z0=v(dt),tR=function(t){var e=kd(t);return function(n){return at(e(n))}},zd=function(t){var e=nn(t);return function(n){return e(function(r){return Z0(j(E.create)(r+1|0))(tR(r)(n))})(0)}};function Di(t){return function(){return URL.createObjectURL(t)}}var yi=function(){return window};function Jd(t){return t.body}var iR=v(A);var tr=m;var Gd=m,Fi=m;var Vd=function(t){return iR(at)(function(){return Jd(t)})};function jd(t,e,n){var r=Object.prototype.toString.call(n);return r.indexOf("[object HTML")===0&&r.indexOf("Element]")===r.length-8?e(n):t}function wi(t){return function(){return t.click()}}function bi(t){return function(){return t.offsetWidth}}function Ci(t){return function(){return t.offsetHeight}}var Qd=m;var Xd=m;var Ti=function(t){return jd(s.value,f.create,t)};function Zd(t){return function(){return t.files}}function Hr(t){return function(){return t.value}}var qR=v(A);var uu=D("HTMLInputElement");var Ei=function(){var t=qR(at);return function(e){return t(Zd(e))}}();function lu(t){return function(){return t.value}}var ep=D("HTMLTextAreaElement");function Mi(t){return function(){return t.document}}function qo(t){return t.clientX}function Oo(t){return t.clientY}function Bo(t){return t.touches}var iu=D("TouchEvent");function np(t,e){return e.item(t)}var cu=function(t){return function(e){return at(np(t,e))}};function ko(t){return t.clientX}function zo(t){return t.clientY}var fu=D("MouseEvent");var xe=h(Et),m2=Le(Ie),Jo=Co(Ht)(_n(A)),_2=zt(Jo),qr=ae(Jo),rp=_e(Jo),du=Ze(Jo),op=ge(Jo),Li=zn(Ut),$r=C(Li),xi=ie(Li),su=Mr(Ut),er=Te(Er)(Ut),ap=m2(Li),up=ie(vn),lp=h(bo(Ut)),g2=Wa(Ht),h2=Wd()(),nr=hs(Ht),R2=zd(hl),Or=function(t){return function(e){return function(n){return function(){var u=hi(Xd(e))(),a=bi(e)(),o=Ci(e)(),l=oo(t)(),i=ao(t)();return{x:(n.x-u.left)*l/a,y:(n.y-u.top)*i/o}}}}},De=function(t){return function(){var n=hr(t.canvas)(),r=pf(t.canvas)();return Ku(n)({x:0,y:0,width:r.width,height:r.height})(),yt(n)(_2(n)(t.layer))()}},D2=function(t){return te(function(e){var n=iu(e);if(n instanceof s)return xe(void 0);if(n instanceof f){var r=cu(0)(Bo(n.value0));if(r instanceof s)return De(t);if(r instanceof f)return function(){var a=qr(t.layer)(),o=Or(t.canvas)(t.canvasHtmlElement)({x:Z(qo(r.value0)),y:Z(Oo(r.value0))})(),l={offsetX:o.x-a.x,offsetY:o.y-a.y};return rp(l)(t.layer)(),De(t)()};throw new Error("Failed pattern match at Template.Main (line 193, column 24 - line 203, column 24): "+[r.constructor.name])}throw new Error("Failed pattern match at Template.Main (line 191, column 63 - line 203, column 24): "+[n.constructor.name])})},y2=function(t){return te(function(e){var n=iu(e);if(n instanceof s)return xe(void 0);if(n instanceof f){var r=cu(0)(Bo(n.value0));if(r instanceof s)return De(t);if(r instanceof f)return function(){var a=qr(t.layer)(),o=Or(t.canvas)(t.canvasHtmlElement)({x:Z(qo(r.value0)),y:Z(Oo(r.value0))})(),l={translateX:o.x-a.x,translateY:o.y-a.y};return du(l)(t.layer)(),De(t)()};throw new Error("Failed pattern match at Template.Main (line 221, column 24 - line 231, column 24): "+[r.constructor.name])}throw new Error("Failed pattern match at Template.Main (line 219, column 62 - line 231, column 24): "+[n.constructor.name])})},F2=function(t){return te(function(e){var n=iu(e);if(n instanceof s)return xe(void 0);if(n instanceof f){var r=cu(0)(Bo(n.value0));if(r instanceof s)return De(t);if(r instanceof f)return function(){var a=qr(t.layer)(),o=Or(t.canvas)(t.canvasHtmlElement)({x:Z(qo(r.value0)),y:Z(Oo(r.value0))})(),l={translateX:o.x-a.x,translateY:o.y-a.y};return du(l)(t.layer)(),op(t.layer)(),De(t)()};throw new Error("Failed pattern match at Template.Main (line 250, column 24 - line 261, column 24): "+[r.constructor.name])}throw new Error("Failed pattern match at Template.Main (line 248, column 61 - line 261, column 24): "+[n.constructor.name])})},ip=function(t){return function(e){return kn($r(xi(su)(er(ll(t))))(function(n){return ap(er(ul(n)(e)))(function(){return $r(er(up(Mi)(yi)))(function(r){return $r(xi(su)(er(Zn("canvas")(tr(r)))))(function(u){return $r(su(Ti(u)))(function(a){return lp({canvas:n,canvasElement:u,canvasHtmlElement:a,document:r})})})})})}))}},cp=function(t){var e=$t(t);return function(n){return function(r){return function(){var a=g2(e(r))();return h2(n)({layer:a})}}}},w2=function(t){return te(function(e){var n=fu(e);if(n instanceof s)return xe(void 0);if(n instanceof f)return function(){var u=qr(t.layer)(),a=Or(t.canvas)(t.canvasHtmlElement)({x:Z(ko(n.value0)),y:Z(zo(n.value0))})(),o={translateX:a.x-u.x,translateY:a.y-u.y};return du(o)(t.layer)(),op(t.layer)(),De(t)()};throw new Error("Failed pattern match at Template.Main (line 234, column 60 - line 245, column 22): "+[n.constructor.name])})},b2=function(t){return te(function(e){var n=fu(e);if(n instanceof s)return xe(void 0);if(n instanceof f)return function(){var u=qr(t.layer)(),a=Or(t.canvas)(t.canvasHtmlElement)({x:Z(ko(n.value0)),y:Z(zo(n.value0))})(),o={translateX:a.x-u.x,translateY:a.y-u.y};return du(o)(t.layer)(),De(t)()};throw new Error("Failed pattern match at Template.Main (line 206, column 62 - line 216, column 22): "+[n.constructor.name])})},C2=function(t){return te(function(e){var n=fu(e);if(n instanceof s)return xe(void 0);if(n instanceof f)return function(){var u=qr(t.layer)(),a=Or(t.canvas)(t.canvasHtmlElement)({x:Z(ko(n.value0)),y:Z(zo(n.value0))})(),o={offsetX:a.x-u.x,offsetY:a.y-u.y};return rp(o)(t.layer)(),De(t)()};throw new Error("Failed pattern match at Template.Main (line 178, column 62 - line 188, column 22): "+[n.constructor.name])})},T2=function(t){return te(function(e){return De(t)})},Ii=function(t){return function(e){return function(n){return function(r){return kn(function(){var u=tr(r.document);return $r(xi(su)(er(Zn(t)(u))))(function(a){return $r(er(te(function(o){return function(){var i=ru("canvas")(Fi(r.document))();$o("id")("hidden-clip-canvas")(i)();var d=Vd(r.document)();if(d instanceof f){Ri(qd(i))(Qd(d.value0))();var c=ll("hidden-clip-canvas")();if(c instanceof f){ul(c.value0)({width:n.width,height:n.height})();var p=hr(c.value0)(),F=r.canvas;rl(p)(F)(n.x)(n.y)(n.width)(n.height)(0)(0)(n.width)(n.height)();var N=ju(c.value0)(),b=ru("a")(Fi(r.document))();$o("href")(N)(b)(),$o("download")(e)(b)();var M=Ti(b);if(M instanceof f)return wi(M.value0)();throw new Error("Failed pattern match at Template.Main (line 173, column 9 - line 173, column 53): "+[M.constructor.name])}throw new Error("Failed pattern match at Template.Main (line 162, column 5 - line 162, column 64): "+[c.constructor.name])}throw new Error("Failed pattern match at Template.Main (line 159, column 5 - line 159, column 53): "+[d.constructor.name])}})))(function(o){return ap(er(ee("click")(o)(!1)(Re(a))))(function(){return lp(a)})})})}())}}}};var E2=function(t){return function(e){return function(n){return function(r){return function(){var a=Zn(e)(tr(t.document))();if(a instanceof f){var o=ep(a.value0);if(o instanceof f){var l=lu(o.value0)();nr(r(l))(n)();var i=te(function(d){return function(){var p=lu(o.value0)();return nr(r(p))(n)()}})();return ee("input")(i)(!1)(Re(a.value0))()}throw new Error("Failed pattern match at Template.Main (line 297, column 7 - line 297, column 55): "+[o.constructor.name])}throw new Error("Failed pattern match at Template.Main (line 296, column 3 - line 296, column 79): "+[a.constructor.name])}}}}},pu=function(t){return function(e){return function(n){return function(r){return E2(t)(e)(n)(function(u){return function(a){return function(o){return xe(a(o))}}(r(u))})}}}},fp=function(t){return function(e){return function(n){return function(r){return function(){var a=Zn(e)(tr(t.document))();if(a instanceof f){var o=uu(a.value0);if(o instanceof f){var l=Hr(o.value0)();(function(){var d=wa(l);if(d instanceof f)return nr(r(d.value0))(n)();if(d instanceof s)return void 0;throw new Error("Failed pattern match at Template.Main (line 316, column 3 - line 318, column 25): "+[d.constructor.name])})();var i=te(function(d){return function(){var p=Hr(o.value0)(),F=wa(p);if(F instanceof f)return nr(r(F.value0))(n)();if(F instanceof s)return void 0;throw new Error("Failed pattern match at Template.Main (line 322, column 5 - line 324, column 27): "+[F.constructor.name])}})();return ee("input")(i)(!1)(Re(a.value0))()}throw new Error("Failed pattern match at Template.Main (line 313, column 7 - line 313, column 52): "+[o.constructor.name])}throw new Error("Failed pattern match at Template.Main (line 312, column 3 - line 312, column 79): "+[a.constructor.name])}}}}},M2=function(t){return function(e){return function(n){return function(r){return fp(t)(e)(n)(function(u){return function(a){return function(o){return xe(a(o))}}(r(u))})}}}};var sp=function(t){var e=Rf(t);return function(n){return function(r){return function(u){return function(){var o=hn(1)();return fp(n)(r)(u)(function(l){return function(i){return function(){var c=Xt(o)();return br(l)(o)(),e(l/c)(i)()}}})()}}}}},Ni=function(t){return function(e){return function(n){return M2(t)(e)(n)(Cd)}}},x2=function(t){return function(e){return function(n){return function(r){return function(){var a=Zn(e)(tr(t.document))();if(a instanceof f){var o=uu(a.value0);if(o instanceof f){var l=Hr(o.value0)();nr(r(l))(n)();var i=te(function(d){return function(){var p=Hr(o.value0)();return nr(r(p))(n)()}})();return ee("input")(i)(!1)(Re(a.value0))()}throw new Error("Failed pattern match at Template.Main (line 281, column 7 - line 281, column 52): "+[o.constructor.name])}throw new Error("Failed pattern match at Template.Main (line 280, column 3 - line 280, column 79): "+[a.constructor.name])}}}}},Si=function(t){return function(e){return function(n){return function(r){return x2(t)(e)(n)(function(u){return function(a){return function(o){return xe(a(o))}}(r(u))})}}}},L2=function(t){return function(e){return function(n){return function(r){return function(){var a=Zn(e)(tr(t.document))();if(a instanceof f){var o=uu(a.value0);if(o instanceof f){var l=function(c){if(c instanceof s)return xe(void 0);if(c instanceof f){var p=Oe(R2(c.value0))(0);if(p instanceof s)return xe(void 0);if(p instanceof f)return nr(r(p.value0))(n);throw new Error("Failed pattern match at Template.Main (line 351, column 26 - line 353, column 56): "+[p.constructor.name])}throw new Error("Failed pattern match at Template.Main (line 349, column 28 - line 353, column 56): "+[c.constructor.name])},i=Ei(o.value0)();l(i)();var d=te(function(c){return up(l)(Ei(o.value0))})();return ee("change")(d)(!1)(Re(a.value0))()}throw new Error("Failed pattern match at Template.Main (line 347, column 7 - line 347, column 52): "+[o.constructor.name])}throw new Error("Failed pattern match at Template.Main (line 346, column 3 - line 346, column 79): "+[a.constructor.name])}}}}};var I2=function(t){return function(e){return function(n){return function(r){return L2(t)(e)(n)(function(u){return r(Bd(u))})}}}};var dp=function(t){return function(e){return function(n){return function(r){return I2(t)(e)(n)(function(u){return function(a){return function(){var l=Di(u)();return r(l)(a)()}}})}}}},pp=function(t){return function(){var n=C2(t)(),r=b2(t)(),u=w2(t)(),a=D2(t)(),o=y2(t)(),l=F2(t)(),i=T2(t)();return ee("mousedown")(n)(!1)(Re(t.canvasElement))(),ee("mousemove")(r)(!1)(Re(t.canvasElement))(),ee("mouseup")(u)(!1)(Re(t.canvasElement))(),ee("touchstart")(a)(!1)(Re(t.canvasElement))(),ee("touchmove")(o)(!1)(Re(t.canvasElement))(),ee("touchend")(l)(!1)(Re(t.canvasElement))(),ee("input")(i)(!1)(Gd(t.document))()}};var S2=Le(Ie),P2=Pn(pt)(pe),mp=St(Qt),_p=wt(A),A2=mp(Et),W2=ie(vn),Br=Wa(Ht),U2=ns(Ht),H2=rs(Ht),$2=sp(ts(Ht)),Pi=Il(Ht),Wi=Co(Ht),q2=$t(Wi(tu(Ht))),O2=$t(Wi(Ba(Ht))),gp=Pd(Ut),hp=Na(Ht),Ai=$t(gp(hp)),B2=$t(Ml(Ut)),k2=$t(Wi(hp)),z2=$t(gp(Ul(Et))),J2=cp(vs(Ut));var Rp=function(t){var e=Na(t),n=ae(e),r=t.Monad0(),u=r.Bind1(),a=C(u),o=v(u.Apply0().Functor0()),l=as(t),i=kt(e),d=r.Applicative0(),c=h(d),p=ue(e),F=zt(e),N=_e(e),b=Jt(d),M=ge(e);return{position:function(x){return n(x.guillotine)},translate:function(x){return function($){return a(o(function(lt){return function(J){return J+x.translateX}(function(J){return J.x}(lt))})(n($.guillotine)))(function(lt){return a(l($.guillotine))(function(J){var it=os($.guillotine).scaleY,Lt=function(){return J instanceof f&&J.value0.width!==0?es({scaleX:($.xMax-lt)/J.value0.width,scaleY:it})($.guillotine):$.guillotine}();return a(i(x)(Lt))(function(ye){return c({xMax:$.xMax,guillotine:ye})})})})}},containsPoint:function(x){return function($){return p(x)($.guillotine)}},draw:function(x){return function($){return F(x)($.guillotine)}},dragStart:function(x){return function($){return a(N(x)($.guillotine))(function(lt){return c({xMax:$.xMax,guillotine:lt})})}},drag:function(x){return function($){return b(Rp(t))($.guillotine.dragOffset)(x)($)}},dragEnd:function(x){return a(M(x.guillotine))(function($){return c({xMax:x.xMax,guillotine:$})})}}},Dp=function(t){var e=t.Monad0(),n=fl(e),r=ae(n),u=e.Bind1(),a=C(u),o=kt(n),l=Rp(t),i=kt(l),d=Co(t),c=d(Ba(t)),p=kt(c),F=d(tu(t)),N=kt(F),b=S2(u),M=Rs(t),x=e.Applicative0(),$=h(x),lt=u.Apply0().Functor0(),J=v(lt),it=mp(x),Lt=_n(lt),ye=ue(Lt),Je=$t(n),Mn=$t(l),or=$t(F),Ui=$t(c),Fp=zt(Lt),wp=_e(n),bp=Jt(x),Cp=ge(n);return{position:function(vt){return r(vt.overlayBackground)},translate:function(vt){return function(ut){return a(o(vt)(ut.overlayBackground))(function(vu){return a(i(vt)(ut.guillotine))(function(Tp){return a(p(vt)(ut.author))(function(Ep){return a(N(vt)(ut.title))(function(Hi){return b(M(gi(function(mu){return mu-vt.translateX}))(Hi))(function(){return b(M(gi(function(mu){return mu-vt.translateX}))(ut.bodyText))(function(){return $({overlayBackground:vu,guillotine:Tp,author:Ep,bodyText:ut.bodyText,title:Hi})})})})})})})}},containsPoint:function(vt){return function(ut){return J(P2)(it(ye(vt))([Je(ut.overlayBackground),Mn(ut.guillotine),or(ut.bodyText),Ui(ut.author),or(ut.title)]))}},draw:function(vt){return function(ut){return _p(A2(Fp(vt))([Je(ut.overlayBackground),Mn(ut.guillotine),or(ut.bodyText),Ui(ut.author),or(ut.title)]))}},dragStart:function(vt){return function(ut){return a(wp(vt)(ut.overlayBackground))(function(vu){return $({guillotine:ut.guillotine,bodyText:ut.bodyText,author:ut.author,title:ut.title,overlayBackground:vu})})}},drag:function(vt){return function(ut){return bp(Dp(t))(ut.overlayBackground.dragOffset)(vt)(ut)}},dragEnd:function(vt){return a(Cp(vt.overlayBackground))(function(ut){return $({guillotine:vt.guillotine,bodyText:vt.bodyText,author:vt.author,title:vt.title,overlayBackground:ut})})}}},G2=$t(Sd(Ut)(Dp(Ht))),tt=2,vp={scaleX:tt,scaleY:tt},V2=function(t){var e=t.Monad0(),n=C(e.Bind1()),r=Il(t),u=h(e.Applicative0());return function(a){return function(o){return function(l){return function(i){return n(r(a)(o)(l)(Hn.value))(function(d){return u({guillotine:d,xMax:i})})}}}}},j2=V2(Ht),Q2=function(){return{width:1080,height:1080*5/4}}(),Go=function(){return jt(lr()(cn({reflectSymbol:function(){return"height"}})()(cn({reflectSymbol:function(){return"width"}})()(ur)(Pe))(Pe)))({width:2*tt,height:tt})(Q2)}(),rr=function(){return Go.height}(),Pt=function(){return Go.width}(),yp=_p(function(){var e=ip("canvas")(Go)();if(e instanceof f){var n=hr(e.value0.canvas)(),r=W2(Br)(U2({x:0,y:0})({scaleX:1,scaleY:1})(Hn.value))();dp(e.value0)("image")(r)(H2)(),$2(e.value0)("image-size")(r)();var u=j2("./img/guillotine2x.png")({x:Pt/2+285*tt,y:60*tt})({scaleX:(Pt-180*tt-(Pt/2+285*tt))/1560,scaleY:1})(Pt-180*tt)(),a=Pi("./img/guillotinewit2x.png")({x:60*tt,y:60*tt})({scaleX:1,scaleY:1})(Hn.value)(),o=Pi("./img/jacobinlogo.svg")({x:Pt-120*tt,y:rr-200*tt})(vp)(Hn.value)(),l=Pi("./img/jacobinlogowit.svg")({x:Pt/2-120*tt,y:rr-200*tt})(vp)(Hn.value)(),i=Br({text:[],lineHeight:.95,position:{x:Pt-tt*60,y:tt*150},fillStyle:"#f00",font:{name:"Oswald",style:{normal:"normal",italic:"italic"},weight:{normal:"500",bold:"700"},size:90*tt},align:mn.value,baseline:ve.value,letterSpacing:"-3px",dragOffset:s.value,maxWidth:new f(Pt/2-2*60*tt),context:n})();pu(e.value0)("bodytext")(i)(eu)(),Ni(e.value0)("bodytext-size")(i)();var d={x:60*tt,y:800*tt},c=Br({text:[],lineHeight:.9,position:d,maxWidth:new f(Pt/2-2*60*tt),fillStyle:"#fff",font:{name:"Oswald",style:{normal:"normal",italic:"italic"},weight:{normal:"700",bold:"700"},size:100*tt},align:me.value,baseline:Ke.value,letterSpacing:"-2px",dragOffset:s.value,context:n})();pu(e.value0)("title")(c)(eu)(),Ni(e.value0)("title-size")(c)();var p=Br({text:"AUTEUR",lineHeight:.95,position:d,fillStyle:"#fff",fontName:"Oswald",fontStyle:"normal",fontWeight:"500",fontSize:tt*50,align:me.value,baseline:ve.value,letterSpacing:"-3px",dragOffset:s.value,maxWidth:s.value,context:n})();Si(e.value0)("author")(p)(Vl)();var F=Kf([q2(c),O2(p)]),N=Br({text:"AUTEUR",lineHeight:.95,position:{x:Pt/2+128*tt,y:rr-200*tt},fillStyle:"#f00",fontName:"Oswald",fontStyle:"normal",fontWeight:"400",fontSize:2*50,align:me.value,baseline:ve.value,letterSpacing:"-3px",dragOffset:s.value,maxWidth:s.value,context:n})();Si(e.value0)("author")(N)(function(Lt){return Vl(_a(Lt))})();var b=Br({text:[],lineHeight:.9,position:{x:Pt/2+128*tt,y:rr-200*tt+50*tt},maxWidth:new f(Pt/2-(128+2*60+20)*tt),fillStyle:"#f00",font:{name:"Oswald",style:{normal:"normal",italic:"italic"},weight:{normal:"500",bold:"700"},size:50*tt},align:me.value,baseline:ve.value,letterSpacing:"-2px",dragOffset:s.value,context:n})();pu(e.value0)("title")(b)(eu)();var M=yf({x:Pt/2+60*tt,y:0})({width:Pt,height:rr})(82.5)("#fff"),x={overlayBackground:M,guillotine:u,bodyText:i,author:N,title:b},$=ms([Ai(Ho(l)),Ai(Ho(o)),B2(F),G2(Ad(x)),Ai(Ho(a)),k2(r),z2(Ho(_s({x:0,y:0,width:Go.width,height:Go.height})("#f00")))]),lt=J2(e.value0)($)();De(lt)(),pp(lt)();var J=Ii("download-left")("jacobin-titel-links.png")({x:0,y:0,width:Pt/2,height:rr})(lt)();if(J instanceof f){var it=Ii("download-right")("jacobin-titel-rechts.png")({x:Pt/2,y:0,width:Pt/2,height:rr})(lt)();if(it instanceof f)return void 0;throw new Error("Failed pattern match at Jacobin.TitleSlide (line 297, column 3 - line 297, column 169): "+[it.constructor.name])}throw new Error("Failed pattern match at Jacobin.TitleSlide (line 296, column 3 - line 296, column 153): "+[J.constructor.name])}throw new Error("Failed pattern match at Jacobin.TitleSlide (line 134, column 3 - line 134, column 72): "+[e.constructor.name])});yp();})();

/* Generated by Spago v0.93.44 */
(()=>{var Kl=typeof Array.prototype.flatMap=="function"?function(t){return function(e){return t.flatMap(e)}}:function(t){return function(e){for(var n=[],r=t.length,o=0;o<r;o++)for(var u=e(t[o]),a=u.length,l=0;l<a;l++)n.push(u[l]);return n}};var Zl=function(t){return function(e){for(var n=t.length,r=e.length,o=new Array(n*r),u=0,a=0;a<n;a++)for(var l=t[a],i=0;i<r;i++)o[u++]=l(e[i]);return o}};var Do={compose:function(t){return function(e){return function(n){return t(e(n))}}}};var q=function(t){return t.identity},k={identity:function(t){return t},Semigroupoid0:function(){return Do}};var gt=!0;var X=function(t){return function(e){return function(n){return t(n)(e)}}},V=function(t){return function(e){return t}};var ti=function(t){return function(e){for(var n=e.length,r=new Array(n),o=0;o<n;o++)r[o]=t(e[o]);return r}};var J=function(){function t(){}return t.value=new t,t}();var d=function(t){return t.map},ke=function(t){var e=d(t);return function(n){return function(r){return e(r)(n)}}},vt=function(t){return d(t)(V(void 0))};var Je=function(t){var e=d(t);return function(n){return e(V(n))}};var Rt={map:ti};var xd=q(k);var Fo={apply:Zl,Functor0:function(){return Rt}},ot=function(t){return t.apply},ei=function(t){var e=ot(t),n=d(t.Functor0());return function(r){return function(o){return e(n(V)(r))(o)}}},re=function(t){var e=ot(t),n=d(t.Functor0());return function(r){return function(o){return e(n(V(xd))(r))(o)}}};var D=function(t){return t.pure};var hr=function(t){var e=ot(t.Apply0()),n=D(t);return function(r){return function(o){return e(n(r))(o)}}};var je=function(t){return t.discard};var bo={bind:Kl,Apply0:function(){return Fo}},M=function(t){return t.bind},Vt=function(t){return X(M(t))};var Ge={discard:function(t){return M(t)}};var ri=function(t){return function(e){return t.length===0?e:e.length===0?t:t.concat(e)}};var Ht=function(t){return t.reflectSymbol};var oe=function(t){return function(e){return e[t]}},Yt=function(t){return function(e){return function(n){var r={};for(var o in n)({}).hasOwnProperty.call(n,o)&&(r[o]=n[o]);return r[t]=e,r}}};var fe={append:ri};var A=function(t){return t.append};var dt=function(t){return t.alt};var ai="\uFFFF",ui="\0",Ad=Number.POSITIVE_INFINITY,Wd=Number.NEGATIVE_INFINITY;var ja=function(t){return function(e){return function(n){return function(r){return function(o){return r<o?t:r===o?e:n}}}}};var li=ja,ii=ja;var ci=ja;var Ga=function(t){return function(e){return t===e}};var fi=Ga,si=Ga,di=Ga;var pi={eq:si},Co={eq:fi},To={eq:di};var z=function(t){return t.eq};var H=function(){function t(){}return t.value=new t,t}(),N=function(){function t(){}return t.value=new t,t}(),Q=function(){function t(){}return t.value=new t,t}();var qn={eq:function(t){return function(e){return t instanceof H&&e instanceof H||t instanceof N&&e instanceof N||t instanceof Q&&e instanceof Q}}};var vi=function(t){return function(e){return t-e|0}};var mi=function(t){return function(e){return t+e|0}},_i=function(t){return function(e){return t*e|0}},gi=function(t){return function(e){return t+e}},hi=function(t){return function(e){return t*e}};var Ri=function(t){return t.zeroRecord},Xt=function(t){return t.zero};var Rr={addRecord:function(t){return function(e){return function(n){return{}}}},mulRecord:function(t){return function(e){return function(n){return{}}}},oneRecord:function(t){return function(e){return{}}},zeroRecord:function(t){return function(e){return{}}}};var we={add:gi,zero:0,mul:hi,one:1},Eo={add:mi,zero:0,mul:_i,one:1},Di=function(t){return t.oneRecord},se=function(t){return t.one},yi=function(t){return t.mulRecord},It=function(t){return t.mul},Fi=function(t){return t.addRecord},Dr=function(){return function(t){return{add:Fi(t)(J.value),mul:yi(t)(J.value),one:Di(t)(J.value)(J.value),zero:Ri(t)(J.value)(J.value)}}},$t=function(t){return t.add};var mn=function(t){var e=Ht(t);return function(){return function(n){var r=Fi(n),o=yi(n),u=Di(n),a=Ri(n);return function(l){var i=$t(l),s=It(l),v=se(l),y=Xt(l);return{addRecord:function(w){return function(C){return function(b){var tt=r(J.value)(C)(b),_t=e(J.value),ze=Yt(_t),Wt=oe(_t);return ze(i(Wt(C))(Wt(b)))(tt)}}},mulRecord:function(w){return function(C){return function(b){var tt=o(J.value)(C)(b),_t=e(J.value),ze=Yt(_t),Wt=oe(_t);return ze(s(Wt(C))(Wt(b)))(tt)}}},oneRecord:function(w){return function(C){var b=u(J.value)(J.value),tt=e(J.value),_t=Yt(tt);return _t(v)(b)}},zeroRecord:function(w){return function(C){var b=a(J.value)(J.value),tt=e(J.value),_t=Yt(tt);return _t(y)(b)}}}}}}};var wi={sub:vi,Semiring0:function(){return Eo}};var xo=function(){return{compare:ii(H.value)(Q.value)(N.value),Eq0:function(){return pi}}}(),qt=function(){return{compare:li(H.value)(Q.value)(N.value),Eq0:function(){return Co}}}(),Lo=function(){return{compare:ci(H.value)(Q.value)(N.value),Eq0:function(){return To}}}();var $=function(t){return t.compare};var be=function(t){return t.top};var yr={top:ai,bottom:ui,Ord0:function(){return Lo}};var Ve=function(t){return t.bottom};var Ti=function(t){var e=t.toString();return isNaN(e+".0")?e:e+".0"},Ei=function(t){var e=t.charCodeAt(0);if(e<32||e===127){switch(t){case"\x07":return"'\\a'";case"\b":return"'\\b'";case"\f":return"'\\f'";case`
`:return"'\\n'";case"\r":return"'\\r'";case"	":return"'\\t'";case"\v":return"'\\v'"}return"'\\"+e.toString(10)+"'"}return t==="'"||t==="\\"?"'\\"+t+"'":"'"+t+"'"};var Mi=function(t){return function(e){for(var n=[],r=0,o=e.length;r<o;r++)n[r]=t(e[r]);return"["+n.join(",")+"]"}};var Qa={show:Ti};var Io={show:Ei};var T=function(t){return t.show},Ya=function(t){return{show:Mi(T(t))}};var Xd=q(k),f=function(){function t(){}return t.value=new t,t}(),c=function(){function t(e){this.value0=e}return t.create=function(e){return new t(e)},t}();var Kt=function(t){return function(e){return function(n){if(n instanceof f)return t;if(n instanceof c)return e(n.value0);throw new Error("Failed pattern match at Data.Maybe (line 237, column 1 - line 237, column 51): "+[t.constructor.name,e.constructor.name,n.constructor.name])}}},Qe=Kt(!0)(V(!1));var ut={map:function(t){return function(e){return e instanceof c?new c(t(e.value0)):f.value}}};var Nt=function(t){return Kt(t)(Xd)},de=function(){return function(t){if(t instanceof c)return t.value0;throw new Error("Failed pattern match at Data.Maybe (line 288, column 1 - line 288, column 46): "+[t.constructor.name])}};var Ii=function(t){return function(){return t}},Ni=function(t){return function(e){return function(){return e(t())()}}};var Pi=function(t){var e=M(t.Bind1()),n=D(t.Applicative0());return function(r){return function(o){return e(o)(function(u){return n(r(u))})}}},_n=function(t){var e=M(t.Bind1()),n=D(t.Applicative0());return function(r){return function(o){return e(r)(function(u){return e(o)(function(a){return n(u(a))})})}}};var Ai=function(t){return Math.min(Math.abs(t),2147483647)},Wi=function(t){return function(e){return e===0?0:e>0?Math.floor(t/e):-Math.floor(t/-e)}},Ui=function(t){return function(e){if(e===0)return 0;var n=Math.abs(e);return(t%n+n)%n}};var Hi={Ring0:function(){return wi}};var wr=function(t){return t.mod};var Po={degree:Ai,div:Wi,mod:Ui,CommutativeRing0:function(){return Hi}};var it=function(t){return t.mempty};var qi=function(t,e,n){var r=0,o;return function(u){if(r===2)return o;if(r===1)throw new ReferenceError(t+" was needed before it finished initializing (module "+e+", line "+u+")",e,u);return r=1,o=n(),r=2,o}},Tt={Applicative0:function(){return Et},Bind1:function(){return Ke}},Ke={bind:Ni,Apply0:function(){return Ka(0)}},Et={pure:Ii,Apply0:function(){return Ka(0)}},Oi=qi("functorEffect","Effect",function(){return{map:hr(Et)}}),Ka=qi("applyEffect","Effect",function(){return{apply:_n(Tt),Functor0:function(){return Oi(0)}}}),S=Oi(20),Bi=Ka(23);var Ot={liftEffect:q(k),Monad0:function(){return Tt}},Mt=function(t){return t.liftEffect};function zi(t){return function(e){return function(n){return function(){var r=new Image;r.src=t,r.addEventListener("load",function(){n(r)()},!1),r.addEventListener("error",function(){e()},!1)}}}}function ki(t,e,n){return function(){var r=document.getElementById(t);return r&&r instanceof HTMLCanvasElement?e(r):n}}function br(t){return function(){return t.getContext("2d")}}function Cr(t){return function(){return t.width}}function Tr(t){return function(){return t.height}}function Za(t){return function(e){return function(){t.width=e}}}function tu(t){return function(e){return function(){t.height=e}}}function eu(t){return function(){return t.toDataURL()}}function gn(t){return function(e){return function(){t.fillStyle=e}}}function Ji(t){return function(e){return function(){t.globalCompositeOperation=e}}}function nu(t){return function(){t.beginPath()}}function ru(t){return function(){t.fill()}}function ou(t){return function(e){return function(){t.rect(e.x,e.y,e.width,e.height)}}}function au(t){return function(e){return function(){t.clearRect(e.x,e.y,e.width,e.height)}}}function ji(t){return function(e){return function(){t.textAlign=e}}}function Gi(t){return function(e){return function(){t.textBaseline=e}}}function Wo(t){return function(e){return function(){t.font=e}}}function Uo(t){return function(e){return function(n){return function(r){return function(){t.fillText(e,n,r)}}}}}function uu(t){return function(){t.save()}}function lu(t){return function(){t.restore()}}function iu(t){return function(e){return function(n){return function(r){return function(o){return function(u){return function(){t.drawImage(e,n,r,o,u)}}}}}}}var ft=function(){function t(e){this.value0=e}return t.create=function(e){return new t(e)},t}(),ct=function(){function t(e){this.value0=e}return t.create=function(e){return new t(e)},t}();var fp=re(Bi),Ze=function(){function t(){}return t.value=new t,t}(),sp=function(){function t(){}return t.value=new t,t}(),dp=function(){function t(){}return t.value=new t,t}(),pp=function(){function t(){}return t.value=new t,t}(),vp=function(){function t(){}return t.value=new t,t}(),Er=function(){function t(){}return t.value=new t,t}(),Bn=function(){function t(){}return t.value=new t,t}(),Mr=function(){function t(){}return t.value=new t,t}(),tn=function(){function t(){}return t.value=new t,t}(),xr=function(){function t(){}return t.value=new t,t}(),Lr=function(){function t(){}return t.value=new t,t}();var Ir=function(){function t(){}return t.value=new t,t}(),mp=function(){function t(){}return t.value=new t,t}(),_p=function(){function t(){}return t.value=new t,t}(),gp=function(){function t(){}return t.value=new t,t}(),hp=function(){function t(){}return t.value=new t,t}(),Rp=function(){function t(){}return t.value=new t,t}(),Dp=function(){function t(){}return t.value=new t,t}(),yp=function(){function t(){}return t.value=new t,t}(),Fp=function(){function t(){}return t.value=new t,t}(),wp=function(){function t(){}return t.value=new t,t}(),bp=function(){function t(){}return t.value=new t,t}(),Cp=function(){function t(){}return t.value=new t,t}(),Tp=function(){function t(){}return t.value=new t,t}(),Ep=function(){function t(){}return t.value=new t,t}(),Mp=function(){function t(){}return t.value=new t,t}(),xp=function(){function t(){}return t.value=new t,t}(),Lp=function(){function t(){}return t.value=new t,t}(),Ip=function(){function t(){}return t.value=new t,t}(),Np=function(){function t(){}return t.value=new t,t}(),Sp=function(){function t(){}return t.value=new t,t}(),Pp=function(){function t(){}return t.value=new t,t}(),Ap=function(){function t(){}return t.value=new t,t}(),Wp=function(){function t(){}return t.value=new t,t}(),Up=function(){function t(){}return t.value=new t,t}(),Hp=function(){function t(){}return t.value=new t,t}(),$p=function(){function t(){}return t.value=new t,t}(),Zt=function(t){return function(e){return function(){uu(t)();var r=e();return lu(t)(),r}}},fu=function(t){return function(e){return zi(t)(e(f.value))(function(n){return e(c.create(n))})}};var Ho=function(t){return function(e){var n=function(r){if(r instanceof Ze)return"top";if(r instanceof sp)return"hanging";if(r instanceof dp)return"middle";if(r instanceof pp)return"alphabetic";if(r instanceof vp)return"ideographic";if(r instanceof Er)return"bottom";throw new Error("Failed pattern match at Graphics.Canvas (line 577, column 5 - line 577, column 33): "+[r.constructor.name])};return Gi(t)(n(e))}},$o=function(t){return function(e){var n=function(r){if(r instanceof Bn)return"left";if(r instanceof Mr)return"right";if(r instanceof tn)return"center";if(r instanceof xr)return"start";if(r instanceof Lr)return"end";throw new Error("Failed pattern match at Graphics.Canvas (line 531, column 5 - line 531, column 32): "+[r.constructor.name])};return ji(t)(n(e))}};var Xi=function(t){return function(e){var n=function(r){if(r instanceof Ir)return"source-over";if(r instanceof mp)return"source-in";if(r instanceof _p)return"source-out";if(r instanceof gp)return"source-atop";if(r instanceof hp)return"destination-over";if(r instanceof Rp)return"destination-in";if(r instanceof Dp)return"destination-out";if(r instanceof yp)return"destination-atop";if(r instanceof Fp)return"lighter";if(r instanceof wp)return"copy";if(r instanceof bp)return"xor";if(r instanceof Cp)return"multiply";if(r instanceof Tp)return"screen";if(r instanceof Ep)return"overlay";if(r instanceof Mp)return"darken";if(r instanceof xp)return"lighten";if(r instanceof Lp)return"color-dodge";if(r instanceof Ip)return"color-burn";if(r instanceof Np)return"hard-light";if(r instanceof Sp)return"soft-light";if(r instanceof Pp)return"difference";if(r instanceof Ap)return"exclusion";if(r instanceof Wp)return"hue";if(r instanceof Up)return"saturation";if(r instanceof Hp)return"color";if(r instanceof $p)return"luminosity";throw new Error("Failed pattern match at Graphics.Canvas (line 326, column 5 - line 326, column 45): "+[r.constructor.name])};return Ji(t)(n(e))}},Ki=function(t){return function(e){return fp(tu(t)(e.height))(Za(t)(e.width))}},Zi=function(t){return ki(t,c.create,f.value)},tc=function(t){return function(){var n=Cr(t)(),r=Tr(t)();return{width:n,height:r}}},ec=function(t){return function(e){return function(){nu(t)();var r=e();return ru(t)(),r}}};var qo=function(t){return function(e){return e(function(n){return t(n)})}},Nr=function(t){return function(e){return{x:e.x+t.translateX,y:e.y+t.translateY}}};var Ee=function(t){return t.translate},nc=function(t){return function(e){return{width:e.width*t.scaleX,height:e.height*t.scaleY}}},su=function(t){return t.scale},rc=function(t){var e=su(t);return function(n){return e({scaleX:n,scaleY:n})}},pe=function(t){return t.position},Me=function(t){return function(e){return function(n){return n(t)(e)}}},qp=function(t){var e=d(t);return function(n){return qo(function(r){var o=e(Me(r)),u=n(r);return function(a){return o(u(a))}})}};var du=function(t){return t.mapLayerWrapper},ve=function(t){return t.draw},Op=function(t){var e=Ee(t);return function(n){return function(r){return function(o){var u={translateX:r.translateX-n.offsetX,translateY:r.translateY-n.offsetY};return e(u)(o)}}}},hn=function(t){var e=D(t);return function(n){var r=Op(n);return function(o){return function(u){return function(a){if(o instanceof f)return e(a);if(o instanceof c)return r(o.value0)(u)(a);throw new Error("Failed pattern match at Sjablong.Layer (line 61, column 1 - line 61, column 115): "+[o.constructor.name,u.constructor.name,a.constructor.name])}}}}},xe=function(t){return t.dragStart},Le=function(t){return t.dragEnd},Ie=function(t){return t.drag},nn=function(t){return t.containsPoint},Oo=function(t){var e=qp(t);return{position:qo(function(n){return pe(n)}),translate:function(n){return e(function(r){return Ee(r)(n)})},containsPoint:function(n){return qo(function(r){return nn(r)(n)})},draw:function(n){return qo(function(r){return ve(r)(n)})},dragStart:function(n){return e(function(r){return xe(r)(n)})},drag:function(n){return e(function(r){return Ie(r)(n)})},dragEnd:e(function(n){return Le(n)})}};var oc=function(t){return function(){return{value:t}}};var Bt=function(t){return function(){return t.value}},ac=function(t){return function(e){return function(){var n=t(e.value);return e.value=n.state,n.value}}},zn=function(t){return function(e){return function(){e.value=t}}};var zp=vt(S),rn=oc,kp=ac,uc=function(t){return kp(function(e){var n=t(e);return{state:n,value:n}})},pu=function(t){return function(e){return zp(uc(t)(e))}};var Pr=t=>t.width,Ar=t=>t.height;var Wr=t=>e=>()=>t.letterSpacing=e;var lc=function(t){return function(e){return function(n){return function(r){return iu(t)(e)(n.x)(n.y)(r.width)(r.height)}}}};var ic=function(t){return{width:Pr(t),height:Ar(t)}};var jp=It(Dr()(mn({reflectSymbol:function(){return"scaleX"}})()(mn({reflectSymbol:function(){return"scaleY"}})()(Rr)(we))(we))),Gp=je(Ge);var cc=function(t){var e=D(t.Monad0().Applicative0());return{scale:function(n){return function(r){return e({image:r.image,position:r.position,composite:r.composite,dragOffset:r.dragOffset,scale:jp(n)(r.scale)})}}}},mu=function(t){var e=t.Monad0(),n=e.Applicative0(),r=D(n),o=M(e.Bind1()),u=Mt(t),a=hn(n);return{position:function(l){return r(l.position)},translate:function(l){return function(i){return r({image:i.image,scale:i.scale,composite:i.composite,dragOffset:i.dragOffset,position:Nr(l)(i.position)})}},containsPoint:function(l){return function(i){return o(u(Bt(i.image)))(function(s){if(s instanceof f)return r(!1);if(s instanceof c)return r(i.position.x<=l.x&&l.x<=i.position.x+Pr(s.value0)*i.scale.scaleX&&i.position.y<=l.y&&l.y<=i.position.y+Ar(s.value0)*i.scale.scaleY);throw new Error("Failed pattern match at Sjablong.Layer.Image (line 74, column 5 - line 80, column 90): "+[s.constructor.name])})}},dragStart:function(l){return function(i){return r({image:i.image,position:i.position,scale:i.scale,composite:i.composite,dragOffset:new c(l)})}},drag:function(l){return function(i){return a(mu(t))(i.dragOffset)(l)(i)}},dragEnd:function(l){return r({image:l.image,position:l.position,scale:l.scale,composite:l.composite,dragOffset:f.value})},draw:function(l){return function(i){return function(){var v=Bt(i.image)();if(v instanceof f)return void 0;if(v instanceof c)return Zt(l)(function(){return Xi(l)(i.composite)(),lc(l)(v.value0)(i.position)(nc(i.scale)(ic(v.value0)))()})();throw new Error("Failed pattern match at Sjablong.Layer.Image (line 88, column 5 - line 94, column 54): "+[v.constructor.name])}}}}};var fc=function(t){var e=Mt(t);return function(n){return function(r){return function(o){return function(u){return e(function(){var l=rn(f.value)();return fu(n)(function(){var i=X(pu)(l);return function(s){return i(V(s))}}())(),{image:l,position:r,scale:o,composite:u,dragOffset:f.value}})}}}}},sc=function(t){var e=Mt(t);return function(n){return function(r){return function(o){return e(function(){var a=rn(f.value)();return{image:a,position:n,scale:r,composite:o,dragOffset:f.value}})}}}},dc=function(t){var e=t.Monad0(),n=Gp(e.Bind1()),r=Mt(t),o=D(e.Applicative0());return function(u){return function(a){return n(r(fu(u)(function(){var l=X(pu)(a.image);return function(i){return l(V(i))}}())))(function(){return o(a)})}}};var Rn=function(t){return t.throwError};var kn=function(t){return t};var Ru={map:function(t){return function(e){return t(e)}}};var vc={apply:function(t){return function(e){return t(e)}},Functor0:function(){return Ru}},Xp={bind:function(t){return function(e){return e(t)}},Apply0:function(){return vc}},Kp={pure:kn,Apply0:function(){return vc}},mc={Applicative0:function(){return Kp},Bind1:function(){return Xp}};var St=function(){function t(e){this.value0=e}return t.create=function(e){return new t(e)},t}(),Pt=function(){function t(e){this.value0=e}return t.create=function(e){return new t(e)},t}(),Se=function(t){return t.tailRecM};var Zp=function(t){var e=function(n){var r=!1,o;function u(a){if(a instanceof St){n=t(a.value0);return}if(a instanceof Pt)return r=!0,a.value0;throw new Error("Failed pattern match at Control.Monad.Rec.Class (line 103, column 3 - line 103, column 25): "+[a.constructor.name])}for(;!r;)o=u(n);return o};return function(n){return e(t(n))}};var _c={tailRecM:function(t){var e=function(r){return r},n=Zp(function(r){return e(t(r))});return function(r){return kn(n(r))}},Monad0:function(){return mc}};var p=function(t){return t};var Dn=function(t){return t.defer};var yc=function(t){return function(e){return t&&e}},Fc=function(t){return function(e){return t||e}},wc=function(t){return!t};var zo=function(t){return t.not};var $r=function(t){return t.ff};var jn=function(t){return t.disj},on={ff:!1,tt:!0,implies:function(t){return function(e){return jn(on)(zo(on)(t))(e)}},conj:yc,disj:Fc,not:wc};var W=function(){function t(e,n){this.value0=e,this.value1=n}return t.create=function(e){return function(n){return new t(e,n)}},t}();var Ae=function(t){return t.value1};var We=function(t){return t.value0};var ae=function(t){return t.lift};var dv=d(ut);var Jo=function(t){return t},yn=function(t){return t};var Vn={lift:function(t){var e=Pi(t)(c.create);return function(n){return Jo(e(n))}}};var pv=function(t){var e=d(t);return{map:function(n){return function(r){return e(dv(n))(r)}}}},vv=function(t){return{Applicative0:function(){return qr(t)},Bind1:function(){return Fn(t)}}},Fn=function(t){var e=M(t.Bind1()),n=D(t.Applicative0());return{bind:function(r){return function(o){return e(r)(function(u){if(u instanceof f)return n(f.value);if(u instanceof c){var a=o(u.value0);return a}throw new Error("Failed pattern match at Control.Monad.Maybe.Trans (line 55, column 11 - line 57, column 42): "+[u.constructor.name])})}},Apply0:function(){return Mc(t)}}},Mc=function(t){var e=pv(t.Bind1().Apply0().Functor0());return{apply:_n(vv(t)),Functor0:function(){return e}}},qr=function(t){return{pure:function(){var e=D(t.Applicative0());return function(n){return Jo(e(c.create(n)))}}(),Apply0:function(){return Mc(t)}}};var Qn=function(t){var e=D(t.Applicative0());return function(n){return Jo(e(n))}};var mv=function(t,e){if(t<1)return[];var n=new Array(t);return n.fill(e)},_v=function(t,e){for(var n=[],r=0,o=0;o<t;o++)n[r++]=e;return n},gv=typeof Array.prototype.fill=="function"?mv:_v,xc=function(){function t(o,u){this.head=o,this.tail=u}var e={};function n(o){return function(u){return new t(o,u)}}function r(o){for(var u=[],a=0,l=o;l!==e;)u[a++]=l.head,l=l.tail;return u}return function(o,u){return r(o(n)(e)(u))}}(),Dt=function(t){return t.length};var Lc=function(t,e,n,r){return r<0||r>=n.length?e:t(n[r])};var Ic=function(t,e,n,r){for(var o=0,u=r.length;o<u;o++)if(n(r[o]))return t(o);return e};var Nc=function(t,e,n,r,o){if(n<0||n>=o.length)return e;var u=o.slice();return u[n]=r,t(u)},Yn=function(t){return t.slice().reverse()},wn=function(t){if(t.length<=1e4)return Array.prototype.concat.apply([],t);for(var e=[],n=0,r=t.length;n<r;n++)for(var o=t[n],u=0,a=o.length;u<a;u++)e.push(o[u]);return e};var Sc=function(t,e,n){for(var r=n.length,o=e,u=new Array(r),a=0;a<r;a++)o=t(o)(n[a]),u[a]=o;return u};var Pc=function(t,e,n){return n.slice(t,e)},Ac=function(t,e,n){for(var r=e.length<n.length?e.length:n.length,o=new Array(r),u=0;u<r;u++)o[u]=t(e[u])(n[u]);return o},Wc=function(t,e){for(var n=e.length,r=0;r<n;r++)if(t(e[r]))return!0;return!1},Uc=function(t,e){for(var n=e.length,r=0;r<n;r++)if(!t(e[r]))return!1;return!0};function Rv(t){return t}var Hc=Rv;function Dv(t){return t.slice()}var $c=Dv;var qc=function(t,e){return e.push(t)};var Go=function(e){return function(n){return function(){return e(n)}}},bu=function(e){return function(n){return function(r){return function(){return e(n,r)}}}};var Oc=Go(Hc);var Ev=Go($c),Bc=function(t){return function(e){return function(){var r=Ev(e)();return t(r)(),Oc(r)()}}};var Cu=bu(qc);var kc=function(t){return function(e){return function(n){for(var r=e,o=n.length,u=o-1;u>=0;u--)r=t(n[u])(r);return r}}},Jc=function(t){return function(e){return function(n){for(var r=e,o=n.length,u=0;u<o;u++)r=t(r)(n[u]);return r}}};var Yo=function(t){return t};var zv=function(t){var e=jn(t);return{append:function(n){return function(r){return e(n)(r)}}}};var xu=function(t){var e=zv(t);return{mempty:$r(t),Semigroup0:function(){return e}}};var Lu=function(){return p};var Yc=Lu();var bn=function(){return Yc};var Iu=function(){return function(){return function(){return function(){return function(t){return Yc}}}}};var Vv=q(k),Qv=z(qn);var Yv=Iu()()()(),yt=function(t){return t.foldr};var Jr=function(t){var e=re(t.Apply0()),n=D(t);return function(r){var o=yt(r);return function(u){return o(function(a){return e(u(a))})(n(void 0))}}},Zo=function(t){var e=Jr(t);return function(n){return X(e(n))}};var st=function(t){return t.foldl};var Kc=function(t){var e=st(t);return function(n){var r=function(o){return function(u){if(o instanceof f)return new c(u);if(o instanceof c)return new c(function(){var a=Qv(n(o.value0)(u))(N.value);return a?o.value0:u}());throw new Error("Failed pattern match at Data.Foldable (line 441, column 3 - line 441, column 27): "+[o.constructor.name,u.constructor.name])}};return e(r)(f.value)}},ta=function(t){var e=$(t);return function(n){return Kc(n)(e)}};var Su=function(t){var e=st(t);return function(n){return e($t(n))(Xt(n))}};var Zc=function(t){var e=yt(t);return function(n){var r=A(n.Semigroup0()),o=it(n);return function(u){return e(function(a){return function(l){return r(u(a))(l)}})(o)}}},Ft={foldr:kc,foldl:Jc,foldMap:function(t){return Zc(Ft)(t)}};var _e=function(t){return t.foldMap};var Tn=function(t){var e=_e(t);return function(n){return Yv(Yo)(e(xu(n)))}};var Pu=function(t){var e=Tn(t);return function(n){return e(n)(Vv)}};var jr=function(t){return function(e,n,r,o,u){return t(e)(n)(r)(o)(u)}};var En=function(t){return function(e){return function(n){return t(e,n)}}},Gr=function(t){return function(e){return function(n){return function(r){return t(e,n,r)}}}},ea=function(t){return function(e){return function(n){return function(r){return function(o){return t(e,n,r,o)}}}}},Au=function(t){return function(e){return function(n){return function(r){return function(o){return function(u){return t(e,n,r,o,u)}}}}}};var uf=function(){function t(o){return[o]}function e(o){return function(u){return[o,u]}}function n(o){return function(u){return function(a){return[o,u,a]}}}function r(o){return function(u){return o.concat(u)}}return function(o){return function(u){return function(a){return function(l){return function(i){function s(v,y){switch(y-v){case 0:return a([]);case 1:return u(t)(l(i[v]));case 2:return o(u(e)(l(i[v])))(l(i[v+1]));case 3:return o(o(u(n)(l(i[v])))(l(i[v+1])))(l(i[v+2]));default:var w=v+Math.floor((y-v)/4)*2;return o(u(r)(s(v,w)))(s(w,y))}}return s(0,i.length)}}}}}}();var N1=q(k),zt=function(t){return t.traverse};var S1=function(t){var e=zt(t);return function(n){return e(n)(N1)}},ge={traverse:function(t){var e=t.Apply0();return uf(ot(e))(d(e.Functor0()))(D(t))},sequence:function(t){return S1(ge)(t)},Functor0:function(){return Rt},Foldable1:function(){return Ft}};var pf=function(t){return function(e){var n=zt(e)(t);return function(r){return function(o){return n(o)(r)}}}};var vf=function(t){return function(e){return function(n){return function(r){return function(o){return function(u){for(var a=[],l=u;;){var i=o(l);if(t(i))return a;var s=e(i);a.push(n(s)),l=r(s)}}}}}}};var mf=function(t){return function(e){return function(n){return function(r){return function(o){return function(u){for(var a=[],l=u;;){var i=o(l);a.push(n(i));var s=r(i);if(t(s))return a;l=e(s)}}}}}}};var z1=de();var zu={unfoldr1:mf(Qe)(z1)(We)(Ae)};var j1=de(),Ue=function(t){return t.unfoldr};var Ju={unfoldr:vf(Qe)(j1)(We)(Ae),Unfoldable10:function(){return zu}};var G1=A(fe);var Df=Gr(Ac);var an=function(){return Df(W.create)}();var yf=function(){return Au(Nc)(c.create)(f.value)}();var xt=function(t){return function(e){return Bc(Cu(e))(t)()}},ju=Gr(Pc),Xr=function(t){return function(e){return t<=0?{before:[],after:e}:{before:ju(0)(t)(e),after:ju(t)(Dt(e))(e)}}};var Vu=function(t){return[t]};var nr=Gr(Sc);var he=function(){return ea(Lc)(c.create)(f.value)}();var Qu=function(t){return function(e){return function(n){var r=function(o){return yf(t)(e(o))(n)};return Kt(f.value)(r)(he(n)(t))}}};var Yu=function(t){return En(xc)(yt(t))};var Kr=function(){return ea(Ic)(c.create)(f.value)}();var Xu=function(t){var e=z(t);return function(n){return Kr(function(r){return e(r)(n)})}},Ku=function(t){var e=Xu(t);return function(n){return function(r){return Qe(e(n)(r))}}};var xn=function(t){return function(e){return G1([t])(e)}};var Ff=X(M(bo));var ia=En(Wc);var ca=En(Uc);var Q1=ae(Vn);var wf=function(t){var e=M(Fn(t)),n=Qn(t),r=Q1(t);return function(o){return function(u){return function(a){return e(n(he(a)(o)))(function(l){return e(r(u(l)))(function(i){return n(Qu(o)(V(i))(a))})})}}}};var Y1=zt(ge),X1=Pu(Ft)(on),K1=Jr(Et)(Ft),Z1=ae(Vn),tm=q(k);var Cf=function(t){var e=t.Applicative0(),n=t.Bind1().Apply0().Functor0(),r=ke(n),o=Y1(e),u=Oo(n),a=Ee(u),l=d(n),i=nn(u),s=ve(u),v=M(Fn(t)),y=Z1(t),w=Qn(t),C=pe(u),b=wf(t),tt=xe(u),_t=D(qr(t)),ze=Ie(u),Wt=Le(u);return{position:V(D(e)({x:0,y:0})),translate:function(at){return function(nt){return r(o(a(at))(nt.layers))(function(Ut){return{dragIndex:nt.dragIndex,layers:Ut}})}},containsPoint:function(at){return function(nt){return l(X1)(o(i(at))(nt.layers))}},draw:function(at){return function(nt){return K1(function(){var Ut=Zt(at),vn=s(at);return function($n){return Ut(vn($n))}}())(Yn(nt.layers))}},dragStart:function(at){return function(nt){return l(Nt(nt))(yn(v(y(o(i({x:at.offsetX,y:at.offsetY}))(nt.layers)))(function(Ut){return v(w(Kr(tm)(Ut)))(function(vn){return v(w(he(nt.layers)(vn)))(function($n){return v(y(C($n)))(function(Ro){return v(b(vn)(tt({offsetX:at.offsetX-Ro.x,offsetY:at.offsetY-Ro.y}))(nt.layers))(function(Cd){return _t({dragIndex:new c(vn),layers:Cd})})})})})})))}},drag:function(at){return function(nt){return l(Nt(nt))(yn(v(w(nt.dragIndex))(function(Ut){return v(w(he(nt.layers)(Ut)))(function(vn){return v(y(C(vn)))(function($n){return v(b(Ut)(ze({translateX:at.translateX-$n.x,translateY:at.translateY-$n.y}))(nt.layers))(function(Ro){return _t({dragIndex:nt.dragIndex,layers:Ro})})})})})))}},dragEnd:function(at){return l(Nt({layers:at.layers,dragIndex:f.value}))(yn(v(w(at.dragIndex))(function(nt){return v(b(nt)(Wt)(at.layers))(function(Ut){return _t({dragIndex:f.value,layers:Ut})})})))}}},Tf=function(t){return{layers:t,dragIndex:f.value}};var Zu=function(t){var e=D(t),n=hn(t);return{position:function(r){return e({x:r.rect.x,y:r.rect.y})},translate:function(r){return function(o){return e({fillStyle:o.fillStyle,dragOffset:o.dragOffset,rect:{width:o.rect.width,height:o.rect.height,x:o.rect.x+r.translateX,y:o.rect.y+r.translateY}})}},containsPoint:function(r){return function(o){return e(o.rect.x<=r.x&&r.x<=o.rect.x+o.rect.width&&o.rect.y<=r.y&&r.y<=o.rect.y+o.rect.height)}},draw:function(r){return function(o){return function(){return gn(r)(o.fillStyle)(),ec(r)(ou(r)(o.rect))()}}},dragStart:function(r){return function(o){return e({rect:o.rect,fillStyle:o.fillStyle,dragOffset:new c(r)})}},drag:function(r){return function(o){return n(Zu(t))(o.dragOffset)(r)(o)}},dragEnd:function(r){return e({rect:r.rect,fillStyle:r.fillStyle,dragOffset:f.value})}}},Ef=function(t){return function(e){return{rect:t,fillStyle:e,dragOffset:f.value}}};var rm=je(Ge),tl=function(t){var e=t.Monad0(),n=e.Bind1(),r=M(n),o=Mt(t),u=rm(n),a=D(e.Applicative0());return function(l){return function(i){return r(o(Bt(i)))(function(s){return r(l(s))(function(v){return u(o(zn(v)(i)))(function(){return a(v)})})})}}},Mf=function(t){var e=Je(t.Monad0().Bind1().Apply0().Functor0()),n=tl(t);return function(r){return function(o){return e(void 0)(n(r)(o))}}};var am=Vt(Ke),um=function(t){return t};var fa=function(t){var e=t.Monad0().Bind1(),n=Vt(e),r=Mt(t),o=Je(e.Apply0().Functor0()),u=tl(t);return function(a){var l=pe(a),i=Ee(a),s=nn(a),v=xe(a),y=Ie(a),w=Le(a),C=ve(a);return{position:function(b){return n(l)(r(Bt(b)))},translate:function(b){return function(tt){return o(tt)(u(i(b))(tt))}},containsPoint:function(b){return function(tt){return n(s(b))(r(Bt(tt)))}},dragStart:function(b){return function(tt){return o(tt)(u(v(b))(tt))}},drag:function(b){return function(tt){return o(tt)(u(y(b))(tt))}},dragEnd:function(b){return o(b)(u(w)(b))},draw:function(b){return function(tt){return am(C(b))(Bt(tt))}}}}};var xf=function(t){var e=Mf(t);return function(n){return function(r){return e(n)(r)}}};var sa=function(t){var e=d(t.Monad0().Bind1().Apply0().Functor0()),n=Mt(t);return function(r){return e(um)(n(rn(r)))}};var If=function(t){return t};var gm=If;var el=function(t){return t};var Wf=function(t){if(Dt(t)>0)return new c(gm(t));if(gt)return f.value;throw new Error("Failed pattern match at Data.Array.NonEmpty (line 161, column 1 - line 161, column 58): "+[t.constructor.name])};var lt=function(t){return t};var pa=isFinite;function Uf(t,e,n,r){var o=parseFloat(t);return e(o)?n(o):r}var va=function(t){return Uf(t,pa,c.create,f.value)};var rl=function(t){return t.join("")};var ln=function(t){return t.length};var Ln=function(t){return function(e){return e.substring(t)}};var cn=function(t){return function(e){if(t>=0&&t<e.length)return e.charAt(t);throw new Error("Data.String.Unsafe.charAt: Invalid index.")}};var ar=function(t){return t===""};function qf(t){return t.split(/\r\n|[\n\v\f\r\u0085\u2028\u2029]/)}function Of(t){return t.split(/[\u000a-\u000d\u0085\u2028\u2029\u0009\u0020\u00a0\u1680\u2000-\u200a\u202f\u205f\u3000]+/)}var $F=typeof Array.from=="function",Am=typeof Symbol<"u"&&Symbol!=null&&typeof Symbol.iterator<"u"&&typeof String.prototype[Symbol.iterator]=="function",qF=typeof String.prototype.fromCodePoint=="function",Wm=typeof String.prototype.codePointAt=="function",Bf=function(t){return Wm?function(e){return e.codePointAt(0)}:t},zf=function(t){return function(e){return function(n){return function(r){return function(o){return function(u){var a=u.length;if(o<0||o>=a)return n;if(Am)for(var l=u[Symbol.iterator](),i=o;;--i){var s=l.next();if(s.done)return n;if(i===0)return e(r(s.value))}return t(o)(u)}}}}}};function fn(t){return t.charCodeAt(0)}function kf(t){return String.fromCharCode(t)}var Gf=Ve(yr),Vf=be(yr);var $e=function(t){return t.toEnum};var sn=function(t){return t.fromEnum};var In=function(t){return function(e){return function(n){return t(e(n)+1|0)}}},Nn=function(t){return function(e){return function(n){return t(e(n)-1|0)}}};var al=function(t){return t>=fn(Gf)&&t<=fn(Vf)?new c(kf(t)):f.value},zm={succ:In(al)(fn),pred:Nn(al)(fn),Ord0:function(){return Lo}};var no=function(){return{cardinality:fn(Vf)-fn(Gf)|0,toEnum:al,fromEnum:fn,Bounded0:function(){return yr},Enum1:function(){return zm}}}();var jm=function(t,e,n){var r=0,o;return function(u){if(r===2)return o;if(r===1)throw new ReferenceError(t+" was needed before it finished initializing (module "+e+", line "+u+")",e,u);return r=1,o=n(),r=2,o}},ro=sn(no);var Gm=$(qt);var Yf=function(t){return function(e){return(((t-55296|0)*1024|0)+(e-56320|0)|0)+65536|0}};var Xf=function(t){return 56320<=t&&t<=57343},Kf=function(t){return 55296<=t&&t<=56319},ga=function(t){var e=ln(t);if(e===0)return f.value;if(e===1)return new c({head:ro(cn(0)(t)),tail:""});var n=ro(cn(1)(t)),r=ro(cn(0)(t)),o=Kf(r)&&Xf(n);return o?new c({head:Yf(r)(n),tail:Ln(2)(t)}):new c({head:r,tail:Ln(1)(t)})};var Vm=function(t){var e=ro(cn(0)(t)),n=Kf(e)&&ln(t)>1;if(n){var r=ro(cn(1)(t)),o=Xf(r);return o?Yf(e)(r):e}return e},Qf=Bf(Vm);var ul={eq:function(t){return function(e){return t===e}}},ll={compare:function(t){return function(e){return Gm(t)(e)}},Eq0:function(){return ul}};var Qm=function(t){return function(e){var n=t,r=!1,o;function u(a,l){var i=ga(l);if(i instanceof c){var s=a===0;if(s)return r=!0,new c(i.value0.head);n=a-1|0,e=i.value0.tail;return}return r=!0,f.value}for(;!r;)o=u(n,e);return o}},Zf=function(t){return function(e){return t<0?f.value:t===0&&e===""?f.value:t===0?new c(Qf(e)):zf(Qm)(c.create)(f.value)(Qf)(t)(e)}},Ym={bottom:0,top:1114111,Ord0:function(){return ll}},Sn=function(){return{cardinality:1114112,fromEnum:function(t){return t},toEnum:function(t){if(t>=0&&t<=1114111)return new c(t);if(gt)return f.value;throw new Error("Failed pattern match at Data.String.CodePoints (line 63, column 1 - line 68, column 26): "+[t.constructor.name])},Bounded0:function(){return Ym},Enum1:function(){return Xm(0)}}}(),Xm=jm("enumCodePoint","Data.String.CodePoints",function(){return{succ:In($e(Sn))(sn(Sn)),pred:Nn($e(Sn))(sn(Sn)),Ord0:function(){return ll}}});var sl=function(t){return Of(t)};var dl=function(t){return qf(t)};var lr=function(t){var e=null;return function(){return t===void 0||(e=t(),t=void 0),e}},oo=function(t){return t()};var v_=function(t,e,n){var r=0,o;return function(u){if(r===2)return o;if(r===1)throw new ReferenceError(t+" was needed before it finished initializing (module "+e+", line "+u+")",e,u);return r=1,o=n(),r=2,o}};var m_=bn();var qe=function(){function t(e,n,r){this.value0=e,this.value1=n,this.value2=r}return t.create=function(e){return function(n){return function(r){return new t(e,n,r)}}},t}(),Oe=function(){function t(e,n){this.value0=e,this.value1=n}return t.create=function(e){return function(n){return new t(e,n)}},t}();var ns=function(){function t(e){this.value0=e}return t.create=function(e){return new t(e)},t}(),rs=function(){function t(e){this.value0=e}return t.create=function(e){return new t(e)},t}(),vl=function(){function t(e,n){this.value0=e,this.value1=n}return t.create=function(e){return function(n){return new t(e,n)}},t}();var os={defer:function(t){var e=lr(t);return function(n,r,o,u,a){var l=oo(e);return l(n,r,o,u,a)}}};var Pn={map:function(t){return function(e){return function(n,r,o,u,a){return r(function(l){return e(n,r,o,u,function(i,s){return r(function(v){return a(i,t(s))})})})}}}};var dn={alt:function(t){return function(e){return function(n,r,o,u,a){return r(function(l){return t(new qe(n.value0,n.value1,!1),r,o,function(i,s){return r(function(v){return i.value2?u(i,s):e(n,r,o,u,a)})},a)})}}},Functor0:function(){return Pn}},__=function(t){return function(e,n,r,o,u){var a=t(e);return u(a.value1,a.value0)}};var g_=function(t){var e=t.Monad0(),n=d(e.Bind1().Apply0().Functor0()),r=D(e.Applicative0()),o=Se(t);return function(u){return function(a){var l=function(i){var s=!1,v;function y(w){var C=w(void 0);if(C instanceof ns){i=C.value0;return}if(C instanceof rs)return s=!0,n(St.create)(C.value0);if(C instanceof vl)return s=!0,r(new Pt(new W(C.value1,C.value0)));throw new Error("Failed pattern match at Parsing (line 160, column 13 - line 166, column 32): "+[C.constructor.name])}for(;!s;)v=y(i);return v};return o(l)(function(i){return a(u,ns.create,rs.create,function(s,v){return new vl(s,new ft(v))},function(s,v){return new vl(s,new ct(v))})})}}},as=__(function(t){return new W(t.value1,t)});var h_={index:0,line:1,column:1},R_=function(t){var e=d(t.Monad0().Bind1().Apply0().Functor0()),n=g_(t);return function(r){return function(o){var u=new qe(r,h_,!1);return e(We)(n(u)(o))}}},D_=R_(_c),us=function(t){var e=D_(t);return function(n){return m_(e(n))}};var Ra=function(t){return function(e){return t.value2&&!e.value2?new qe(e.value0,e.value1,!0):e}},pn={apply:function(t){return function(e){return function(n,r,o,u,a){return r(function(l){return t(n,r,o,u,function(i,s){return r(function(v){var y=Ra(n)(i);return e(y,r,o,u,function(w,C){return r(function(b){return a(Ra(y)(w),s(C))})})})})})}}},Functor0:function(){return Pn}};var ir={pure:function(t){return function(e,n,r,o,u){return u(e,t)}},Apply0:function(){return pn}};var An={bind:function(t){return function(e){return function(n,r,o,u,a){return r(function(l){return t(n,r,o,u,function(i,s){return r(function(v){var y=e(s);return y(Ra(n)(i),r,o,u,a)})})})}}},Apply0:function(){return pn}},y_=Vt(An);var ls={Applicative0:function(){return ir},Bind1:function(){return An}};var _l={throwError:function(t){return function(e,n,r,o,u){return o(e,t)}},Monad0:function(){return ls}},F_=Rn(_l),w_=function(t){return function(e){return F_(new Oe(t,e))}},cr=function(t){return y_(w_(t))(as)};var Da={tailRecM:function(t){return function(e){return function(n,r,o,u,a){var l=v_("loop","Parsing",function(){return function(s,v,y){var w=t(v);return w(s,r,o,u,function(C,b){var tt=Ra(s)(C);if(b instanceof St){var _t=y===0;return _t?r(function(ze){return l(288)(tt,b.value0,30)}):l(290)(tt,b.value0,y-1|0)}if(b instanceof Pt)return a(tt,b.value0);throw new Error("Failed pattern match at Parsing (line 284, column 19 - line 292, column 46): "+[b.constructor.name])})}}),i=l(279);return i(n,e,30)}}},Monad0:function(){return ls}};var Re=function(){function t(){}return t.value=new t,t}(),De=function(){function t(e,n){this.value0=e,this.value1=n}return t.create=function(e){return function(n){return new t(e,n)}},t}();var fr={foldr:function(t){return function(e){var n=function(){var o=function(u){return function(a){var l=u,i=!1,s;function v(y,w){if(w instanceof Re)return i=!0,y;if(w instanceof De){l=new De(w.value0,y),a=w.value1;return}throw new Error("Failed pattern match at Data.List.Types (line 107, column 7 - line 107, column 23): "+[y.constructor.name,w.constructor.name])}for(;!i;)s=v(l,a);return s}};return o(Re.value)}(),r=st(fr)(X(t))(e);return function(o){return r(n(o))}}},foldl:function(t){var e=function(n){return function(r){var o=n,u=!1,a;function l(i,s){if(s instanceof Re)return u=!0,i;if(s instanceof De){o=t(i)(s.value0),r=s.value1;return}throw new Error("Failed pattern match at Data.List.Types (line 111, column 12 - line 113, column 30): "+[s.constructor.name])}for(;!u;)a=l(o,r);return a}};return e},foldMap:function(t){var e=A(t.Semigroup0()),n=it(t);return function(r){return st(fr)(function(o){var u=e(o);return function(a){return u(r(a))}})(n)}}};var vs=dt(dn),Z_=Dn(os);var tg=re(pn);var eg=ei(pn);var ms=function(t){return function(e){return vs(t)(Z_(function(n){return cr("Expected "+e(void 0))}))}},gl=function(t){return function(e){return vs(t)(cr("Expected "+e))}};var sr=function(t){return function(e,n,r,o,u){return t(e,n,r,function(a,l){return o(new qe(a.value0,a.value1,e.value2),l)},u)}};var lo=function(t){return function(e){return function(n){return eg(tg(t)(n))(e)}}};var Rl=M(An),ng=Se(Da),rg=dt(dn),ya=D(ir),og=Yu(fr);var ag=function(t){return Rl(X(ng)(Re.value)(function(e){return rg(Rl(t)(function(n){return ya(new St(new De(n,e)))}))(ya(new Pt(e)))}))(function(e){return ya(Yn(og(e)))})},Dl=function(t){return Rl(ag(t))(function(e){var n=Wf(e);if(n instanceof f)return cr("Expected at least 1");if(n instanceof c)return ya(n.value0);throw new Error("Failed pattern match at Parsing.Combinators.Array (line 55, column 3 - line 57, column 25): "+[n.constructor.name])})};var yl=sn(Sn),lg=wr(Po),ig=de(),cg=$e(no);var fg=T(Io);var Fl=function(t){return function(e){return function(n){var r=yl(e);if(r===10)return{index:t.index+1|0,line:t.line+1|0,column:1};if(r===13){var o=Zf(0)(n);return o instanceof c&&yl(o.value0)===10?{index:t.index+1|0,line:t.line,column:t.column}:{index:t.index+1|0,line:t.line+1|0,column:1}}return r===9?{index:t.index+1|0,line:t.line,column:(t.column+8|0)-lg(t.column-1|0)(8)|0}:{index:t.index+1|0,line:t.line,column:t.column+1|0}}}},sg=function(t){return function(e){return function(n){var r=t,o=e,u=!1,a;function l(i,s,v){var y=ga(s);if(y instanceof f)return u=!0,i;if(y instanceof c){var w=function(){if(ar(y.value0.tail))return Fl(i)(y.value0.head)(v);if(gt)return Fl(i)(y.value0.head)(y.value0.tail);throw new Error("Failed pattern match at Parsing.String (line 165, column 7 - line 167, column 52): ")}();r=w,o=y.value0.tail,n=v;return}throw new Error("Failed pattern match at Parsing.String (line 161, column 36 - line 168, column 38): "+[y.constructor.name])}for(;!u;)a=l(r,o,n);return a}}};var wl=function(t){return jr(function(e){return function(n){return function(r){return function(o){return function(u){var a=ga(e.value0);if(a instanceof f)return o(e,new Oe("Unexpected EOF",e.value1));if(a instanceof c){var l=yl(a.value0.head),i=l<0||l>65535;if(i)return o(e,new Oe("Expected Char",e.value1));var s=ig(cg(l)),v=t(s);return v?u(new qe(a.value0.tail,Fl(e.value1)(a.value0.head)(a.value0.tail),!0),s):o(e,new Oe("Predicate unsatisfied",e.value1))}throw new Error("Failed pattern match at Parsing.String (line 114, column 7 - line 129, column 75): "+[a.constructor.name])}}}}})};var bl=jr(function(t){return function(e){return function(n){return function(r){return function(o){var u=ar(t.value0);return u?o(new qe(t.value0,t.value1,!0),void 0):r(t,new Oe("Expected EOF",t.value1))}}}}}),gs=function(t){return jr(function(e){return function(n){return function(r){return function(o){return function(u){var a=t(e.value0);if(a instanceof ft)return o(e,new Oe(a.value0,e.value1));if(a instanceof ct)return u(new qe(a.value0.remainder,sg(e.value1)(a.value0.consumed)(a.value0.remainder),!ar(a.value0.consumed)),a.value0.value);throw new Error("Failed pattern match at Parsing.String (line 286, column 7 - line 290, column 121): "+[a.constructor.name])}}}}})};var Cl=gs(function(t){return new ct({value:t,consumed:t,remainder:""})});var Jt=function(t){return gl(wl(function(e){return e===t}))(fg(t))};var hg=T(Ya(Io));var Rg=Ku(To);var Ds=function(t){return ms(wl(X(Rg)(t)))(function(e){return"none of "+hg(t)})};function Fa(t,e){var n={};for(var r in e)({}).hasOwnProperty.call(e,r)&&(n[r]=e[r]);for(var o in t)({}).hasOwnProperty.call(t,o)&&(n[o]=t[o]);return n}var wa=function(){return function(){return function(t){return function(e){return Fa(t,e)}}}};var ba=t=>e=>()=>t.measureText(e);var Fs=function(t){return function(e){return function(){var r=ba(t)(e)();return r.width}}};var ws=function(t){return function(e){return function(){var r=ba(t)(e)();return r.actualBoundingBoxAscent+r.actualBoundingBoxDescent}}};var bg=T(Qa),Ca=A(fe),io=ke(Rt),Ls=st(Ft),Ml=d(S),Cg=ta(xo)(Ft),Wn=zt(ge)(Et),Ta=Su(Ft)(we),ye=d(Rt),Tg=D(Et);var te=d(Pn),Fe=dt(dn),xa=re(pn),Eg=wa()(),Mg=pf(Et)(ge),xg=q(k),Tl=Zo(Et)(Ft),Is=Je(Pn);var La=function(){function t(){}return t.value=new t,t}(),Ns=function(){function t(){}return t.value=new t,t}(),Ia=function(){function t(){}return t.value=new t,t}(),Ss=function(){function t(){}return t.value=new t,t}();var Ps=function(t){return t.text},Lg=function(t){return function(e){return function(n){return{line:xt(e.line)(n),width:e.width+t+n.width}}}},xl=function(t){return function(e){return function(n){var r=function(){if(n.weight instanceof La)return e.weight.normal;if(n.weight instanceof Ns)return e.weight.bold;throw new Error("Failed pattern match at Sjablong.Layer.Text.Markup (line 300, column 14 - line 302, column 37): "+[n.weight.constructor.name])}(),o=function(){if(n.style instanceof Ia)return e.style.normal;if(n.style instanceof Ss)return e.style.italic;throw new Error("Failed pattern match at Sjablong.Layer.Text.Markup (line 297, column 13 - line 299, column 39): "+[n.style.constructor.name])}();return Wo(t)(o+(" "+(r+(" "+(bg(e.size)+("px "+e.name))))))}}};var Ig=function(t){return ar(Ps(t.fragment))},Ng=function(t){return ca(Ig)(t.word)},Sg=function(t){return ca(Ng)(t.line)};var As=function(t){return function(e){var n=function(o){return function(u){var a=Xr(1)(t(u.text));if(a.before.length===1&&a.before[0]===""&&a.after.length===0)return{splits:o.splits,split:o.split};if(a.before.length===1&&a.after.length===0)return{splits:o.splits,split:xt(o.split)({style:u.style,weight:u.weight,text:a.before[0]})};if(a.before.length===1&&a.before[0]===""){var l=Xr(Dt(a.after)-1|0)(a.after);return l.after.length===1&&l.after[0]===""?{splits:Ca(xt(o.splits)(o.split))(io(l.before)(function(i){return[{style:u.style,weight:u.weight,text:i}]})),split:[]}:l.after.length===1?{splits:Ca(xt(o.splits)(o.split))(io(l.before)(function(i){return[{style:u.style,weight:u.weight,text:i}]})),split:[{style:u.style,weight:u.weight,text:l.after[0]}]}:{splits:o.splits,split:o.split}}if(a.before.length===1){var l=Xr(Dt(a.after)-1|0)(a.after);return l.after.length===1&&l.after[0]===""?{splits:Ca(xt(o.splits)(xt(o.split)({style:u.style,weight:u.weight,text:a.before[0]})))(io(l.before)(function(s){return[{style:u.style,weight:u.weight,text:s}]})),split:[]}:l.after.length===1?{splits:Ca(xt(o.splits)(xt(o.split)({style:u.style,weight:u.weight,text:a.before[0]})))(io(l.before)(function(s){return[{style:u.style,weight:u.weight,text:s}]})),split:[{style:u.style,weight:u.weight,text:l.after[0]}]}:{splits:o.splits,split:o.split}}return{splits:o.splits,split:o.split}}},r=Ls(n)({splits:[],split:[]})(e);return xt(r.splits)(r.split)}},Ws=As(sl),Ll=function(t){return{text:t,style:Ia.value,weight:La.value}};var Pg=function(t){return function(e){return{fragment:t,width:e}}},Us=function(t){return function(e){return function(n){return Zt(t)(function(){return xl(t)(e)(n)(),Fs(t)(n.text)()})}}},Il=function(t){return function(e){return Us(t)(e)({style:Ia.value,weight:La.value,text:" "})}},Ag=function(t){return function(e){return function(n){return Zt(t)(function(){return xl(t)(e)(n)(),ws(t)(n.text)()})}}},Wg=function(t){return function(e){return function(n){return Ml(function(){var r=Nt(0);return function(o){return r(Cg(o))}}())(Wn(Ag(t)(e))(n))}}},Ug=function(t){return function(e){return function(n){return Ml(Pg(n))(Us(t)(e)(n))}}},Hs=function(t){return function(e){return function(n){return function(){var o=Wn(Ug(t)(e))(n)(),u=Ta(ye(function(a){return a.width})(o));return{word:o,width:u}}}}},Cs=function(t){return function(e){return function(n){var r=Ws(n);return function(){var u=Wn(Hs(t)(e))(r)(),a=Il(t)(e)(),l=a*lt(Dt(u)-1|0)+Ta(ye(function(i){return i.width})(u));return{line:u,width:l}}}}},Hg=function(t){return function(e){return function(n){return function(r){var o=Ws(r);return function(){var a=Wn(Hs(t)(e))(o)(),l=Il(t)(e)(),i=function(v){return function(y){if(v.value1.line.length===0)return new W(v.value0,{line:[y],width:y.width});var w=v.value1.width+l+y.width>n;return w?new W(xt(v.value0)(v.value1),{line:[y],width:y.width}):new W(v.value0,Lg(l)(v.value1)(y))}},s=Ls(i)(new W([],{line:[],width:0}))(a);return s.value1.line.length===0?s.value0:xt(s.value0)(s.value1)}}}}};var co=function(){var t=te(el);return function(e){return t(Dl(e))}}(),fo=te(function(t){return Ll(rl(t))})(co(Ds(["_","*"]))),El=As(dl),Ts=function(t){return function(e){return function(n){return function(r){return Ml(wn)(Wn(Hg(t)(e)(n))(El(r)))}}}},Ea=function(t){return{text:t.text,weight:t.weight,style:Ss.value}},Es=Fe(sr(lo(Jt("_"))(Jt("_"))(te(Ea)(fo))))(Fe(fo)(xa(Jt("_"))(te(function(t){return Ea(Ll(t))})(Cl)))),$g=function(t){return t.fragment},qg=function(t){return ye($g)(t.word)},Og=function(t){return ye(qg)(t.line)},Ms=function(t){return function(e){return function(n){return function(r){return function(){var u=Wg(t)(e)(wn(Ff(Og)(r)))();return io(r)(function(a){return Eg(a)({height:function(){var l=Sg(a);return l?n*e.size:u}()})})}}}}},Nl=function(t){var e=t.Monad0().Applicative0(),n=D(e),r=Mt(t),o=hn(e);return{position:function(u){return n(u.position)},translate:function(u){return function(a){return n({text:a.text,maxWidth:a.maxWidth,fillStyle:a.fillStyle,font:a.font,align:a.align,baseline:a.baseline,lineHeight:a.lineHeight,emptyLineHeight:a.emptyLineHeight,letterSpacing:a.letterSpacing,dragOffset:a.dragOffset,context:a.context,position:Nr(u)(a.position)})}},containsPoint:function(u){return function(a){return r(Zt(a.context)(function(){gn(a.context)(a.fillStyle)(),Ho(a.context)(a.baseline)(),$o(a.context)(a.align)(),Wr(a.context)(a.letterSpacing)();var i=function(){if(a.maxWidth instanceof c)return Ts(a.context)(a.font)(a.maxWidth.value0)(a.text)();if(a.maxWidth instanceof f)return Wn(Cs(a.context)(a.font))(El(a.text))();throw new Error("Failed pattern match at Sjablong.Layer.Text.Markup (line 204, column 15 - line 206, column 89): "+[a.maxWidth.constructor.name])}(),s=Ms(a.context)(a.font)(a.emptyLineHeight)(i)(),v=Ta(ye(function(C){return C.height})(s))+(a.lineHeight-1)*a.font.size*lt(Dt(s)-1|0),y=xn(0)(nr(function(C){return function(b){return C+b.height+(a.lineHeight-1)*a.font.size}})(0)(s)),w=Mg(an(s)(y))(function(C){var b=function(){return a.baseline instanceof Ze?a.position.y+C.value1:a.baseline instanceof Er?a.position.y+C.value1-v:a.position.y+C.value1}();return Tg(function(){if(a.align instanceof xr||a.align instanceof Bn)return a.position.x<=u.x&&u.x<=a.position.x+C.value0.width&&b<=u.y&&u.y<=b+C.value0.height;if(a.align instanceof Lr||a.align instanceof Mr)return a.position.x-C.value0.width<=u.x&&u.x<=a.position.x&&b<=u.y&&u.y<=b+C.value0.height;if(a.align instanceof tn)return a.position.x-C.value0.width/2<=u.x&&u.x<=a.position.x+C.value0.width/2&&b<=u.y&&u.y<=b+C.value0.height;throw new Error("Failed pattern match at Sjablong.Layer.Text.Markup (line 222, column 14 - line 242, column 33): "+[a.align.constructor.name])}())})();return ia(xg)(w)}))}},dragStart:function(u){return function(a){return n({text:a.text,position:a.position,maxWidth:a.maxWidth,fillStyle:a.fillStyle,font:a.font,align:a.align,baseline:a.baseline,lineHeight:a.lineHeight,emptyLineHeight:a.emptyLineHeight,letterSpacing:a.letterSpacing,context:a.context,dragOffset:new c(u)})}},drag:function(u){return function(a){return o(Nl(t))(a.dragOffset)(u)(a)}},dragEnd:function(u){return n({text:u.text,position:u.position,maxWidth:u.maxWidth,fillStyle:u.fillStyle,font:u.font,align:u.align,baseline:u.baseline,lineHeight:u.lineHeight,emptyLineHeight:u.emptyLineHeight,letterSpacing:u.letterSpacing,context:u.context,dragOffset:f.value})},draw:function(u){return function(a){return Zt(u)(function(){gn(u)(a.fillStyle)(),Ho(u)(a.baseline)(),$o(u)(Bn.value)(),Wr(u)(a.letterSpacing)();var i=function(){if(a.maxWidth instanceof c)return Ts(u)(a.font)(a.maxWidth.value0)(a.text)();if(a.maxWidth instanceof f)return Wn(Cs(u)(a.font))(El(a.text))();throw new Error("Failed pattern match at Sjablong.Layer.Text.Markup (line 257, column 15 - line 259, column 83): "+[a.maxWidth.constructor.name])}(),s=Ms(u)(a.font)(a.emptyLineHeight)(i)(),v=Ta(ye(function(w){return w.height})(s))+(a.lineHeight-1)*a.font.size*lt(Dt(s)-1|0),y=xn(0)(nr(function(w){return function(C){return w+C.height+(a.lineHeight-1)*a.font.size}})(0)(s));return Tl(an(s)(y))(function(w){var C=function(){return a.baseline instanceof Ze?a.position.y+w.value1:a.baseline instanceof Er?a.position.y+w.value1-v+w.value0.height:a.position.y+w.value1}(),b=function(){if(a.align instanceof xr||a.align instanceof Bn)return a.position.x;if(a.align instanceof Lr||a.align instanceof Mr)return a.position.x-w.value0.width;if(a.align instanceof tn)return a.position.x-w.value0.width/2;throw new Error("Failed pattern match at Sjablong.Layer.Text.Markup (line 278, column 16 - line 283, column 57): "+[a.align.constructor.name])}();return function(){var _t=Il(u)(a.font)(),ze=xn(0)(nr(function(Wt){return function(at){return Wt+_t+at.width}})(0)(w.value0.line));return Tl(an(w.value0.line)(ze))(function(Wt){var at=xn(0)(nr(function(nt){return function(Ut){return nt+Ut.width}})(0)(Wt.value0.word));return Tl(an(Wt.value0.word)(at))(function(nt){return function(){return xl(u)(a.font)(nt.value0.fragment)(),Uo(u)(Ps(nt.value0.fragment))(b+Wt.value1+nt.value1)(C)()}})})()}})()})}}}},Ma=function(t){return{text:t.text,style:t.style,weight:Ns.value}},Bg=Fe(sr(lo(Jt("*"))(Jt("*"))(te(ye(Ma))(co(Es)))))(xa(Jt("*"))(Fe(Is([])(bl))(te(ye(Ma))(co(Es))))),xs=Fe(sr(lo(Jt("*"))(Jt("*"))(te(Ma)(fo))))(Fe(fo)(xa(Jt("*"))(te(function(t){return Ma(Ll(t))})(Cl)))),zg=Fe(sr(lo(Jt("_"))(Jt("_"))(te(ye(Ea))(co(xs)))))(xa(Jt("_"))(Fe(Is([])(bl))(te(ye(Ea))(co(xs))))),kg=te(function(t){return wn(el(t))})(Dl(Fe(zg)(Fe(Bg)(te(Vu)(fo)))));var Sl=function(t){return function(e){var n=us(t)(kg);if(n instanceof ct)return{position:e.position,maxWidth:e.maxWidth,fillStyle:e.fillStyle,font:e.font,align:e.align,baseline:e.baseline,lineHeight:e.lineHeight,emptyLineHeight:e.emptyLineHeight,letterSpacing:e.letterSpacing,dragOffset:e.dragOffset,context:e.context,text:n.value0};if(n instanceof ft)return{position:e.position,maxWidth:e.maxWidth,fillStyle:e.fillStyle,font:e.font,align:e.align,baseline:e.baseline,lineHeight:e.lineHeight,emptyLineHeight:e.emptyLineHeight,letterSpacing:e.letterSpacing,dragOffset:e.dragOffset,context:e.context,text:[{text:t,style:Ia.value,weight:La.value}]};throw new Error("Failed pattern match at Sjablong.Layer.Text.Markup (line 179, column 37 - line 181, column 106): "+[n.constructor.name])}};var qs=function(t){return t},Os=function(t){return t};var Jg={mapLayerWrapper:function(t){return function(e){var n=d(e.Bind1().Apply0().Functor0());return function(r){return function(o){return n(qs)(r(o))}}}}},jg=du(Jg);var Gg={mapLayerWrapper:function(t){return function(e){var n=d(e.Bind1().Apply0().Functor0());return function(r){return function(o){return n(Os)(r(o))}}}}},Vg=du(Gg);var Bs=function(t){return function(e){var n=pe(e),r=jg(e)(t),o=nn(e),u=xe(e),a=Ie(e),l=ve(e);return{position:function(i){return n(i)},translate:function(){var i=Ee(e);return function(s){return r(i(s))}}(),containsPoint:function(i){return function(s){return o(i)(s)}},dragStart:function(i){return r(u({offsetX:0,offsetY:i.offsetY}))},drag:function(i){return r(a({translateX:0,translateY:i.translateY}))},dragEnd:r(Le(e)),draw:function(i){return function(s){return l(i)(s)}}}}},zs=function(t){var e=D(t.Applicative0());return function(n){var r=pe(n),o=nn(n),u=ve(n);return{position:function(a){return r(a)},translate:function(){var a=Vg(n)(t),l=Ee(n);return function(i){return a(l(i))}}(),containsPoint:function(a){return function(l){return o(a)(l)}},dragStart:V(e),drag:V(e),dragEnd:e,draw:function(a){return function(l){return u(a)(l)}}}}};var Pl=qs,Na=Os;var Un=function(t){return function(e){return function(){return e[t]}}},Yg=Un("URL"),Xg=Un("documentURI"),Kg=Un("origin"),Zg=Un("compatMode"),th=Un("characterSet"),eh=Un("contentType");var nh=Un("documentElement");function Al(t){return function(e){return function(){return e.createElement(t)}}}function ks(t,e,n){return t==null?e:n(t)}var Z=function(t){return ks(t,f.value,c.create)};function Js(t,e,n,r){if(typeof window<"u"){var o=window[n];if(o!=null&&r instanceof o)return e(r)}for(var u=r;u!=null;){var a=Object.getPrototypeOf(u),l=a.constructor.name;if(l===n)return e(r);if(l==="Object")return t;u=a}return t}var g=function(t){return function(e){return Js(f.value,c.create,t,e)}};var Sa=function(t){return function(e){return e[t]}},ch=Sa("namespaceURI"),fh=Sa("prefix"),sh=Sa("localName"),dh=Sa("tagName");function Pa(t){return function(e){return function(n){return function(){n.setAttribute(t,e)}}}}function Wl(t){return function(){var e=t.getBoundingClientRect();return{top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.width,height:e.height,x:e.x,y:e.y}}}var Aa=function(t){return function(e){return function(){return e[t]}}},vh=Aa("children"),mh=Aa("firstElementChild"),_h=Aa("lastElementChild"),gh=Aa("childElementCount");var le=p;var ie=function(t){return function(e){return function(){return e[t]}}};var Fh=ie("baseURI"),wh=ie("ownerDocument"),bh=ie("parentNode"),Ch=ie("parentElement");var Th=ie("childNodes"),Eh=ie("firstChild"),Mh=ie("lastChild"),xh=ie("previousSibling"),Lh=ie("nextSibling"),Ih=ie("nodeValue");var Nh=ie("textContent");function Gs(t){return function(e){return function(){return e.getElementById(t)}}}var $h=d(S),dr=function(t){var e=$h(Z),n=Gs(t);return function(r){return e(n(r))}};function jt(t){return function(){return function(e){return t(e)()}}}function Gt(t){return function(e){return function(n){return function(r){return function(){return r.addEventListener(t,e,n)}}}}}var Vs=p;function Qs(t){return function(e){return e.item(t)}}var Vh=d(ut),Qh=function(t){var e=Qs(t);return function(n){return Z(e(n))}},Ys=function(t){var e=Ue(t);return function(n){return e(function(r){return Vh(X(W.create)(r+1|0))(Qh(r)(n))})(0)}};function Ul(t){return function(){return URL.createObjectURL(t)}}var Hl=function(){return window};var pr=p;var Xs=p,Ks=p;function Zs(t,e,n){var r=Object.prototype.toString.call(n);return r.indexOf("[object HTML")===0&&r.indexOf("Element]")===r.length-8?e(n):t}function $l(t){return function(){return t.click()}}function ql(t){return function(){return t.offsetWidth}}function Ol(t){return function(){return t.offsetHeight}}var td=p;var Bl=function(t){return Zs(f.value,c.create,t)};function rd(t){return function(){return t.files}}function Wa(t){return function(){return t.value}}var A0=d(S);var zl=g("HTMLInputElement");var kl=function(){var t=A0(Z);return function(e){return t(rd(e))}}();function Ua(t){return function(){return t.value}}var ad=g("HTMLTextAreaElement");function Jl(t){return function(){return t.document}}function so(t){return t.clientX}function po(t){return t.clientY}function vo(t){return t.touches}var Ha=g("TouchEvent");function ud(t,e){return e.item(t)}var $a=function(t){return function(e){return Z(ud(t,e))}};function mo(t){return t.clientX}function _o(t){return t.clientY}var qa=g("MouseEvent");var Be=D(Et),dR=je(Ge),ho=fa(Ot)(Oo(S)),pR=ve(ho),mr=pe(ho),ld=xe(ho),Ba=Ie(ho),id=Le(ho),Gl=Fn(Tt),vr=M(Gl),jl=Vt(Gl),Oa=Qn(Tt),Hn=ae(Vn)(Tt),cd=dR(Gl),fd=Vt(Ke),sd=D(qr(Tt)),vR=sa(Ot),mR=wa()(),go=xf(Ot),_R=Ys(Ju),_r=function(t){return function(e){return function(n){return function(){var o=Wl(td(e))(),u=ql(e)(),a=Ol(e)(),l=Cr(t)(),i=Tr(t)();return{x:(n.x-o.left)*l/u,y:(n.y-o.top)*i/a}}}}},ee=function(t){return function(){var n=br(t.canvas)(),r=tc(t.canvas)();return au(n)({x:0,y:0,width:r.width,height:r.height})(),Zt(n)(pR(n)(t.layer))()}},gR=function(t){return jt(function(e){var n=Ha(e);if(n instanceof f)return Be(void 0);if(n instanceof c){var r=$a(0)(vo(n.value0));if(r instanceof f)return ee(t);if(r instanceof c)return function(){var u=mr(t.layer)(),a=_r(t.canvas)(t.canvasHtmlElement)({x:lt(so(r.value0)),y:lt(po(r.value0))})(),l={offsetX:a.x-u.x,offsetY:a.y-u.y};return ld(l)(t.layer)(),ee(t)()};throw new Error("Failed pattern match at Sjablong.Main (line 199, column 22 - line 209, column 22): "+[r.constructor.name])}throw new Error("Failed pattern match at Sjablong.Main (line 197, column 63 - line 209, column 22): "+[n.constructor.name])})},hR=function(t){return jt(function(e){var n=Ha(e);if(n instanceof f)return Be(void 0);if(n instanceof c){var r=$a(0)(vo(n.value0));if(r instanceof f)return ee(t);if(r instanceof c)return function(){var u=mr(t.layer)(),a=_r(t.canvas)(t.canvasHtmlElement)({x:lt(so(r.value0)),y:lt(po(r.value0))})(),l={translateX:a.x-u.x,translateY:a.y-u.y};return Ba(l)(t.layer)(),ee(t)()};throw new Error("Failed pattern match at Sjablong.Main (line 227, column 22 - line 237, column 22): "+[r.constructor.name])}throw new Error("Failed pattern match at Sjablong.Main (line 225, column 62 - line 237, column 22): "+[n.constructor.name])})},RR=function(t){return jt(function(e){var n=Ha(e);if(n instanceof f)return Be(void 0);if(n instanceof c){var r=$a(0)(vo(n.value0));if(r instanceof f)return ee(t);if(r instanceof c)return function(){var u=mr(t.layer)(),a=_r(t.canvas)(t.canvasHtmlElement)({x:lt(so(r.value0)),y:lt(po(r.value0))})(),l={translateX:a.x-u.x,translateY:a.y-u.y};return Ba(l)(t.layer)(),id(t.layer)(),ee(t)()};throw new Error("Failed pattern match at Sjablong.Main (line 256, column 22 - line 267, column 22): "+[r.constructor.name])}throw new Error("Failed pattern match at Sjablong.Main (line 254, column 61 - line 267, column 22): "+[n.constructor.name])})},dd=function(t){return function(e){return yn(vr(jl(Oa)(Hn(Zi(t))))(function(n){return cd(Hn(Ki(n)(e)))(function(){return vr(Hn(fd(Jl)(Hl)))(function(r){return vr(jl(Oa)(Hn(dr(t)(pr(r)))))(function(o){return vr(Oa(Bl(o)))(function(u){return sd({canvas:n,canvasElement:o,canvasHtmlElement:u,document:r})})})})})}))}},pd=function(t){var e=Me(t);return function(n){return function(r){return function(){var u=vR(e(r))();return mR(n)({layer:u})}}}},DR=function(t){return jt(function(e){var n=qa(e);if(n instanceof f)return Be(void 0);if(n instanceof c)return function(){var o=mr(t.layer)(),u=_r(t.canvas)(t.canvasHtmlElement)({x:lt(mo(n.value0)),y:lt(_o(n.value0))})(),a={translateX:u.x-o.x,translateY:u.y-o.y};return Ba(a)(t.layer)(),id(t.layer)(),ee(t)()};throw new Error("Failed pattern match at Sjablong.Main (line 240, column 60 - line 251, column 20): "+[n.constructor.name])})},yR=function(t){return jt(function(e){var n=qa(e);if(n instanceof f)return Be(void 0);if(n instanceof c)return function(){var o=mr(t.layer)(),u=_r(t.canvas)(t.canvasHtmlElement)({x:lt(mo(n.value0)),y:lt(_o(n.value0))})(),a={translateX:u.x-o.x,translateY:u.y-o.y};return Ba(a)(t.layer)(),ee(t)()};throw new Error("Failed pattern match at Sjablong.Main (line 212, column 62 - line 222, column 20): "+[n.constructor.name])})},FR=function(t){return jt(function(e){var n=qa(e);if(n instanceof f)return Be(void 0);if(n instanceof c)return function(){var o=mr(t.layer)(),u=_r(t.canvas)(t.canvasHtmlElement)({x:lt(mo(n.value0)),y:lt(_o(n.value0))})(),a={offsetX:u.x-o.x,offsetY:u.y-o.y};return ld(a)(t.layer)(),ee(t)()};throw new Error("Failed pattern match at Sjablong.Main (line 184, column 62 - line 194, column 20): "+[n.constructor.name])})},wR=function(t){return jt(function(e){return ee(t)})};var vd=function(t){return function(e){return function(n){return yn(function(){var r=pr(n.document);return vr(jl(Oa)(Hn(dr(t)(r))))(function(o){return vr(Hn(jt(function(u){return function(){var l=eu(n.canvas)(),i=Al("a")(Ks(n.document))();Pa("href")(l)(i)(),Pa("download")(e)(i)();var s=Bl(i);if(s instanceof c)return $l(s.value0)();throw new Error("Failed pattern match at Sjablong.Main (line 149, column 9 - line 149, column 53): "+[s.constructor.name])}})))(function(u){return cd(Hn(Gt("click")(u)(!1)(le(o))))(function(){return sd(o)})})})}())}}},bR=function(t){return function(e){return function(n){return function(r){return function(){var u=dr(e)(pr(t.document))();if(u instanceof c){var a=ad(u.value0);if(a instanceof c){var l=Ua(a.value0)();go(r(l))(n)();var i=jt(function(s){return function(){var y=Ua(a.value0)();return go(r(y))(n)()}})();return Gt("input")(i)(!1)(le(u.value0))()}throw new Error("Failed pattern match at Sjablong.Main (line 303, column 7 - line 303, column 55): "+[a.constructor.name])}throw new Error("Failed pattern match at Sjablong.Main (line 302, column 3 - line 302, column 79): "+[u.constructor.name])}}}}},Vl=function(t){return function(e){return function(n){return function(r){return bR(t)(e)(n)(function(o){return function(u){return function(a){return Be(u(a))}}(r(o))})}}}};var CR=function(t){return function(e){return function(n){return function(r){return function(){var u=dr(e)(pr(t.document))();if(u instanceof c){var a=zl(u.value0);if(a instanceof c){var l=Wa(a.value0)();(function(){var s=va(l);if(s instanceof c)return go(r(s.value0))(n)();if(s instanceof f)return void 0;throw new Error("Failed pattern match at Sjablong.Main (line 354, column 3 - line 356, column 25): "+[s.constructor.name])})();var i=jt(function(s){return function(){var y=Wa(a.value0)(),w=va(y);if(w instanceof c)return go(r(w.value0))(n)();if(w instanceof f)return void 0;throw new Error("Failed pattern match at Sjablong.Main (line 360, column 5 - line 362, column 27): "+[w.constructor.name])}})();return Gt("input")(i)(!1)(le(u.value0))()}throw new Error("Failed pattern match at Sjablong.Main (line 351, column 7 - line 351, column 52): "+[a.constructor.name])}throw new Error("Failed pattern match at Sjablong.Main (line 350, column 3 - line 350, column 79): "+[u.constructor.name])}}}}};var md=function(t){var e=rc(t);return function(n){return function(r){return function(o){return function(){var a=rn(1)();return CR(n)(r)(o)(function(l){return function(i){return function(){var v=Bt(a)();return zn(l)(a)(),e(l/v)(i)()}}})()}}}}};var TR=function(t){return function(e){return function(n){return function(r){return function(){var u=dr(e)(pr(t.document))();if(u instanceof c){var a=zl(u.value0);if(a instanceof c){var l=function(v){if(v instanceof f)return Be(void 0);if(v instanceof c){var y=he(_R(v.value0))(0);if(y instanceof f)return Be(void 0);if(y instanceof c)return go(r(y.value0))(n);throw new Error("Failed pattern match at Sjablong.Main (line 390, column 24 - line 392, column 54): "+[y.constructor.name])}throw new Error("Failed pattern match at Sjablong.Main (line 388, column 26 - line 392, column 54): "+[v.constructor.name])},i=kl(a.value0)();l(i)();var s=jt(function(v){return fd(l)(kl(a.value0))})();return Gt("change")(s)(!1)(le(u.value0))()}throw new Error("Failed pattern match at Sjablong.Main (line 385, column 7 - line 385, column 52): "+[a.constructor.name])}throw new Error("Failed pattern match at Sjablong.Main (line 384, column 3 - line 384, column 79): "+[u.constructor.name])}}}}};var ER=function(t){return function(e){return function(n){return function(r){return TR(t)(e)(n)(function(o){return r(Vs(o))})}}}};var _d=function(t){return function(e){return function(n){return function(r){return ER(t)(e)(n)(function(o){return function(u){return function(){var l=Ul(o)();return r(l)(u)()}}})}}}},gd=function(t){return function(){var n=FR(t)(),r=yR(t)(),o=DR(t)(),u=gR(t)(),a=hR(t)(),l=RR(t)(),i=wR(t)();return Gt("mousedown")(n)(!1)(le(t.canvasElement))(),Gt("mousemove")(r)(!1)(le(t.canvasElement))(),Gt("mouseup")(o)(!1)(le(t.canvasElement))(),Gt("touchstart")(u)(!1)(le(t.canvasElement))(),Gt("touchmove")(a)(!1)(le(t.canvasElement))(),Gt("touchend")(l)(!1)(le(t.canvasElement))(),Gt("input")(i)(!1)(Xs(t.document))()}};var hd=fc(Ot),xR=Vt(Ke),Ql=sa(Ot),LR=sc(Ot),IR=dc(Ot),NR=md(cc(Ot)),yd=zs(Tt),Fd=mu(Ot),Rd=Me(yd(Fd)),wd=fa(Ot),Dd=Me(Bs(Tt)(wd(Nl(Ot)))),SR=Me(wd(Fd)),PR=Me(yd(Zu(Et))),AR=pd(Cf(Tt)),ne=2;var WR=function(){return{width:1080,height:1080*5/4}}(),Xl=It(Dr()(mn({reflectSymbol:function(){return"height"}})()(mn({reflectSymbol:function(){return"width"}})()(Rr)(we))(we)))({width:ne,height:ne})(WR),Yl=function(){return Xl.height}(),gr=function(){return Xl.width}(),bd=vt(S)(function(){var e=dd("canvas")(Xl)();if(e instanceof c){var n=br(e.value0.canvas)(),r=hd("./img/guillotine2x.png")({x:60*ne,y:60*ne})({scaleX:(1560+2*60)/1560,scaleY:1})(Ir.value)(),o=hd("./img/jacobinlogo80x200.png")({x:gr-100*ne,y:Yl-160*ne})({scaleX:1,scaleY:1})(Ir.value)(),u=xR(Ql)(LR({x:0,y:0})({scaleX:1,scaleY:1})(Ir.value))();_d(e.value0)("image")(u)(IR)(),NR(e.value0)("image-size")(u)();var a=Ql({text:[],lineHeight:1.1,position:{x:gr/2,y:150*ne},fillStyle:"#f00",font:{name:"Oswald",style:{normal:"normal",italic:"italic"},weight:{normal:"500",bold:"700"},size:50*ne},align:tn.value,baseline:Ze.value,letterSpacing:"-3px",emptyLineHeight:.25,dragOffset:f.value,maxWidth:new c(gr-220*ne),context:n})();Vl(e.value0)("text-above")(a)(Sl)();var l=Ql({text:[],lineHeight:1.1,position:{x:gr/2,y:Yl-150*ne},fillStyle:"#f00",font:{name:"Oswald",style:{normal:"normal",italic:"italic"},weight:{normal:"500",bold:"700"},size:50*ne},align:tn.value,baseline:Ze.value,letterSpacing:"-3px",emptyLineHeight:.25,dragOffset:f.value,maxWidth:new c(gr-220*ne),context:n})();Vl(e.value0)("text-below")(l)(Sl)();var i=Tf([Rd(Na(r)),Rd(Na(o)),Dd(Pl(a)),Dd(Pl(l)),SR(u),PR(Na(Ef({x:0,y:0,width:gr,height:Yl})("#fff")))]),s=AR(e.value0)(i)();ee(s)(),gd(s)();var v=vd("download")("jacobin-slot.png")(s)();if(v instanceof c)return void 0;throw new Error("Failed pattern match at Jacobin.FinalSlide (line 115, column 3 - line 115, column 68): "+[v.constructor.name])}throw new Error("Failed pattern match at Jacobin.FinalSlide (line 41, column 3 - line 41, column 72): "+[e.constructor.name])});bd();})();

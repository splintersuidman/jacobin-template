/* Generated by Spago v0.93.44 */
(()=>{var vi=typeof Array.prototype.flatMap=="function"?function(t){return function(e){return t.flatMap(e)}}:function(t){return function(e){for(var n=[],r=t.length,a=0;a<r;a++)for(var o=e(t[a]),u=o.length,l=0;l<u;l++)n.push(o[l]);return n}};var mi=function(t){return function(e){for(var n=t.length,r=e.length,a=new Array(n*r),o=0,u=0;u<n;u++)for(var l=t[u],i=0;i<r;i++)a[o++]=l(e[i]);return a}};var Po={compose:function(t){return function(e){return function(n){return t(e(n))}}}};var J=function(t){return t.identity},Q={identity:function(t){return t},Semigroupoid0:function(){return Po}};var dt=!0;var $=function(t){return function(e){return function(n){return t(n)(e)}}},O=function(t){return function(e){return t}};var _i=function(t){return function(e){for(var n=e.length,r=new Array(n),a=0;a<n;a++)r[a]=t(e[a]);return r}};var j=function(){function t(){}return t.value=new t,t}();var d=function(t){return t.map},pe=function(t){var e=d(t);return function(n){return function(r){return e(r)(n)}}},mt=function(t){return d(t)(O(void 0))};var ze=function(t){var e=d(t);return function(n){return e(O(n))}};var _t={map:_i};var ap=J(Q);var Wo={apply:mi,Functor0:function(){return _t}},ut=function(t){return t.apply},gi=function(t){var e=ut(t),n=d(t.Functor0());return function(r){return function(a){return e(n(O)(r))(a)}}},ae=function(t){var e=ut(t),n=d(t.Functor0());return function(r){return function(a){return e(n(O(ap))(r))(a)}}};var y=function(t){return t.pure};var Er=function(t){var e=ut(t.Apply0()),n=y(t);return function(r){return function(a){return e(n(r))(a)}}};var ke=function(t){return t.discard};var Ho={bind:vi,Apply0:function(){return Wo}},T=function(t){return t.bind},Xt=function(t){return $(T(t))};var Je={discard:function(t){return T(t)}};var Ri=function(t){return function(e){return t.length===0?e:e.length===0?t:t.concat(e)}};var Ot=function(t){return t.reflectSymbol};var ue=function(t){return function(e){return e[t]}},Kt=function(t){return function(e){return function(n){var r={};for(var a in n)({}).hasOwnProperty.call(n,a)&&(r[a]=n[a]);return r[t]=e,r}}};var Ce={append:Ri};var A=function(t){return t.append};var gt=function(t){return t.alt};var yi="\uFFFF",Fi="\0",sp=Number.POSITIVE_INFINITY,dp=Number.NEGATIVE_INFINITY;var iu=function(t){return function(e){return function(n){return function(r){return function(a){return r<a?t:r===a?e:n}}}}};var wi=iu,bi=iu;var Ci=iu;var cu=function(t){return function(e){return t===e}};var Ti=cu,Ei=cu,Mi=cu;var xi={eq:Ei},$o={eq:Ti},qo={eq:Mi};var z=function(t){return t.eq};var W=function(){function t(){}return t.value=new t,t}(),N=function(){function t(){}return t.value=new t,t}(),X=function(){function t(){}return t.value=new t,t}();var kn={eq:function(t){return function(e){return t instanceof W&&e instanceof W||t instanceof N&&e instanceof N||t instanceof X&&e instanceof X}}};var Li=function(t){return function(e){return t-e|0}};var Ii=function(t){return function(e){return t+e|0}},Ni=function(t){return function(e){return t*e|0}},Si=function(t){return function(e){return t+e}},Pi=function(t){return function(e){return t*e}};var Ai=function(t){return t.zeroRecord},Zt=function(t){return t.zero};var Mr={addRecord:function(t){return function(e){return function(n){return{}}}},mulRecord:function(t){return function(e){return function(n){return{}}}},oneRecord:function(t){return function(e){return{}}},zeroRecord:function(t){return function(e){return{}}}};var le={add:Si,zero:0,mul:Pi,one:1},Oo={add:Ii,zero:0,mul:Ni,one:1},Wi=function(t){return t.oneRecord},me=function(t){return t.one},Ui=function(t){return t.mulRecord},St=function(t){return t.mul},Hi=function(t){return t.addRecord},xr=function(){return function(t){return{add:Hi(t)(j.value),mul:Ui(t)(j.value),one:Wi(t)(j.value)(j.value),zero:Ai(t)(j.value)(j.value)}}},Bt=function(t){return t.add};var gn=function(t){var e=Ot(t);return function(){return function(n){var r=Hi(n),a=Ui(n),o=Wi(n),u=Ai(n);return function(l){var i=Bt(l),s=St(l),p=me(l),R=Zt(l);return{addRecord:function(C){return function(nt){return function(H){var rt=r(j.value)(nt)(H),Nt=e(j.value),Bn=Kt(Nt),mn=ue(Nt);return Bn(i(mn(nt))(mn(H)))(rt)}}},mulRecord:function(C){return function(nt){return function(H){var rt=a(j.value)(nt)(H),Nt=e(j.value),Bn=Kt(Nt),mn=ue(Nt);return Bn(s(mn(nt))(mn(H)))(rt)}}},oneRecord:function(C){return function(nt){var H=o(j.value)(j.value),rt=e(j.value),Nt=Kt(rt);return Nt(p)(H)}},zeroRecord:function(C){return function(nt){var H=u(j.value)(j.value),rt=e(j.value),Nt=Kt(rt);return Nt(R)(H)}}}}}}};var $i={sub:Li,Semiring0:function(){return Oo}};var Lr=function(){return{compare:bi(W.value)(X.value)(N.value),Eq0:function(){return xi}}}(),zt=function(){return{compare:wi(W.value)(X.value)(N.value),Eq0:function(){return $o}}}(),zo=function(){return{compare:Ci(W.value)(X.value)(N.value),Eq0:function(){return qo}}}();var U=function(t){return t.compare};var Te=function(t){return t.top};var Ir={top:yi,bottom:Fi,Ord0:function(){return zo}};var je=function(t){return t.bottom};var Bi=function(t){var e=t.toString();return isNaN(e+".0")?e:e+".0"},zi=function(t){var e=t.charCodeAt(0);if(e<32||e===127){switch(t){case"\x07":return"'\\a'";case"\b":return"'\\b'";case"\f":return"'\\f'";case`
`:return"'\\n'";case"\r":return"'\\r'";case"	":return"'\\t'";case"\v":return"'\\v'"}return"'\\"+e.toString(10)+"'"}return t==="'"||t==="\\"?"'\\"+t+"'":"'"+t+"'"};var ki=function(t){return function(e){for(var n=[],r=0,a=e.length;r<a;r++)n[r]=t(e[r]);return"["+n.join(",")+"]"}};var ko={show:Bi};var Jo={show:zi};var w=function(t){return t.show},su=function(t){return{show:ki(w(t))}};var Ep=J(Q),f=function(){function t(){}return t.value=new t,t}(),c=function(){function t(e){this.value0=e}return t.create=function(e){return new t(e)},t}();var kt=function(t){return function(e){return function(n){if(n instanceof f)return t;if(n instanceof c)return e(n.value0);throw new Error("Failed pattern match at Data.Maybe (line 237, column 1 - line 237, column 51): "+[t.constructor.name,e.constructor.name,n.constructor.name])}}},Ge=kt(!0)(O(!1));var it={map:function(t){return function(e){return e instanceof c?new c(t(e.value0)):f.value}}};var Ft=function(t){return kt(t)(Ep)},_e=function(){return function(t){if(t instanceof c)return t.value0;throw new Error("Failed pattern match at Data.Maybe (line 288, column 1 - line 288, column 46): "+[t.constructor.name])}};var Vo=function(t){return t.toUpperCase()};var jn=function(t){return t===""};var Gi=function(t){return function(){return t}},Vi=function(t){return function(e){return function(){return e(t())()}}};var Xi=function(t){var e=T(t.Bind1()),n=y(t.Applicative0());return function(r){return function(a){return e(a)(function(o){return n(r(o))})}}},Ve=function(t){var e=T(t.Bind1()),n=y(t.Applicative0());return function(r){return function(a){return e(r)(function(o){return e(a)(function(u){return n(o(u))})})}}};var Yi=function(t){return Math.min(Math.abs(t),2147483647)},Ki=function(t){return function(e){return e===0?0:e>0?Math.floor(t/e):-Math.floor(t/-e)}},Zi=function(t){return function(e){if(e===0)return 0;var n=Math.abs(e);return(t%n+n)%n}};var tc={Ring0:function(){return $i}};var Sr=function(t){return t.mod};var Qo={degree:Yi,div:Ki,mod:Zi,CommutativeRing0:function(){return tc}};var ft=function(t){return t.mempty};var nc=function(t,e,n){var r=0,a;return function(o){if(r===2)return a;if(r===1)throw new ReferenceError(t+" was needed before it finished initializing (module "+e+", line "+o+")",e,o);return r=1,a=n(),r=2,a}},Pt={Applicative0:function(){return It},Bind1:function(){return Ye}},Ye={bind:Vi,Apply0:function(){return vu(0)}},It={pure:Gi,Apply0:function(){return vu(0)}},rc=nc("functorEffect","Effect",function(){return{map:Er(It)}}),vu=nc("applyEffect","Effect",function(){return{apply:Ve(Pt),Functor0:function(){return rc(0)}}}),I=rc(20),oc=vu(23);var At={liftEffect:J(Q),Monad0:function(){return Pt}},Tt=function(t){return t.liftEffect};function ac(t){return function(e){return function(n){return function(){var r=new Image;r.src=t,r.addEventListener("load",function(){n(r)()},!1),r.addEventListener("error",function(){e()},!1)}}}}function uc(t,e,n){return function(){var r=document.getElementById(t);return r&&r instanceof HTMLCanvasElement?e(r):n}}function Pr(t){return function(){return t.getContext("2d")}}function Ar(t){return function(){return t.width}}function Wr(t){return function(){return t.height}}function mu(t){return function(e){return function(){t.width=e}}}function _u(t){return function(e){return function(){t.height=e}}}function gu(t){return function(){return t.toDataURL()}}function xe(t){return function(e){return function(){t.fillStyle=e}}}function lc(t){return function(e){return function(){t.globalCompositeOperation=e}}}function hu(t){return function(){t.beginPath()}}function Ru(t){return function(){t.fill()}}function Du(t){return function(e){return function(){t.rect(e.x,e.y,e.width,e.height)}}}function yu(t){return function(e){return function(){t.clearRect(e.x,e.y,e.width,e.height)}}}function ic(t){return function(e){return function(){t.textAlign=e}}}function cc(t){return function(e){return function(){t.textBaseline=e}}}function Vn(t){return function(e){return function(){t.font=e}}}function Ur(t){return function(e){return function(n){return function(r){return function(){t.fillText(e,n,r)}}}}}function Fu(t){return function(){t.save()}}function wu(t){return function(){t.restore()}}function bu(t){return function(e){return function(n){return function(r){return function(a){return function(o){return function(){t.drawImage(e,n,r,a,o)}}}}}}}var k=function(){function t(e){this.value0=e}return t.create=function(e){return new t(e)},t}(),Y=function(){function t(e){this.value0=e}return t.create=function(e){return new t(e)},t}();var Qn=function(t){return function(e){return function(n){if(n instanceof k)return t(n.value0);if(n instanceof Y)return e(n.value0);throw new Error("Failed pattern match at Data.Either (line 208, column 1 - line 208, column 64): "+[t.constructor.name,e.constructor.name,n.constructor.name])}}};var Bp=ae(oc),te=function(){function t(){}return t.value=new t,t}(),zp=function(){function t(){}return t.value=new t,t}(),kp=function(){function t(){}return t.value=new t,t}(),Jp=function(){function t(){}return t.value=new t,t}(),jp=function(){function t(){}return t.value=new t,t}(),hn=function(){function t(){}return t.value=new t,t}(),Jt=function(){function t(){}return t.value=new t,t}(),Hr=function(){function t(){}return t.value=new t,t}(),$r=function(){function t(){}return t.value=new t,t}(),qr=function(){function t(){}return t.value=new t,t}(),Or=function(){function t(){}return t.value=new t,t}();var Br=function(){function t(){}return t.value=new t,t}(),Gp=function(){function t(){}return t.value=new t,t}(),Vp=function(){function t(){}return t.value=new t,t}(),Qp=function(){function t(){}return t.value=new t,t}(),Xp=function(){function t(){}return t.value=new t,t}(),Yp=function(){function t(){}return t.value=new t,t}(),Kp=function(){function t(){}return t.value=new t,t}(),Zp=function(){function t(){}return t.value=new t,t}(),tv=function(){function t(){}return t.value=new t,t}(),ev=function(){function t(){}return t.value=new t,t}(),nv=function(){function t(){}return t.value=new t,t}(),rv=function(){function t(){}return t.value=new t,t}(),ov=function(){function t(){}return t.value=new t,t}(),av=function(){function t(){}return t.value=new t,t}(),uv=function(){function t(){}return t.value=new t,t}(),lv=function(){function t(){}return t.value=new t,t}(),iv=function(){function t(){}return t.value=new t,t}(),cv=function(){function t(){}return t.value=new t,t}(),fv=function(){function t(){}return t.value=new t,t}(),sv=function(){function t(){}return t.value=new t,t}(),dv=function(){function t(){}return t.value=new t,t}(),pv=function(){function t(){}return t.value=new t,t}(),vv=function(){function t(){}return t.value=new t,t}(),mv=function(){function t(){}return t.value=new t,t}(),_v=function(){function t(){}return t.value=new t,t}(),gv=function(){function t(){}return t.value=new t,t}(),wt=function(t){return function(e){return function(){Fu(t)();var r=e();return wu(t)(),r}}},Tu=function(t){return function(e){return ac(t)(e(f.value))(function(n){return e(c.create(n))})}};var Xn=function(t){return function(e){var n=function(r){if(r instanceof te)return"top";if(r instanceof zp)return"hanging";if(r instanceof kp)return"middle";if(r instanceof Jp)return"alphabetic";if(r instanceof jp)return"ideographic";if(r instanceof hn)return"bottom";throw new Error("Failed pattern match at Graphics.Canvas (line 577, column 5 - line 577, column 33): "+[r.constructor.name])};return cc(t)(n(e))}},Yn=function(t){return function(e){var n=function(r){if(r instanceof Jt)return"left";if(r instanceof Hr)return"right";if(r instanceof $r)return"center";if(r instanceof qr)return"start";if(r instanceof Or)return"end";throw new Error("Failed pattern match at Graphics.Canvas (line 531, column 5 - line 531, column 32): "+[r.constructor.name])};return ic(t)(n(e))}};var pc=function(t){return function(e){var n=function(r){if(r instanceof Br)return"source-over";if(r instanceof Gp)return"source-in";if(r instanceof Vp)return"source-out";if(r instanceof Qp)return"source-atop";if(r instanceof Xp)return"destination-over";if(r instanceof Yp)return"destination-in";if(r instanceof Kp)return"destination-out";if(r instanceof Zp)return"destination-atop";if(r instanceof tv)return"lighter";if(r instanceof ev)return"copy";if(r instanceof nv)return"xor";if(r instanceof rv)return"multiply";if(r instanceof ov)return"screen";if(r instanceof av)return"overlay";if(r instanceof uv)return"darken";if(r instanceof lv)return"lighten";if(r instanceof iv)return"color-dodge";if(r instanceof cv)return"color-burn";if(r instanceof fv)return"hard-light";if(r instanceof sv)return"soft-light";if(r instanceof dv)return"difference";if(r instanceof pv)return"exclusion";if(r instanceof vv)return"hue";if(r instanceof mv)return"saturation";if(r instanceof _v)return"color";if(r instanceof gv)return"luminosity";throw new Error("Failed pattern match at Graphics.Canvas (line 326, column 5 - line 326, column 45): "+[r.constructor.name])};return lc(t)(n(e))}},vc=function(t){return function(e){return Bp(_u(t)(e.height))(mu(t)(e.width))}},mc=function(t){return uc(t,c.create,f.value)},_c=function(t){return function(){var n=Ar(t)(),r=Wr(t)();return{width:n,height:r}}},gc=function(t){return function(e){return function(){hu(t)();var r=e();return Ru(t)(),r}}};var Yo=function(t){return function(e){return e(function(n){return t(n)})}},Kn=function(t){return function(e){return{x:e.x+t.translateX,y:e.y+t.translateY}}};var Ze=function(t){return t.translate},hc=function(t){return function(e){return{width:e.width*t.scaleX,height:e.height*t.scaleY}}},Eu=function(t){return t.scale},Rc=function(t){var e=Eu(t);return function(n){return e({scaleX:n,scaleY:n})}},Le=function(t){return t.position},ge=function(t){return function(e){return function(n){return n(t)(e)}}},hv=function(t){var e=d(t);return function(n){return Yo(function(r){var a=e(ge(r)),o=n(r);return function(u){return a(o(u))}})}};var Dc=function(t){return t.mapLayerWrapper};var Ie=function(t){return t.draw},Rv=function(t){var e=Ze(t);return function(n){return function(r){return function(a){var o={translateX:r.translateX-n.offsetX,translateY:r.translateY-n.offsetY};return e(o)(a)}}}},tn=function(t){var e=y(t);return function(n){var r=Rv(n);return function(a){return function(o){return function(u){if(a instanceof f)return e(u);if(a instanceof c)return r(a.value0)(o)(u);throw new Error("Failed pattern match at Sjablong.Layer (line 61, column 1 - line 61, column 115): "+[a.constructor.name,o.constructor.name,u.constructor.name])}}}}},en=function(t){return t.dragStart},nn=function(t){return t.dragEnd},rn=function(t){return t.drag},Rn=function(t){return t.containsPoint},Ko=function(t){var e=hv(t);return{position:Yo(function(n){return Le(n)}),translate:function(n){return e(function(r){return Ze(r)(n)})},containsPoint:function(n){return Yo(function(r){return Rn(r)(n)})},draw:function(n){return Yo(function(r){return Ie(r)(n)})},dragStart:function(n){return e(function(r){return en(r)(n)})},drag:function(n){return e(function(r){return rn(r)(n)})},dragEnd:e(function(n){return nn(n)})}};var yc=function(t){return function(){return{value:t}}};var jt=function(t){return function(){return t.value}},Fc=function(t){return function(e){return function(){var n=t(e.value);return e.value=n.state,n.value}}},Zn=function(t){return function(e){return function(){e.value=t}}};var yv=mt(I),on=yc,Fv=Fc,wc=function(t){return Fv(function(e){var n=t(e);return{state:n,value:n}})},Mu=function(t){return function(e){return yv(wc(t)(e))}};var kr=t=>t.width,Jr=t=>t.height;var Dn=t=>e=>()=>t.letterSpacing=e;var bc=function(t){return function(e){return function(n){return function(r){return bu(t)(e)(n.x)(n.y)(r.width)(r.height)}}}};var Cc=function(t){return{width:kr(t),height:Jr(t)}};var bv=St(xr()(gn({reflectSymbol:function(){return"scaleX"}})()(gn({reflectSymbol:function(){return"scaleY"}})()(Mr)(le))(le))),Cv=ke(Je);var Tc=function(t){var e=y(t.Monad0().Applicative0());return{scale:function(n){return function(r){return e({image:r.image,position:r.position,composite:r.composite,dragOffset:r.dragOffset,scale:bv(n)(r.scale)})}}}},Lu=function(t){var e=t.Monad0(),n=e.Applicative0(),r=y(n),a=T(e.Bind1()),o=Tt(t),u=tn(n);return{position:function(l){return r(l.position)},translate:function(l){return function(i){return r({image:i.image,scale:i.scale,composite:i.composite,dragOffset:i.dragOffset,position:Kn(l)(i.position)})}},containsPoint:function(l){return function(i){return a(o(jt(i.image)))(function(s){if(s instanceof f)return r(!1);if(s instanceof c)return r(i.position.x<=l.x&&l.x<=i.position.x+kr(s.value0)*i.scale.scaleX&&i.position.y<=l.y&&l.y<=i.position.y+Jr(s.value0)*i.scale.scaleY);throw new Error("Failed pattern match at Sjablong.Layer.Image (line 78, column 5 - line 84, column 90): "+[s.constructor.name])})}},dragStart:function(l){return function(i){return r({image:i.image,position:i.position,scale:i.scale,composite:i.composite,dragOffset:new c(l)})}},drag:function(l){return function(i){return u(Lu(t))(i.dragOffset)(l)(i)}},dragEnd:function(l){return r({image:l.image,position:l.position,scale:l.scale,composite:l.composite,dragOffset:f.value})},draw:function(l){return function(i){return function(){var p=jt(i.image)();if(p instanceof f)return void 0;if(p instanceof c)return wt(l)(function(){return pc(l)(i.composite)(),bc(l)(p.value0)(i.position)(hc(i.scale)(Cc(p.value0)))()})();throw new Error("Failed pattern match at Sjablong.Layer.Image (line 92, column 5 - line 98, column 54): "+[p.constructor.name])}}}}};var Ec=function(t){var e=Tt(t);return function(n){return function(r){return function(a){return function(o){return e(function(){var l=on(f.value)();return Tu(n)(function(){var i=$(Mu)(l);return function(s){return i(O(s))}}())(),{image:l,position:r,scale:a,composite:o,dragOffset:f.value}})}}}}},Mc=function(t){var e=Tt(t);return function(n){return function(r){return function(a){return e(function(){var u=on(f.value)();return{image:u,position:n,scale:r,composite:a,dragOffset:f.value}})}}}},xc=function(t){var e=t.Monad0(),n=Cv(e.Bind1()),r=Tt(t),a=y(e.Applicative0());return function(o){return function(u){return n(r(Tu(o)(function(){var l=$(Mu)(u.image);return function(i){return l(O(i))}}())))(function(){return a(u)})}}};var yn=function(t){return t.throwError};var tr=function(t){return t};var Su={map:function(t){return function(e){return t(e)}}};var Ic={apply:function(t){return function(e){return t(e)}},Functor0:function(){return Su}},xv={bind:function(t){return function(e){return e(t)}},Apply0:function(){return Ic}},Lv={pure:tr,Apply0:function(){return Ic}},Nc={Applicative0:function(){return Lv},Bind1:function(){return xv}};var Wt=function(){function t(e){this.value0=e}return t.create=function(e){return new t(e)},t}(),Ut=function(){function t(e){this.value0=e}return t.create=function(e){return new t(e)},t}(),Se=function(t){return t.tailRecM};var Iv=function(t){var e=function(n){var r=!1,a;function o(u){if(u instanceof Wt){n=t(u.value0);return}if(u instanceof Ut)return r=!0,u.value0;throw new Error("Failed pattern match at Control.Monad.Rec.Class (line 103, column 3 - line 103, column 25): "+[u.constructor.name])}for(;!r;)a=o(n);return a};return function(n){return e(t(n))}};var Sc={tailRecM:function(t){var e=function(r){return r},n=Iv(function(r){return e(t(r))});return function(r){return tr(n(r))}},Monad0:function(){return Nc}};var v=function(t){return t};var Pc=function(t){return function(e){return function(){return t(e())}}},Ac=function(t){return function(){return t}},Wc=function(t){return function(e){return function(){return e(t())()}}};function Pu(t){return function(e){return function(n){return function(){for(var r=t;r<e;r++)n(r)()}}}}var Wv=function(t,e,n){var r=0,a;return function(o){if(r===2)return a;if(r===1)throw new ReferenceError(t+" was needed before it finished initializing (module "+e+", line "+o+")",e,o);return r=1,a=n(),r=2,a}};var Zo={map:Pc};var qc={Applicative0:function(){return Oc},Bind1:function(){return Au}},Au={bind:Wc,Apply0:function(){return Bc(0)}},Oc={pure:Ac,Apply0:function(){return Bc(0)}},Bc=Wv("applyST","Control.Monad.ST.Internal",function(){return{apply:Ve(qc),Functor0:function(){return Zo}}});var Fn=function(t){return t.defer};var kc=function(t){return function(e){return t&&e}},Jc=function(t){return function(e){return t||e}},jc=function(t){return!t};var ea=function(t){return t.not};var Vr=function(t){return t.ff};var nr=function(t){return t.disj},an={ff:!1,tt:!0,implies:function(t){return function(e){return nr(an)(ea(an)(t))(e)}},conj:kc,disj:Jc,not:jc};var E=function(){function t(e,n){this.value0=e,this.value1=n}return t.create=function(e){return function(n){return new t(e,n)}},t}();var Ae=function(t){return t.value1};var We=function(t){return t.value0};var ie=function(t){return t.lift};var kv=d(it);var ra=function(t){return t},wn=function(t){return t};var or={lift:function(t){var e=Xi(t)(c.create);return function(n){return ra(e(n))}}};var Jv=function(t){var e=d(t);return{map:function(n){return function(r){return e(kv(n))(r)}}}},jv=function(t){return{Applicative0:function(){return Qr(t)},Bind1:function(){return bn(t)}}},bn=function(t){var e=T(t.Bind1()),n=y(t.Applicative0());return{bind:function(r){return function(a){return e(r)(function(o){if(o instanceof f)return n(f.value);if(o instanceof c){var u=a(o.value0);return u}throw new Error("Failed pattern match at Control.Monad.Maybe.Trans (line 55, column 11 - line 57, column 42): "+[o.constructor.name])})}},Apply0:function(){return Yc(t)}}},Yc=function(t){var e=Jv(t.Bind1().Apply0().Functor0());return{apply:Ve(jv(t)),Functor0:function(){return e}}},Qr=function(t){return{pure:function(){var e=y(t.Applicative0());return function(n){return ra(e(c.create(n)))}}(),Apply0:function(){return Yc(t)}}};var ar=function(t){var e=y(t.Applicative0());return function(n){return ra(e(n))}};var Kc=function(t,e){for(var n=t>e?-1:1,r=new Array(n*(e-t)+1),a=t,o=0;a!==e;)r[o++]=a,a+=n;return r[o]=a,r},Gv=function(t,e){if(t<1)return[];var n=new Array(t);return n.fill(e)},Vv=function(t,e){for(var n=[],r=0,a=0;a<t;a++)n[r++]=e;return n},Qv=typeof Array.prototype.fill=="function"?Gv:Vv,Zc=function(){function t(a,o){this.head=a,this.tail=o}var e={};function n(a){return function(o){return new t(a,o)}}function r(a){for(var o=[],u=0,l=a;l!==e;)o[u++]=l.head,l=l.tail;return o}return function(a,o){return r(a(n)(e)(o))}}(),pt=function(t){return t.length};var tf=function(t,e,n,r){return r<0||r>=n.length?e:t(n[r])};var ef=function(t,e,n,r){for(var a=0,o=r.length;a<o;a++)if(n(r[a]))return t(a);return e};var nf=function(t,e,n,r,a){if(n<0||n>=a.length)return e;var o=a.slice();return o[n]=r,t(o)},ur=function(t){return t.slice().reverse()},un=function(t){if(t.length<=1e4)return Array.prototype.concat.apply([],t);for(var e=[],n=0,r=t.length;n<r;n++)for(var a=t[n],o=0,u=a.length;o<u;o++)e.push(a[o]);return e};var rf=function(t,e,n){return n.slice(t,e)},of=function(t,e,n){for(var r=e.length<n.length?e.length:n.length,a=new Array(r),o=0;o<r;o++)a[o]=t(e[o])(n[o]);return a},af=function(t,e){for(var n=e.length,r=0;r<n;r++)if(t(e[r]))return!0;return!1},uf=function(t,e){for(var n=e.length,r=0;r<n;r++)if(!t(e[r]))return!1;return!0},lf=function(t,e){return t[e]};function qu(){return[]}function Yv(t){return t}var cf=Yv;function Kv(t){return t.slice()}var ff=Kv;var sf=function(t,e){return e.push(t)};var aa=function(e){return function(n){return function(){return e(n)}}},Ou=function(e){return function(n){return function(r){return function(){return e(n,r)}}}};var o1=T(Au);var Bu=aa(cf);var a1=aa(ff),df=function(t){return function(e){return function(){var r=a1(e)();return t(r)(),Bu(r)()}}};var pf=function(t){return o1(t)(Bu)()};var lr=Ou(sf);var mf=function(t){return function(e){return function(n){for(var r=e,a=n.length,o=a-1;o>=0;o--)r=t(n[o])(r);return r}}},_f=function(t){return function(e){return function(n){for(var r=e,a=n.length,o=0;o<a;o++)r=t(r)(n[o]);return r}}};var ia=function(t){return t};var D1=function(t){var e=nr(t);return{append:function(n){return function(r){return e(n)(r)}}}};var ju=function(t){var e=D1(t);return{mempty:Vr(t),Semigroup0:function(){return e}}};var Gu=function(){return v};var yf=Gu();var Cn=function(){return yf};var Vu=function(){return function(){return function(){return function(){return function(t){return yf}}}}};var C1=J(Q),T1=z(kn);var E1=Vu()()()(),Et=function(t){return t.foldr};var to=function(t){var e=ae(t.Apply0()),n=y(t);return function(r){var a=Et(r);return function(o){return a(function(u){return e(o(u))})(n(void 0))}}},eo=function(t){var e=to(t);return function(n){return $(e(n))}};var ct=function(t){return t.foldl};var wf=function(t){var e=ct(t);return function(n){var r=function(a){return function(o){if(a instanceof f)return new c(o);if(a instanceof c)return new c(function(){var u=T1(n(a.value0)(o))(N.value);return u?a.value0:o}());throw new Error("Failed pattern match at Data.Foldable (line 441, column 3 - line 441, column 27): "+[a.constructor.name,o.constructor.name])}};return e(r)(f.value)}},no=function(t){var e=U(t);return function(n){return wf(n)(e)}};var ro=function(t){var e=ct(t);return function(n){return e(Bt(n))(Zt(n))}};var bf=function(t){var e=Et(t);return function(n){var r=A(n.Semigroup0()),a=ft(n);return function(o){return e(function(u){return function(l){return r(o(u))(l)}})(a)}}},st={foldr:mf,foldl:_f,foldMap:function(t){return bf(st)(t)}};var Re=function(t){return t.foldMap};var En=function(t){var e=Re(t);return function(n){return E1(ia)(e(ju(n)))}};var Xu=function(t){var e=En(t);return function(n){return e(n)(C1)}};var oo=function(t){return function(e,n,r,a,o){return t(e)(n)(r)(a)(o)}};var Ue=function(t){return function(e){return function(n){return t(e,n)}}},sa=function(t){return function(e){return function(n){return function(r){return t(e,n,r)}}}},da=function(t){return function(e){return function(n){return function(r){return function(a){return t(e,n,r,a)}}}}},Yu=function(t){return function(e){return function(n){return function(r){return function(a){return function(o){return t(e,n,r,a,o)}}}}}};var If=function(){function t(a){return[a]}function e(a){return function(o){return[a,o]}}function n(a){return function(o){return function(u){return[a,o,u]}}}function r(a){return function(o){return a.concat(o)}}return function(a){return function(o){return function(u){return function(l){return function(i){function s(p,R){switch(R-p){case 0:return u([]);case 1:return o(t)(l(i[p]));case 2:return a(o(e)(l(i[p])))(l(i[p+1]));case 3:return a(a(o(n)(l(i[p])))(l(i[p+1])))(l(i[p+2]));default:var C=p+Math.floor((R-p)/4)*2;return a(o(r)(s(p,C)))(s(C,R))}}return s(0,i.length)}}}}}}();var cm=J(Q),Gt=function(t){return t.traverse};var fm=function(t){var e=Gt(t);return function(n){return e(n)(cm)}},De={traverse:function(t){var e=t.Apply0();return If(ut(e))(d(e.Functor0()))(y(t))},sequence:function(t){return fm(De)(t)},Functor0:function(){return _t},Foldable1:function(){return st}};var Uf=function(t){return function(e){return function(n){return function(r){return function(a){return function(o){for(var u=[],l=o;;){var i=a(l);if(t(i))return u;var s=e(i);u.push(n(s)),l=r(s)}}}}}}};var Hf=function(t){return function(e){return function(n){return function(r){return function(a){return function(o){for(var u=[],l=o;;){var i=a(l);u.push(n(i));var s=r(i);if(t(s))return u;l=e(s)}}}}}}};var Dm=_e();var al={unfoldr1:Hf(Ge)(Dm)(We)(Ae)};var wm=_e(),He=function(t){return t.unfoldr};var ll={unfoldr:Uf(Ge)(wm)(We)(Ae),Unfoldable10:function(){return al}};var bm=mt(Zo);var zf=sa(of);var fl=function(){return zf(E.create)}();var kf=function(){return Yu(nf)(c.create)(f.value)}(),sl=function(){return Ue(lf)},Cm=sl();var lt=function(t){return function(e){return df(lr(e))(t)()}},il=sa(rf),io=function(t){return function(e){return t<=0?{before:[],after:e}:{before:il(0)(t)(e),after:il(t)(pt(e))(e)}}};var Ra=function(t){return[t]};var dl=Ue(Kc);var co=function(t){return function(e){var n=pt(e);if(n<2)return e;if(dt)return pf(function(){var r=function(a){return Cm(e)(a)};return function(){var o=qu();return lr(r(0))(o)(),Pu(1)(n)(function(u){return function(){return lr(t)(o)(),bm(lr(r(u))(o))()}})(),o}}());throw new Error("Failed pattern match at Data.Array (line 623, column 21 - line 633, column 17): "+[n.constructor.name])}};var ye=function(){return da(tf)(c.create)(f.value)}();var pl=function(t){return function(e){return function(n){var r=function(a){return kf(t)(e(a))(n)};return kt(f.value)(r)(ye(n)(t))}}};var vl=function(t){return Ue(Zc)(Et(t))};var pr=ct(st);var fo=function(){return da(ef)(c.create)(f.value)}();var ml=function(t){var e=z(t);return function(n){return fo(function(r){return e(r)(n)})}},_l=function(t){var e=ml(t);return function(n){return function(r){return Ge(e(n)(r))}}};var gl=$(T(Ho)),Da=function(t){return gl(function(){var e=kt([])(Ra);return function(n){return e(t(n))}}())};var hl=Da(J(Q)),so=Ue(af);var ya=Ue(uf);var Tm=ie(or);var Jf=function(t){var e=T(bn(t)),n=ar(t),r=Tm(t);return function(a){return function(o){return function(u){return e(n(ye(u)(a)))(function(l){return e(r(o(l)))(function(i){return n(pl(a)(O(i))(u))})})}}}};var jf=function(t){return fl(dl(0)(pt(t)))(t)};var Mm=Gt(De),xm=Xu(st)(an),Lm=to(It)(st),Im=ie(or),Nm=J(Q);var Vf=function(t){var e=t.Applicative0(),n=y(e),r=t.Bind1().Apply0().Functor0(),a=pe(r),o=Mm(e),u=d(r),l=T(bn(t)),i=Im(t),s=ar(t),p=Jf(t),R=y(Qr(t));return function(C){var nt=Ze(C),H=Rn(C),rt=Ie(C),Nt=Le(C),Bn=en(C),mn=rn(C),tp=nn(C);return{position:O(n({x:0,y:0})),translate:function(Dt){return function(vt){return a(o(nt(Dt))(vt.layers))(function(de){return{dragIndex:vt.dragIndex,layers:de}})}},containsPoint:function(Dt){return function(vt){return u(xm)(o(H(Dt))(vt.layers))}},draw:function(Dt){return function(vt){return Lm(function(){var de=wt(Dt),_n=rt(Dt);return function(zn){return de(_n(zn))}}())(ur(vt.layers))}},dragStart:function(Dt){return function(vt){return u(Ft(vt))(wn(l(i(o(H({x:Dt.offsetX,y:Dt.offsetY}))(vt.layers)))(function(de){return l(s(fo(Nm)(de)))(function(_n){return l(s(ye(vt.layers)(_n)))(function(zn){return l(i(Nt(zn)))(function(So){return l(p(_n)(Bn({offsetX:Dt.offsetX-So.x,offsetY:Dt.offsetY-So.y}))(vt.layers))(function(ep){return R({dragIndex:new c(_n),layers:ep})})})})})})))}},drag:function(Dt){return function(vt){return u(Ft(vt))(wn(l(s(vt.dragIndex))(function(de){return l(s(ye(vt.layers)(de)))(function(_n){return l(i(Nt(_n)))(function(zn){return l(p(de)(mn({translateX:Dt.translateX-zn.x,translateY:Dt.translateY-zn.y}))(vt.layers))(function(So){return R({dragIndex:vt.dragIndex,layers:So})})})})})))}},dragEnd:function(Dt){return u(Ft({layers:Dt.layers,dragIndex:f.value}))(wn(l(s(Dt.dragIndex))(function(vt){return l(p(vt)(tp)(Dt.layers))(function(de){return R({dragIndex:f.value,layers:de})})})))}}}},Sm=function(t){return{layers:t,dragIndex:f.value}},Qf=Sm;var Rl=function(t){var e=y(t),n=tn(t);return{position:function(r){return e({x:r.rect.x,y:r.rect.y})},translate:function(r){return function(a){return e({fillStyle:a.fillStyle,dragOffset:a.dragOffset,rect:{width:a.rect.width,height:a.rect.height,x:a.rect.x+r.translateX,y:a.rect.y+r.translateY}})}},containsPoint:function(r){return function(a){return e(a.rect.x<=r.x&&r.x<=a.rect.x+a.rect.width&&a.rect.y<=r.y&&r.y<=a.rect.y+a.rect.height)}},draw:function(r){return function(a){return function(){return xe(r)(a.fillStyle)(),gc(r)(Du(r)(a.rect))()}}},dragStart:function(r){return function(a){return e({rect:a.rect,fillStyle:a.fillStyle,dragOffset:new c(r)})}},drag:function(r){return function(a){return n(Rl(t))(a.dragOffset)(r)(a)}},dragEnd:function(r){return e({rect:r.rect,fillStyle:r.fillStyle,dragOffset:f.value})}}};var Xf=function(t){return function(e){return{rect:t,fillStyle:e,dragOffset:f.value}}};var Wm=ke(Je),Dl=function(t){var e=t.Monad0(),n=e.Bind1(),r=T(n),a=Tt(t),o=Wm(n),u=y(e.Applicative0());return function(l){return function(i){return r(a(jt(i)))(function(s){return r(l(s))(function(p){return o(a(Zn(p)(i)))(function(){return u(p)})})})}}},Yf=function(t){var e=ze(t.Monad0().Bind1().Apply0().Functor0()),n=Dl(t);return function(r){return function(a){return e(void 0)(n(r)(a))}}};var Hm=Xt(Ye),$m=function(t){return t};var Fa=function(t){var e=t.Monad0().Bind1(),n=Xt(e),r=Tt(t),a=ze(e.Apply0().Functor0()),o=Dl(t);return function(u){var l=Le(u),i=Ze(u),s=Rn(u),p=en(u),R=rn(u),C=nn(u),nt=Ie(u);return{position:function(H){return n(l)(r(jt(H)))},translate:function(H){return function(rt){return a(rt)(o(i(H))(rt))}},containsPoint:function(H){return function(rt){return n(s(H))(r(jt(rt)))}},dragStart:function(H){return function(rt){return a(rt)(o(p(H))(rt))}},drag:function(H){return function(rt){return a(rt)(o(R(H))(rt))}},dragEnd:function(H){return a(H)(o(C)(H))},draw:function(H){return function(rt){return Hm(nt(H))(jt(rt))}}}}};var Kf=function(t){var e=Yf(t);return function(n){return function(r){return e(n)(r)}}};var wa=function(t){var e=d(t.Monad0().Bind1().Apply0().Functor0()),n=Tt(t);return function(r){return e($m)(n(on(r)))}};var et=function(t){return t};var ba=isFinite;function ts(t,e,n,r){var a=parseFloat(t);return e(a)?n(a):r}var Ca=function(t){return ts(t,ba,c.create,f.value)};function ns(t){return t.split(/\r\n|[\n\v\f\r\u0085\u2028\u2029]/)}function rs(t){return t.split(/[\u000a-\u000d\u0085\u2028\u2029\u0009\u0020\u00a0\u1680\u2000-\u200a\u202f\u205f\u3000]+/)}var o3=typeof Array.from=="function",Xm=typeof Symbol<"u"&&Symbol!=null&&typeof Symbol.iterator<"u"&&typeof String.prototype[Symbol.iterator]=="function",a3=typeof String.prototype.fromCodePoint=="function",Ym=typeof String.prototype.codePointAt=="function",os=function(t){return Ym?function(e){return e.codePointAt(0)}:t},as=function(t){return function(e){return function(n){return function(r){return function(a){return function(o){var u=o.length;if(a<0||a>=u)return n;if(Xm)for(var l=o[Symbol.iterator](),i=a;;--i){var s=l.next();if(s.done)return n;if(i===0)return e(r(s.value))}return t(a)(o)}}}}}};function cn(t){return t.charCodeAt(0)}function us(t){return String.fromCharCode(t)}var cs=je(Ir),fs=Te(Ir);var qe=function(t){return t.toEnum};var fn=function(t){return t.fromEnum};var xn=function(t){return function(e){return function(n){return t(e(n)+1|0)}}},Ln=function(t){return function(e){return function(n){return t(e(n)-1|0)}}};var yl=function(t){return t>=cn(cs)&&t<=cn(fs)?new c(us(t)):f.value},o_={succ:xn(yl)(cn),pred:Ln(yl)(cn),Ord0:function(){return zo}};var vo=function(){return{cardinality:cn(fs)-cn(cs)|0,toEnum:yl,fromEnum:cn,Bounded0:function(){return Ir},Enum1:function(){return o_}}}();var Fl=function(t){return t.join("")};var sn=function(t){return t.length};var In=function(t){return function(e){return e.substring(t)}};var dn=function(t){return function(e){if(t>=0&&t<e.length)return e.charAt(t);throw new Error("Data.String.Unsafe.charAt: Invalid index.")}};var s_=function(t,e,n){var r=0,a;return function(o){if(r===2)return a;if(r===1)throw new ReferenceError(t+" was needed before it finished initializing (module "+e+", line "+o+")",e,o);return r=1,a=n(),r=2,a}},mo=fn(vo);var d_=U(zt);var ps=function(t){return function(e){return(((t-55296|0)*1024|0)+(e-56320|0)|0)+65536|0}};var vs=function(t){return 56320<=t&&t<=57343},ms=function(t){return 55296<=t&&t<=56319},Ea=function(t){var e=sn(t);if(e===0)return f.value;if(e===1)return new c({head:mo(dn(0)(t)),tail:""});var n=mo(dn(1)(t)),r=mo(dn(0)(t)),a=ms(r)&&vs(n);return a?new c({head:ps(r)(n),tail:In(2)(t)}):new c({head:r,tail:In(1)(t)})};var p_=function(t){var e=mo(dn(0)(t)),n=ms(e)&&sn(t)>1;if(n){var r=mo(dn(1)(t)),a=vs(r);return a?ps(e)(r):e}return e},ds=os(p_);var bl={eq:function(t){return function(e){return t===e}}},Cl={compare:function(t){return function(e){return d_(t)(e)}},Eq0:function(){return bl}};var v_=function(t){return function(e){var n=t,r=!1,a;function o(u,l){var i=Ea(l);if(i instanceof c){var s=u===0;if(s)return r=!0,new c(i.value0.head);n=u-1|0,e=i.value0.tail;return}return r=!0,f.value}for(;!r;)a=o(n,e);return a}},_s=function(t){return function(e){return t<0?f.value:t===0&&e===""?f.value:t===0?new c(ds(e)):as(v_)(c.create)(f.value)(ds)(t)(e)}},m_={bottom:0,top:1114111,Ord0:function(){return Cl}},Nn=function(){return{cardinality:1114112,fromEnum:function(t){return t},toEnum:function(t){if(t>=0&&t<=1114111)return new c(t);if(dt)return f.value;throw new Error("Failed pattern match at Data.String.CodePoints (line 63, column 1 - line 68, column 26): "+[t.constructor.name])},Bounded0:function(){return m_},Enum1:function(){return __(0)}}}(),__=s_("enumCodePoint","Data.String.CodePoints",function(){return{succ:xn(qe(Nn))(fn(Nn)),pred:Ln(qe(Nn))(fn(Nn)),Ord0:function(){return Cl}}});var _o=function(t){return rs(t)};var go=function(t){return ns(t)};var Sn=t=>e=>()=>t.measureText(e);var xa=function(t){return t.actualBoundingBoxAscent+t.actualBoundingBoxDescent};var mr=Gt(De)(It),Ds=d(_t),E_=ro(st)(le),M_=ct(st),La=d(I),ws=no(Lr)(st);var x_=pe(_t),bs=w(ko),ys=eo(It)(st);var Cs=function(t){return function(e){return{position:e.position,maxWidth:e.maxWidth,fillStyle:e.fillStyle,fontName:e.fontName,fontSize:e.fontSize,fontStyle:e.fontStyle,fontWeight:e.fontWeight,align:e.align,baseline:e.baseline,lineHeight:e.lineHeight,letterSpacing:e.letterSpacing,dragOffset:e.dragOffset,context:e.context,text:t}}};var Ts=function(t){return function(e){return function(){var r=Sn(t)(e)();return{word:e,metrics:r}}}},Ia=function(t){return function(e){return function(){var r=Sn(t)(e)();return r.width}}},L_=function(t){return function(e){return function(){var r=Ia(t)(" ")(),a=mr(Ts(t))(_o(e))();return{words:co(new Y({width:r}))(Ds(k.create)(a)),width:E_(Ds(function(o){return o.metrics.width})(a))+r*et(pt(a)-1|0)}}}},I_=function(t){return function(e){return mr(L_(t))(go(e))}},N_=function(t){return function(e){return function(n){return function(){var a=mr(Ts(t))(_o(n))(),o=Ia(t)(" ")(),u=function(i){return function(s){if(i.value1.words.length===0)return new E(i.value0,{words:[new k(s)],width:s.metrics.width});var p=i.value1.width+o+s.metrics.width>e;return p?new E(lt(i.value0)(i.value1),{words:[new k(s)],width:s.metrics.width}):new E(i.value0,{words:lt(lt(i.value1.words)(new Y({width:o})))(new k(s)),width:i.value1.width+o+s.metrics.width})}},l=M_(u)(new E([],{words:[],width:0}))(a);return l.value1.words.length===0?l.value0:lt(l.value0)(l.value1)}}}},S_=function(t){return function(e){return function(n){return La(un)(mr(N_(t)(e))(go(n)))}}},xl=function(t){return function(e){return La(xa)(Sn(t)(e))}},P_=function(t){return function(e){return xl(t)(e.word)}};var A_=function(t){return function(e){var n=$(Da)(e.words)(function(r){if(r instanceof k)return new c(r.value0);if(r instanceof Y)return f.value;throw new Error("Failed pattern match at Sjablong.Layer.Text (line 144, column 50 - line 146, column 30): "+[r.constructor.name])});return La(function(){var r=Ft(0);return function(a){return r(ws(a))}}())(mr(P_(t))(n))}},W_=function(t){return function(e){return La(function(){var n=Ft(0);return function(r){return n(ws(r))}}())(mr(A_(t))(e))}};var U_=function(t){return function(e){return{word:e.word,metrics:e.metrics,position:{x:t.x,y:t.y+e.metrics.actualBoundingBoxAscent}}}},H_=function(t){return function(e){var n=function(a){return function(o){if(o instanceof k)return{offsetX:a.offsetX+o.value0.metrics.width,words:lt(a.words)(U_({x:t.x+a.offsetX,y:t.y})(o.value0))};if(o instanceof Y)return{offsetX:a.offsetX+o.value0.width,words:a.words};throw new Error("Failed pattern match at Sjablong.Layer.Text (line 239, column 5 - line 239, column 136): "+[a.constructor.name,o.constructor.name])}},r=pr(n)({offsetX:0,words:[]})(e.words);return{words:r.words,position:t,width:r.offsetX}}},$_=function(t){return function(e){return function(n){return function(r){return function(a){return function(o){return function(u){return{position:t,lines:x_(jf(u))(function(l){var i=function(){if(n instanceof qr||n instanceof Jt)return t.x;if(n instanceof Or||n instanceof Hr)return t.x-l.value1.width;if(n instanceof $r)return t.x-l.value1.width/2;throw new Error("Failed pattern match at Sjablong.Layer.Text (line 223, column 13 - line 228, column 55): "+[n.constructor.name])}(),s=o*et(pt(u))+(a-1)*e*et(pt(u)-1|0),p=function(){return r instanceof te?t.y+et(l.value0)*o*a:r instanceof hn?t.y-s+et(l.value0)*o*a:t.y+et(l.value0)*o*a}();return H_({x:i,y:p})(l.value1)}),lineHeight:o}}}}}}}},Fs=function(t){return wt(t.context)(function(){xe(t.context)(t.fillStyle)(),Vn(t.context)(t.fontStyle+(" "+(t.fontWeight+(" "+(bs(t.fontSize)+("px "+t.fontName))))))(),Yn(t.context)(Jt.value)(),Xn(t.context)(te.value)(),Dn(t.context)(t.letterSpacing)();var n=function(){if(t.maxWidth instanceof c)return S_(t.context)(t.maxWidth.value0)(t.text)();if(t.maxWidth instanceof f)return I_(t.context)(t.text)();throw new Error("Failed pattern match at Sjablong.Layer.Text (line 200, column 12 - line 202, column 54): "+[t.maxWidth.constructor.name])}(),r=W_(t.context)(n)();return $_(t.position)(t.fontSize)(t.align)(t.baseline)(t.lineHeight)(r)(n)})},Ll=function(t){var e=t.Monad0().Applicative0(),n=y(e),r=Tt(t),a=tn(e);return{position:function(o){return n(o.position)},translate:function(o){return function(u){return n({text:u.text,maxWidth:u.maxWidth,fillStyle:u.fillStyle,fontName:u.fontName,fontSize:u.fontSize,fontStyle:u.fontStyle,fontWeight:u.fontWeight,align:u.align,baseline:u.baseline,lineHeight:u.lineHeight,letterSpacing:u.letterSpacing,dragOffset:u.dragOffset,context:u.context,position:Kn(o)(u.position)})}},containsPoint:function(o){return function(u){return r(wt(u.context)(function(){var i=Fs(u)();return $(so)(i.lines)(function(s){return s.position.x<=o.x&&o.x<=s.position.x+s.width&&s.position.y<=o.y&&o.y<=s.position.y+i.lineHeight})}))}},dragStart:function(o){return function(u){return n({text:u.text,position:u.position,maxWidth:u.maxWidth,fillStyle:u.fillStyle,fontName:u.fontName,fontSize:u.fontSize,fontStyle:u.fontStyle,fontWeight:u.fontWeight,align:u.align,baseline:u.baseline,lineHeight:u.lineHeight,letterSpacing:u.letterSpacing,context:u.context,dragOffset:new c(o)})}},drag:function(o){return function(u){return a(Ll(t))(u.dragOffset)(o)(u)}},dragEnd:function(o){return n({text:o.text,position:o.position,maxWidth:o.maxWidth,fillStyle:o.fillStyle,fontName:o.fontName,fontSize:o.fontSize,fontStyle:o.fontStyle,fontWeight:o.fontWeight,align:o.align,baseline:o.baseline,lineHeight:o.lineHeight,letterSpacing:o.letterSpacing,context:o.context,dragOffset:f.value})},draw:function(o){return function(u){return wt(o)(function(){xe(o)(u.fillStyle)(),Vn(o)(u.fontStyle+(" "+(u.fontWeight+(" "+(bs(u.fontSize)+("px "+u.fontName))))))(),Yn(o)(Jt.value)(),Xn(o)(te.value)(),Dn(o)(u.letterSpacing)();var i=Fs(u)();return ys(i.lines)(function(s){return ys(s.words)(function(p){return Ur(o)(p.word)(p.position.x)(p.position.y)})})()})}}}};var Es=function(t){return t};var V_=Es;var Nl=function(t){return t};var Ns=function(t){if(pt(t)>0)return new c(V_(t));if(dt)return f.value;throw new Error("Failed pattern match at Data.Array.NonEmpty (line 161, column 1 - line 161, column 58): "+[t.constructor.name])};var gr=function(t){var e=null;return function(){return t===void 0||(e=t(),t=void 0),e}},Do=function(t){return t()};var ng=function(t,e,n){var r=0,a;return function(o){if(r===2)return a;if(r===1)throw new ReferenceError(t+" was needed before it finished initializing (module "+e+", line "+o+")",e,o);return r=1,a=n(),r=2,a}};var rg=Cn();var Oe=function(){function t(e,n,r){this.value0=e,this.value1=n,this.value2=r}return t.create=function(e){return function(n){return function(r){return new t(e,n,r)}}},t}(),Be=function(){function t(e,n){this.value0=e,this.value1=n}return t.create=function(e){return function(n){return new t(e,n)}},t}();var Ss=function(){function t(e){this.value0=e}return t.create=function(e){return new t(e)},t}(),Ps=function(){function t(e){this.value0=e}return t.create=function(e){return new t(e)},t}(),Al=function(){function t(e,n){this.value0=e,this.value1=n}return t.create=function(e){return function(n){return new t(e,n)}},t}();var As={defer:function(t){var e=gr(t);return function(n,r,a,o,u){var l=Do(e);return l(n,r,a,o,u)}}};var Pn={map:function(t){return function(e){return function(n,r,a,o,u){return r(function(l){return e(n,r,a,o,function(i,s){return r(function(p){return u(i,t(s))})})})}}}};var pn={alt:function(t){return function(e){return function(n,r,a,o,u){return r(function(l){return t(new Oe(n.value0,n.value1,!1),r,a,function(i,s){return r(function(p){return i.value2?o(i,s):e(n,r,a,o,u)})},u)})}}},Functor0:function(){return Pn}},og=function(t){return function(e,n,r,a,o){var u=t(e);return o(u.value1,u.value0)}};var ag=function(t){var e=t.Monad0(),n=d(e.Bind1().Apply0().Functor0()),r=y(e.Applicative0()),a=Se(t);return function(o){return function(u){var l=function(i){var s=!1,p;function R(C){var nt=C(void 0);if(nt instanceof Ss){i=nt.value0;return}if(nt instanceof Ps)return s=!0,n(Wt.create)(nt.value0);if(nt instanceof Al)return s=!0,r(new Ut(new E(nt.value1,nt.value0)));throw new Error("Failed pattern match at Parsing (line 160, column 13 - line 166, column 32): "+[nt.constructor.name])}for(;!s;)p=R(i);return p};return a(l)(function(i){return u(o,Ss.create,Ps.create,function(s,p){return new Al(s,new k(p))},function(s,p){return new Al(s,new Y(p))})})}}},Ws=og(function(t){return new E(t.value1,t)});var ug={index:0,line:1,column:1},lg=function(t){var e=d(t.Monad0().Bind1().Apply0().Functor0()),n=ag(t);return function(r){return function(a){var o=new Oe(r,ug,!1);return e(We)(n(o)(a))}}},ig=lg(Sc),Us=function(t){var e=ig(t);return function(n){return rg(e(n))}};var Sa=function(t){return function(e){return t.value2&&!e.value2?new Oe(e.value0,e.value1,!0):e}},vn={apply:function(t){return function(e){return function(n,r,a,o,u){return r(function(l){return t(n,r,a,o,function(i,s){return r(function(p){var R=Sa(n)(i);return e(R,r,a,o,function(C,nt){return r(function(H){return u(Sa(R)(C),s(nt))})})})})})}}},Functor0:function(){return Pn}};var hr={pure:function(t){return function(e,n,r,a,o){return o(e,t)}},Apply0:function(){return vn}};var An={bind:function(t){return function(e){return function(n,r,a,o,u){return r(function(l){return t(n,r,a,o,function(i,s){return r(function(p){var R=e(s);return R(Sa(n)(i),r,a,o,u)})})})}}},Apply0:function(){return vn}},cg=Xt(An);var Hs={Applicative0:function(){return hr},Bind1:function(){return An}};var Ul={throwError:function(t){return function(e,n,r,a,o){return a(e,t)}},Monad0:function(){return Hs}},fg=yn(Ul),sg=function(t){return function(e){return fg(new Be(t,e))}},Rr=function(t){return cg(sg(t))(Ws)};var Pa={tailRecM:function(t){return function(e){return function(n,r,a,o,u){var l=ng("loop","Parsing",function(){return function(s,p,R){var C=t(p);return C(s,r,a,o,function(nt,H){var rt=Sa(s)(nt);if(H instanceof Wt){var Nt=R===0;return Nt?r(function(Bn){return l(288)(rt,H.value0,30)}):l(290)(rt,H.value0,R-1|0)}if(H instanceof Ut)return u(rt,H.value0);throw new Error("Failed pattern match at Parsing (line 284, column 19 - line 292, column 46): "+[H.constructor.name])})}}),i=l(279);return i(n,e,30)}}},Monad0:function(){return Hs}};var Fe=function(){function t(){}return t.value=new t,t}(),we=function(){function t(e,n){this.value0=e,this.value1=n}return t.create=function(e){return function(n){return new t(e,n)}},t}();var Dr={foldr:function(t){return function(e){var n=function(){var a=function(o){return function(u){var l=o,i=!1,s;function p(R,C){if(C instanceof Fe)return i=!0,R;if(C instanceof we){l=new we(C.value0,R),u=C.value1;return}throw new Error("Failed pattern match at Data.List.Types (line 107, column 7 - line 107, column 23): "+[R.constructor.name,C.constructor.name])}for(;!i;)s=p(l,u);return s}};return a(Fe.value)}(),r=ct(Dr)($(t))(e);return function(a){return r(n(a))}}},foldl:function(t){var e=function(n){return function(r){var a=n,o=!1,u;function l(i,s){if(s instanceof Fe)return o=!0,i;if(s instanceof we){a=t(i)(s.value0),r=s.value1;return}throw new Error("Failed pattern match at Data.List.Types (line 111, column 12 - line 113, column 30): "+[s.constructor.name])}for(;!o;)u=l(a,r);return u}};return e},foldMap:function(t){var e=A(t.Semigroup0()),n=ft(t);return function(r){return ct(Dr)(function(a){var o=e(a);return function(u){return o(r(u))}})(n)}}};var Js=gt(pn),Og=Fn(As);var Bg=ae(vn);var zg=gi(vn);var js=function(t){return function(e){return Js(t)(Og(function(n){return Rr("Expected "+e(void 0))}))}},Hl=function(t){return function(e){return Js(t)(Rr("Expected "+e))}};var yr=function(t){return function(e,n,r,a,o){return t(e,n,r,function(u,l){return a(new Oe(u.value0,u.value1,e.value2),l)},o)}};var wo=function(t){return function(e){return function(n){return zg(Bg(t)(n))(e)}}};var ql=T(An),kg=Se(Pa),Jg=gt(pn),Aa=y(hr),jg=vl(Dr);var Gg=function(t){return ql($(kg)(Fe.value)(function(e){return Jg(ql(t)(function(n){return Aa(new Wt(new we(n,e)))}))(Aa(new Ut(e)))}))(function(e){return Aa(ur(jg(e)))})},Ol=function(t){return ql(Gg(t))(function(e){var n=Ns(e);if(n instanceof f)return Rr("Expected at least 1");if(n instanceof c)return Aa(n.value0);throw new Error("Failed pattern match at Parsing.Combinators.Array (line 55, column 3 - line 57, column 25): "+[n.constructor.name])})};var Bl=fn(Nn),Qg=Sr(Qo),Xg=_e(),Yg=qe(vo);var Kg=w(Jo);var zl=function(t){return function(e){return function(n){var r=Bl(e);if(r===10)return{index:t.index+1|0,line:t.line+1|0,column:1};if(r===13){var a=_s(0)(n);return a instanceof c&&Bl(a.value0)===10?{index:t.index+1|0,line:t.line,column:t.column}:{index:t.index+1|0,line:t.line+1|0,column:1}}return r===9?{index:t.index+1|0,line:t.line,column:(t.column+8|0)-Qg(t.column-1|0)(8)|0}:{index:t.index+1|0,line:t.line,column:t.column+1|0}}}},Zg=function(t){return function(e){return function(n){var r=t,a=e,o=!1,u;function l(i,s,p){var R=Ea(s);if(R instanceof f)return o=!0,i;if(R instanceof c){var C=function(){if(jn(R.value0.tail))return zl(i)(R.value0.head)(p);if(dt)return zl(i)(R.value0.head)(R.value0.tail);throw new Error("Failed pattern match at Parsing.String (line 165, column 7 - line 167, column 52): ")}();r=C,a=R.value0.tail,n=p;return}throw new Error("Failed pattern match at Parsing.String (line 161, column 36 - line 168, column 38): "+[R.constructor.name])}for(;!o;)u=l(r,a,n);return u}}};var kl=function(t){return oo(function(e){return function(n){return function(r){return function(a){return function(o){var u=Ea(e.value0);if(u instanceof f)return a(e,new Be("Unexpected EOF",e.value1));if(u instanceof c){var l=Bl(u.value0.head),i=l<0||l>65535;if(i)return a(e,new Be("Expected Char",e.value1));var s=Xg(Yg(l)),p=t(s);return p?o(new Oe(u.value0.tail,zl(e.value1)(u.value0.head)(u.value0.tail),!0),s):a(e,new Be("Predicate unsatisfied",e.value1))}throw new Error("Failed pattern match at Parsing.String (line 114, column 7 - line 129, column 75): "+[u.constructor.name])}}}}})};var Jl=oo(function(t){return function(e){return function(n){return function(r){return function(a){var o=jn(t.value0);return o?a(new Oe(t.value0,t.value1,!0),void 0):r(t,new Be("Expected EOF",t.value1))}}}}}),Vs=function(t){return oo(function(e){return function(n){return function(r){return function(a){return function(o){var u=t(e.value0);if(u instanceof k)return a(e,new Be(u.value0,e.value1));if(u instanceof Y)return o(new Oe(u.value0.remainder,Zg(e.value1)(u.value0.consumed)(u.value0.remainder),!jn(u.value0.consumed)),u.value0.value);throw new Error("Failed pattern match at Parsing.String (line 286, column 7 - line 290, column 121): "+[u.constructor.name])}}}}})};var jl=Vs(function(t){return new Y({value:t,consumed:t,remainder:""})});var Qt=function(t){return Hl(kl(function(e){return e===t}))(Kg(t))};var uh=w(su(Jo));var lh=_l(qo);var Ys=function(t){return js(kl($(lh)(t)))(function(e){return"none of "+uh(t)})};function Wa(t,e){var n={};for(var r in e)({}).hasOwnProperty.call(e,r)&&(n[r]=e[r]);for(var a in t)({}).hasOwnProperty.call(t,a)&&(n[a]=t[a]);return n}var Ua=function(){return function(){return function(t){return function(e){return Wa(t,e)}}}};var sh=w(ko),Ha=A(Ce),bo=pe(_t),nd=ct(st),Vl=d(I),rd=no(Lr)(st),Fr=Gt(De)(It),Ql=ro(st)(le),ee=d(_t);var ne=d(Pn),be=gt(pn),Oa=ae(vn),dh=Ua()(),Gl=eo(It)(st),od=ze(Pn);var Ba=function(){function t(){}return t.value=new t,t}(),ad=function(){function t(){}return t.value=new t,t}(),za=function(){function t(){}return t.value=new t,t}(),ud=function(){function t(){}return t.value=new t,t}();var ld=function(t){return t.text};var ka=function(t){return function(e){return function(n){var r=function(){if(n.weight instanceof Ba)return e.weight.normal;if(n.weight instanceof ad)return e.weight.bold;throw new Error("Failed pattern match at Sjablong.Layer.Text.Markup (line 224, column 14 - line 226, column 37): "+[n.weight.constructor.name])}(),a=function(){if(n.style instanceof za)return e.style.normal;if(n.style instanceof ud)return e.style.italic;throw new Error("Failed pattern match at Sjablong.Layer.Text.Markup (line 221, column 13 - line 223, column 39): "+[n.style.constructor.name])}();return Vn(t)(a+(" "+(r+(" "+(sh(e.size)+("px "+e.name))))))}}},id=function(t){return function(e){return{text:e.text,position:e.position,maxWidth:e.maxWidth,fillStyle:e.fillStyle,align:e.align,baseline:e.baseline,lineHeight:e.lineHeight,emptyLineHeight:e.emptyLineHeight,letterSpacing:e.letterSpacing,dragOffset:e.dragOffset,context:e.context,font:{name:e.font.name,style:e.font.style,weight:e.font.weight,size:t}}}};var ph=function(t){return jn(ld(t.fragment))},vh=function(t){return ya(ph)(t.word)},cd=function(t){return $(ya)(t.words)(function(e){if(e instanceof k)return vh(e.value0);if(e instanceof Y)return e.value0.width===0;throw new Error("Failed pattern match at Sjablong.Layer.Text.Markup (line 293, column 51 - line 295, column 36): "+[e.constructor.name])})};var fd=function(t){return function(e){var n=function(a){return function(o){var u=io(1)(t(o.text));if(u.before.length===1&&u.before[0]===""&&u.after.length===0)return{splits:a.splits,split:a.split};if(u.before.length===1&&u.after.length===0)return{splits:a.splits,split:lt(a.split)({style:o.style,weight:o.weight,text:u.before[0]})};if(u.before.length===1&&u.before[0]===""){var l=io(pt(u.after)-1|0)(u.after);return l.after.length===1&&l.after[0]===""?{splits:Ha(lt(a.splits)(a.split))(bo(l.before)(function(i){return[{style:o.style,weight:o.weight,text:i}]})),split:[]}:l.after.length===1?{splits:Ha(lt(a.splits)(a.split))(bo(l.before)(function(i){return[{style:o.style,weight:o.weight,text:i}]})),split:[{style:o.style,weight:o.weight,text:l.after[0]}]}:{splits:a.splits,split:a.split}}if(u.before.length===1){var l=io(pt(u.after)-1|0)(u.after);return l.after.length===1&&l.after[0]===""?{splits:Ha(lt(a.splits)(lt(a.split)({style:o.style,weight:o.weight,text:u.before[0]})))(bo(l.before)(function(s){return[{style:o.style,weight:o.weight,text:s}]})),split:[]}:l.after.length===1?{splits:Ha(lt(a.splits)(lt(a.split)({style:o.style,weight:o.weight,text:u.before[0]})))(bo(l.before)(function(s){return[{style:o.style,weight:o.weight,text:s}]})),split:[{style:o.style,weight:o.weight,text:l.after[0]}]}:{splits:a.splits,split:a.split}}return{splits:a.splits,split:a.split}}},r=nd(n)({splits:[],split:[]})(e);return lt(r.splits)(r.split)}},sd=fd(_o),Xl=function(t){return{text:t,style:za.value,weight:Ba.value}},mh=function(t){return function(e){return{fragment:t,metrics:e}}},_h=function(t){return function(e){return function(n){return wt(t)(function(){return ka(t)(e)(n)(),Ia(t)(n.text)()})}}},dd=function(t){return function(e){return _h(t)(e)({style:za.value,weight:Ba.value,text:" "})}},gh=function(t){return function(e){return function(n){return wt(t)(function(){return ka(t)(e)(n)(),xl(t)(n.text)()})}}},hh=function(t){return function(e){return function(n){return Vl(function(){var r=Ft(0);return function(a){return r(rd(a))}}())(Fr(gh(t)(e))(n))}}},Rh=function(t){return function(e){return function(n){return wt(t)(function(){return ka(t)(e)(n)(),Sn(t)(n.text)()})}}},Dh=function(t){return function(e){return function(n){return Vl(mh(n))(Rh(t)(e)(n))}}},pd=function(t){return function(e){return function(n){return function(){var a=Fr(Dh(t)(e))(n)(),o=Ql(ee(function(u){return u.metrics.width})(a));return{word:a,width:o}}}}},yh=function(t){return function(e){return function(n){return function(){var a=dd(t)(e)(),o=Fr(pd(t)(e))(sd(n))();return{words:co(new Y({width:a}))(ee(k.create)(o)),width:Ql(ee(function(u){return u.width})(o))+a*et(pt(o)-1|0)}}}}},Fh=function(t){return function(e){return function(n){return function(r){var a=sd(r);return function(){var u=Fr(pd(t)(e))(a)(),l=dd(t)(e)(),i=function(p){return function(R){if(p.value1.words.length===0)return new E(p.value0,{words:[new k(R)],width:R.width});var C=p.value1.width+l+R.width>n;return C?new E(lt(p.value0)(p.value1),{words:[new k(R)],width:R.width}):new E(p.value0,{words:lt(lt(p.value1.words)(new Y({width:l})))(new k(R)),width:p.value1.width+l+R.width})}},s=nd(i)(new E([],{words:[],width:0}))(u);return s.value1.words.length===0?s.value0:lt(s.value0)(s.value1)}}}}};var Co=function(){var t=ne(Nl);return function(e){return t(Ol(e))}}(),To=ne(function(t){return Xl(Fl(t))})(Co(Ys(["_","*"]))),vd=fd(go),wh=function(t){return function(e){return function(n){return function(r){return Vl(un)(Fr(Fh(t)(e)(n))(vd(r)))}}}},bh=function(t){return function(e){return{fragment:e.fragment,metrics:e.metrics,position:{x:t.x,y:t.y+e.metrics.actualBoundingBoxAscent}}}},Ch=function(t){return function(e){var n=function(o){return function(u){return{offsetX:o.offsetX+u.metrics.width,fragments:lt(o.fragments)(bh({x:t.x+o.offsetX,y:t.y})(u))}}},r=pr(n)({offsetX:0,fragments:[]})(e.word),a=Ft(0)(rd(ee(function(o){return xa(function(u){return u.metrics}(o))})(e.word)));return{fragments:r.fragments,position:t,width:r.offsetX,height:a}}},Th=function(t){return function(e){return function(n){return function(r){if(cd(r))return{words:[],position:t,width:0,height:n*e.size};if(dt){var a=function(u){return function(l){if(l instanceof k)return{offsetX:u.offsetX+l.value0.width,words:lt(u.words)(Ch({x:t.x+u.offsetX,y:t.y})(l.value0))};if(l instanceof Y)return{offsetX:u.offsetX+l.value0.width,words:u.words};throw new Error("Failed pattern match at Sjablong.Layer.Text.Markup (line 396, column 9 - line 399, column 68): "+[u.constructor.name,l.constructor.name])}},o=pr(a)({offsetX:0,words:[]})(r.words);return{words:o.words,position:t,width:o.offsetX,height:r.height}}throw new Error("Failed pattern match at Sjablong.Layer.Text.Markup (line 391, column 1 - line 391, column 101): "+[t.constructor.name,e.constructor.name,n.constructor.name,r.constructor.name])}}}},Eh=function(t){return function(e){return function(n){return function(r){return function(a){return function(o){return function(u){var l=Ql(ee(function(p){return p.height})(u))+(a-1)*e.size*et(pt(u)-1|0),i=function(p){return function(R){return{offsetY:p.offsetY+R.height,lines:function(){var C=function(){return r instanceof te?t.y+p.offsetY:r instanceof hn?t.y+p.offsetY-l:t.y+p.offsetY}(),nt=function(){if(n instanceof qr||n instanceof Jt)return t.x;if(n instanceof Or||n instanceof Hr)return t.x-R.width;if(n instanceof $r)return t.x-R.width/2;throw new Error("Failed pattern match at Sjablong.Layer.Text.Markup (line 376, column 20 - line 381, column 59): "+[n.constructor.name])}();return lt(p.lines)(Th({x:nt,y:C})(e)(o)(R))}()}}},s=pr(i)({offsetY:0,lines:[]})(u);return{lines:s.lines,position:t}}}}}}}},$a=function(t){return{text:t.text,weight:t.weight,style:ud.value}},Zs=be(yr(wo(Qt("_"))(Qt("_"))(ne($a)(To))))(be(To)(Oa(Qt("_"))(ne(function(t){return $a(Xl(t))})(jl)))),Mh=function(t){return t.fragment},xh=function(t){return ee(Mh)(t.word)},Lh=function(t){return ee(xh)(hl(ee(Qn(c.create)(O(f.value)))(t.words)))},Ih=function(t){return function(e){return function(n){return function(r){return function(){var o=hh(t)(e)(un(gl(Lh)(r)))();return bo(r)(function(u){return dh(u)({height:function(){var l=cd(u);return l?n*e.size:o}()})})}}}}},td=function(t){return wt(t.context)(function(){xe(t.context)(t.fillStyle)(),Yn(t.context)(Jt.value)(),Xn(t.context)(te.value)(),Dn(t.context)(t.letterSpacing)();var n=function(){if(t.maxWidth instanceof c)return wh(t.context)(t.font)(t.maxWidth.value0)(t.text)();if(t.maxWidth instanceof f)return Fr(yh(t.context)(t.font))(vd(t.text))();throw new Error("Failed pattern match at Sjablong.Layer.Text.Markup (line 352, column 13 - line 354, column 99): "+[t.maxWidth.constructor.name])}(),r=Ih(t.context)(t.font)(t.emptyLineHeight)(n)();return Eh(t.position)(t.font)(t.align)(t.baseline)(t.lineHeight)(t.emptyLineHeight)(r)})},Yl=function(t){var e=t.Monad0().Applicative0(),n=y(e),r=Tt(t),a=tn(e);return{position:function(o){return n(o.position)},translate:function(o){return function(u){return n({text:u.text,maxWidth:u.maxWidth,fillStyle:u.fillStyle,font:u.font,align:u.align,baseline:u.baseline,lineHeight:u.lineHeight,emptyLineHeight:u.emptyLineHeight,letterSpacing:u.letterSpacing,dragOffset:u.dragOffset,context:u.context,position:Kn(o)(u.position)})}},containsPoint:function(o){return function(u){return r(wt(u.context)(function(){var i=td(u)();return $(so)(i.lines)(function(s){return s.position.x<=o.x&&o.x<=s.position.x+s.width&&s.position.y<=o.y&&o.y<=s.position.y+s.height})}))}},dragStart:function(o){return function(u){return n({text:u.text,position:u.position,maxWidth:u.maxWidth,fillStyle:u.fillStyle,font:u.font,align:u.align,baseline:u.baseline,lineHeight:u.lineHeight,emptyLineHeight:u.emptyLineHeight,letterSpacing:u.letterSpacing,context:u.context,dragOffset:new c(o)})}},drag:function(o){return function(u){return a(Yl(t))(u.dragOffset)(o)(u)}},dragEnd:function(o){return n({text:o.text,position:o.position,maxWidth:o.maxWidth,fillStyle:o.fillStyle,font:o.font,align:o.align,baseline:o.baseline,lineHeight:o.lineHeight,emptyLineHeight:o.emptyLineHeight,letterSpacing:o.letterSpacing,context:o.context,dragOffset:f.value})},draw:function(o){return function(u){return wt(o)(function(){xe(o)(u.fillStyle)(),Yn(o)(Jt.value)(),Xn(o)(te.value)(),Dn(o)(u.letterSpacing)();var i=td(u)();return Gl(i.lines)(function(s){return Gl(s.words)(function(p){return Gl(p.fragments)(function(R){return function(){return ka(o)(u.font)(R.fragment)(),Ur(o)(ld(R.fragment))(R.position.x)(R.position.y)()}})})})()})}}}},qa=function(t){return{text:t.text,style:t.style,weight:ad.value}},Nh=be(yr(wo(Qt("*"))(Qt("*"))(ne(ee(qa))(Co(Zs)))))(Oa(Qt("*"))(be(od([])(Jl))(ne(ee(qa))(Co(Zs))))),ed=be(yr(wo(Qt("*"))(Qt("*"))(ne(qa)(To))))(be(To)(Oa(Qt("*"))(ne(function(t){return qa(Xl(t))})(jl)))),Sh=be(yr(wo(Qt("_"))(Qt("_"))(ne(ee($a))(Co(ed)))))(Oa(Qt("_"))(be(od([])(Jl))(ne(ee($a))(Co(ed))))),Ph=ne(function(t){return un(Nl(t))})(Ol(be(Sh)(be(Nh)(ne(Ra)(To)))));var Kl=function(t){return function(e){var n=Us(t)(Ph);if(n instanceof Y)return{position:e.position,maxWidth:e.maxWidth,fillStyle:e.fillStyle,font:e.font,align:e.align,baseline:e.baseline,lineHeight:e.lineHeight,emptyLineHeight:e.emptyLineHeight,letterSpacing:e.letterSpacing,dragOffset:e.dragOffset,context:e.context,text:n.value0};if(n instanceof k)return{position:e.position,maxWidth:e.maxWidth,fillStyle:e.fillStyle,font:e.font,align:e.align,baseline:e.baseline,lineHeight:e.lineHeight,emptyLineHeight:e.emptyLineHeight,letterSpacing:e.letterSpacing,dragOffset:e.dragOffset,context:e.context,text:[{text:t,style:za.value,weight:Ba.value}]};throw new Error("Failed pattern match at Sjablong.Layer.Text.Markup (line 180, column 37 - line 182, column 106): "+[n.constructor.name])}};var _d=function(t){return t};var Ah={mapLayerWrapper:function(t){return function(e){var n=d(e.Bind1().Apply0().Functor0());return function(r){return function(a){return n(_d)(r(a))}}}}},Wh=Dc(Ah);var gd=function(t){var e=y(t.Applicative0());return function(n){var r=Le(n),a=Rn(n),o=Ie(n);return{position:function(u){return r(u)},translate:function(){var u=Wh(n)(t),l=Ze(n);return function(i){return u(l(i))}}(),containsPoint:function(u){return function(l){return a(u)(l)}},dragStart:O(e),drag:O(e),dragEnd:e,draw:function(u){return function(l){return o(u)(l)}}}}};var Wn=_d;var Un=function(t){return function(e){return function(){return e[t]}}},Hh=Un("URL"),$h=Un("documentURI"),qh=Un("origin"),Oh=Un("compatMode"),Bh=Un("characterSet"),zh=Un("contentType");var kh=Un("documentElement");function Zl(t){return function(e){return function(){return e.createElement(t)}}}function hd(t,e,n){return t==null?e:n(t)}var tt=function(t){return hd(t,f.value,c.create)};function Rd(t,e,n,r){if(typeof window<"u"){var a=window[n];if(a!=null&&r instanceof a)return e(r)}for(var o=r;o!=null;){var u=Object.getPrototypeOf(o),l=u.constructor.name;if(l===n)return e(r);if(l==="Object")return t;o=u}return t}var g=function(t){return function(e){return Rd(f.value,c.create,t,e)}};var Ja=function(t){return function(e){return e[t]}},Yh=Ja("namespaceURI"),Kh=Ja("prefix"),Zh=Ja("localName"),t0=Ja("tagName");function ja(t){return function(e){return function(n){return function(){n.setAttribute(t,e)}}}}function ti(t){return function(){var e=t.getBoundingClientRect();return{top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.width,height:e.height,x:e.x,y:e.y}}}var Ga=function(t){return function(e){return function(){return e[t]}}},n0=Ga("children"),r0=Ga("firstElementChild"),o0=Ga("lastElementChild"),a0=Ga("childElementCount");var re=v;var fe=function(t){return function(e){return function(){return e[t]}}};var f0=fe("baseURI"),s0=fe("ownerDocument"),d0=fe("parentNode"),p0=fe("parentElement");var v0=fe("childNodes"),m0=fe("firstChild"),_0=fe("lastChild"),g0=fe("previousSibling"),h0=fe("nextSibling"),R0=fe("nodeValue");var D0=fe("textContent");function yd(t){return function(e){return function(){return e.getElementById(t)}}}var E0=d(I),Hn=function(t){var e=E0(tt),n=yd(t);return function(r){return e(n(r))}};function $t(t){return function(){return function(e){return t(e)()}}}function qt(t){return function(e){return function(n){return function(r){return function(){return r.addEventListener(t,e,n)}}}}}var Fd=v;function wd(t){return function(e){return e.item(t)}}var W0=d(it),U0=function(t){var e=wd(t);return function(n){return tt(e(n))}},bd=function(t){var e=He(t);return function(n){return e(function(r){return W0($(E.create)(r+1|0))(U0(r)(n))})(0)}};function ei(t){return function(){return URL.createObjectURL(t)}}var ni=function(){return window};var $n=v;var Cd=v,Td=v;function Ed(t,e,n){var r=Object.prototype.toString.call(n);return r.indexOf("[object HTML")===0&&r.indexOf("Element]")===r.length-8?e(n):t}function ri(t){return function(){return t.click()}}function oi(t){return function(){return t.offsetWidth}}function ai(t){return function(){return t.offsetHeight}}var Md=v;var ui=function(t){return Ed(f.value,c.create,t)};function Id(t){return function(){return t.files}}function wr(t){return function(){return t.value}}var wR=d(I);var Va=g("HTMLInputElement");var li=function(){var t=wR(tt);return function(e){return t(Id(e))}}();function Qa(t){return function(){return t.value}}var Sd=g("HTMLTextAreaElement");function ii(t){return function(){return t.document}}function Eo(t){return t.clientX}function Mo(t){return t.clientY}function xo(t){return t.touches}var Xa=g("TouchEvent");function Pd(t,e){return e.item(t)}var Ya=function(t){return function(e){return tt(Pd(t,e))}};function Lo(t){return t.clientX}function Io(t){return t.clientY}var Ka=g("MouseEvent");var se=y(It),t2=ke(Je),No=Fa(At)(Ko(I)),e2=Ie(No),Cr=Le(No),Ad=en(No),tu=rn(No),Wd=nn(No),fi=bn(Pt),br=T(fi),ci=Xt(fi),Za=ar(Pt),qn=ie(or)(Pt),Ud=t2(fi),Hd=Xt(Ye),$d=y(Qr(Pt)),n2=wa(At),r2=Ua()(),On=Kf(At),o2=bd(ll),Tr=function(t){return function(e){return function(n){return function(){var a=ti(Md(e))(),o=oi(e)(),u=ai(e)(),l=Ar(t)(),i=Wr(t)();return{x:(n.x-a.left)*l/o,y:(n.y-a.top)*i/u}}}}},oe=function(t){return function(){var n=Pr(t.canvas)(),r=_c(t.canvas)();return yu(n)({x:0,y:0,width:r.width,height:r.height})(),wt(n)(e2(n)(t.layer))()}},a2=function(t){return $t(function(e){var n=Xa(e);if(n instanceof f)return se(void 0);if(n instanceof c){var r=Ya(0)(xo(n.value0));if(r instanceof f)return oe(t);if(r instanceof c)return function(){var o=Cr(t.layer)(),u=Tr(t.canvas)(t.canvasHtmlElement)({x:et(Eo(r.value0)),y:et(Mo(r.value0))})(),l={offsetX:u.x-o.x,offsetY:u.y-o.y};return Ad(l)(t.layer)(),oe(t)()};throw new Error("Failed pattern match at Sjablong.Main (line 200, column 22 - line 210, column 22): "+[r.constructor.name])}throw new Error("Failed pattern match at Sjablong.Main (line 198, column 63 - line 210, column 22): "+[n.constructor.name])})},u2=function(t){return $t(function(e){var n=Xa(e);if(n instanceof f)return se(void 0);if(n instanceof c){var r=Ya(0)(xo(n.value0));if(r instanceof f)return oe(t);if(r instanceof c)return function(){var o=Cr(t.layer)(),u=Tr(t.canvas)(t.canvasHtmlElement)({x:et(Eo(r.value0)),y:et(Mo(r.value0))})(),l={translateX:u.x-o.x,translateY:u.y-o.y};return tu(l)(t.layer)(),oe(t)()};throw new Error("Failed pattern match at Sjablong.Main (line 228, column 22 - line 238, column 22): "+[r.constructor.name])}throw new Error("Failed pattern match at Sjablong.Main (line 226, column 62 - line 238, column 22): "+[n.constructor.name])})},l2=function(t){return $t(function(e){var n=Xa(e);if(n instanceof f)return se(void 0);if(n instanceof c){var r=Ya(0)(xo(n.value0));if(r instanceof f)return oe(t);if(r instanceof c)return function(){var o=Cr(t.layer)(),u=Tr(t.canvas)(t.canvasHtmlElement)({x:et(Eo(r.value0)),y:et(Mo(r.value0))})(),l={translateX:u.x-o.x,translateY:u.y-o.y};return tu(l)(t.layer)(),Wd(t.layer)(),oe(t)()};throw new Error("Failed pattern match at Sjablong.Main (line 257, column 22 - line 268, column 22): "+[r.constructor.name])}throw new Error("Failed pattern match at Sjablong.Main (line 255, column 61 - line 268, column 22): "+[n.constructor.name])})},qd=function(t){return function(e){return wn(br(ci(Za)(qn(mc(t))))(function(n){return Ud(qn(vc(n)(e)))(function(){return br(qn(Hd(ii)(ni)))(function(r){return br(ci(Za)(qn(Hn(t)($n(r)))))(function(a){return br(Za(ui(a)))(function(o){return $d({canvas:n,canvasElement:a,canvasHtmlElement:o,document:r})})})})})}))}},Od=function(t){var e=ge(t);return function(n){return function(r){return function(){var o=n2(e(r))();return r2(n)({layer:o})}}}},i2=function(t){return $t(function(e){var n=Ka(e);if(n instanceof f)return se(void 0);if(n instanceof c)return function(){var a=Cr(t.layer)(),o=Tr(t.canvas)(t.canvasHtmlElement)({x:et(Lo(n.value0)),y:et(Io(n.value0))})(),u={translateX:o.x-a.x,translateY:o.y-a.y};return tu(u)(t.layer)(),Wd(t.layer)(),oe(t)()};throw new Error("Failed pattern match at Sjablong.Main (line 241, column 60 - line 252, column 20): "+[n.constructor.name])})},c2=function(t){return $t(function(e){var n=Ka(e);if(n instanceof f)return se(void 0);if(n instanceof c)return function(){var a=Cr(t.layer)(),o=Tr(t.canvas)(t.canvasHtmlElement)({x:et(Lo(n.value0)),y:et(Io(n.value0))})(),u={translateX:o.x-a.x,translateY:o.y-a.y};return tu(u)(t.layer)(),oe(t)()};throw new Error("Failed pattern match at Sjablong.Main (line 213, column 62 - line 223, column 20): "+[n.constructor.name])})},f2=function(t){return $t(function(e){var n=Ka(e);if(n instanceof f)return se(void 0);if(n instanceof c)return function(){var a=Cr(t.layer)(),o=Tr(t.canvas)(t.canvasHtmlElement)({x:et(Lo(n.value0)),y:et(Io(n.value0))})(),u={offsetX:o.x-a.x,offsetY:o.y-a.y};return Ad(u)(t.layer)(),oe(t)()};throw new Error("Failed pattern match at Sjablong.Main (line 185, column 62 - line 195, column 20): "+[n.constructor.name])})},s2=function(t){return $t(function(e){return oe(t)})};var Bd=function(t){return function(e){return function(n){return wn(function(){var r=$n(n.document);return br(ci(Za)(qn(Hn(t)(r))))(function(a){return br(qn($t(function(o){return function(){var l=gu(n.canvas)(),i=Zl("a")(Td(n.document))();ja("href")(l)(i)(),ja("download")(e)(i)();var s=ui(i);if(s instanceof c)return ri(s.value0)();throw new Error("Failed pattern match at Sjablong.Main (line 150, column 9 - line 150, column 53): "+[s.constructor.name])}})))(function(o){return Ud(qn(qt("click")(o)(!1)(re(a))))(function(){return $d(a)})})})}())}}};var d2=function(t){return function(e){return function(n){return function(r){return function(){var o=Hn(e)($n(t.document))();if(o instanceof c){var u=Sd(o.value0);if(u instanceof c){var l=Qa(u.value0)();On(r(l))(n)();var i=$t(function(s){return function(){var R=Qa(u.value0)();return On(r(R))(n)()}})();return qt("input")(i)(!1)(re(o.value0))()}throw new Error("Failed pattern match at Sjablong.Main (line 304, column 7 - line 304, column 55): "+[u.constructor.name])}throw new Error("Failed pattern match at Sjablong.Main (line 303, column 3 - line 303, column 79): "+[o.constructor.name])}}}}},si=function(t){return function(e){return function(n){return function(r){return d2(t)(e)(n)(function(a){return function(o){return function(u){return se(o(u))}}(r(a))})}}}};var zd=function(t){return function(e){return function(n){return function(r){return function(){var o=Hn(e)($n(t.document))();if(o instanceof c){var u=Va(o.value0);if(u instanceof c){var l=wr(u.value0)();(function(){var s=Ca(l);if(s instanceof c)return On(r(s.value0))(n)();if(s instanceof f)return void 0;throw new Error("Failed pattern match at Sjablong.Main (line 357, column 3 - line 359, column 25): "+[s.constructor.name])})();var i=$t(function(s){return function(){var R=wr(u.value0)(),C=Ca(R);if(C instanceof c)return On(r(C.value0))(n)();if(C instanceof f)return void 0;throw new Error("Failed pattern match at Sjablong.Main (line 363, column 5 - line 365, column 27): "+[C.constructor.name])}})();return qt("input")(i)(!1)(re(o.value0))()}throw new Error("Failed pattern match at Sjablong.Main (line 354, column 7 - line 354, column 52): "+[u.constructor.name])}throw new Error("Failed pattern match at Sjablong.Main (line 353, column 3 - line 353, column 79): "+[o.constructor.name])}}}}},p2=function(t){return function(e){return function(n){return function(r){return zd(t)(e)(n)(function(a){return function(o){return function(u){return se(o(u))}}(r(a))})}}}};var kd=function(t){var e=Rc(t);return function(n){return function(r){return function(a){return function(){var u=on(1)();return zd(n)(r)(a)(function(l){return function(i){return function(){var p=jt(u)();return Zn(l)(u)(),e(l/p)(i)()}}})()}}}}},Jd=function(t){return function(e){return function(n){return p2(t)(e)(n)(id)}}},v2=function(t){return function(e){return function(n){return function(r){return function(){var o=Hn(e)($n(t.document))();if(o instanceof c){var u=Va(o.value0);if(u instanceof c){var l=wr(u.value0)();On(r(l))(n)();var i=$t(function(s){return function(){var R=wr(u.value0)();return On(r(R))(n)()}})();return qt("input")(i)(!1)(re(o.value0))()}throw new Error("Failed pattern match at Sjablong.Main (line 288, column 7 - line 288, column 52): "+[u.constructor.name])}throw new Error("Failed pattern match at Sjablong.Main (line 287, column 3 - line 287, column 79): "+[o.constructor.name])}}}}},jd=function(t){return function(e){return function(n){return function(r){return v2(t)(e)(n)(function(a){return function(o){return function(u){return se(o(u))}}(r(a))})}}}},m2=function(t){return function(e){return function(n){return function(r){return function(){var o=Hn(e)($n(t.document))();if(o instanceof c){var u=Va(o.value0);if(u instanceof c){var l=function(p){if(p instanceof f)return se(void 0);if(p instanceof c){var R=ye(o2(p.value0))(0);if(R instanceof f)return se(void 0);if(R instanceof c)return On(r(R.value0))(n);throw new Error("Failed pattern match at Sjablong.Main (line 393, column 24 - line 395, column 54): "+[R.constructor.name])}throw new Error("Failed pattern match at Sjablong.Main (line 391, column 26 - line 395, column 54): "+[p.constructor.name])},i=li(u.value0)();l(i)();var s=$t(function(p){return Hd(l)(li(u.value0))})();return qt("change")(s)(!1)(re(o.value0))()}throw new Error("Failed pattern match at Sjablong.Main (line 388, column 7 - line 388, column 52): "+[u.constructor.name])}throw new Error("Failed pattern match at Sjablong.Main (line 387, column 3 - line 387, column 79): "+[o.constructor.name])}}}}};var _2=function(t){return function(e){return function(n){return function(r){return m2(t)(e)(n)(function(a){return r(Fd(a))})}}}};var Gd=function(t){return function(e){return function(n){return function(r){return _2(t)(e)(n)(function(a){return function(o){return function(){var l=ei(a)();return r(l)(o)()}}})}}}},Vd=function(t){return function(){var n=f2(t)(),r=c2(t)(),a=i2(t)(),o=a2(t)(),u=u2(t)(),l=l2(t)(),i=s2(t)();return qt("mousedown")(n)(!1)(re(t.canvasElement))(),qt("mousemove")(r)(!1)(re(t.canvasElement))(),qt("mouseup")(a)(!1)(re(t.canvasElement))(),qt("touchstart")(o)(!1)(re(t.canvasElement))(),qt("touchmove")(u)(!1)(re(t.canvasElement))(),qt("touchend")(l)(!1)(re(t.canvasElement))(),qt("input")(i)(!1)(Cd(t.document))()}};var Qd=Ec(At),h2=Xt(Ye),eu=wa(At),R2=Mc(At),D2=xc(At),y2=kd(Tc(At)),ou=gd(Pt),Kd=Lu(At),Xd=ge(ou(Kd)),di=Fa(At),F2=ge(ou(di(Ll(At)))),Yd=ge(ou(di(Yl(At)))),w2=ge(di(Kd)),b2=ge(ou(Rl(It))),C2=Od(Vf(Pt)(Ko(I))),bt=2;var T2=function(){return{width:1080,height:1080*5/4}}(),pi=St(xr()(gn({reflectSymbol:function(){return"height"}})()(gn({reflectSymbol:function(){return"width"}})()(Mr)(le))(le)))({width:bt,height:bt})(T2),nu=function(){return pi.height}(),ru=function(){return pi.width}(),Zd=mt(I)(function(){var e=qd("canvas")(pi)();if(e instanceof c){var n=Pr(e.value0.canvas)(),r=Qd("./img/guillotine2x.png")({x:60*bt,y:60*bt})({scaleX:(1560+2*60)/1560,scaleY:1})(Br.value)(),a=Qd("./img/jacobinlogo80x200.png")({x:ru-100*bt,y:nu-160*bt})({scaleX:1,scaleY:1})(Br.value)(),o=h2(eu)(R2({x:0,y:0})({scaleX:1,scaleY:1})(Br.value))();Gd(e.value0)("image")(o)(D2)(),y2(e.value0)("image-size")(o)();var u=eu({text:[],lineHeight:1.1,position:{x:60*bt,y:150*bt},fillStyle:"#f00",font:{name:"Oswald",style:{normal:"normal",italic:"italic"},weight:{normal:"500",bold:"700"},size:90*bt},align:Jt.value,baseline:te.value,letterSpacing:"-3px",emptyLineHeight:.25,dragOffset:f.value,maxWidth:new c(ru-2*60*bt),context:n})();si(e.value0)("bodytext")(u)(Kl)(),Jd(e.value0)("bodytext-size")(u)();var l=eu({text:"AUTEUR",lineHeight:.95,position:{x:60*bt,y:nu-170*bt},fillStyle:"#f00",fontName:"Oswald",fontStyle:"normal",fontWeight:"400",fontSize:50*bt,align:Jt.value,baseline:hn.value,letterSpacing:"-3px",dragOffset:f.value,maxWidth:f.value,context:n})();jd(e.value0)("author")(l)(function(C){return Cs(Vo(C))})();var i=eu({text:[],lineHeight:.9,position:{x:60*bt,y:nu-160*bt},maxWidth:new c(ru-4*60*bt),fillStyle:"#f00",font:{name:"Oswald",style:{normal:"normal",italic:"italic"},weight:{normal:"700",bold:"700"},size:50*bt},align:Jt.value,baseline:te.value,letterSpacing:"-2px",emptyLineHeight:.25,dragOffset:f.value,context:n})();si(e.value0)("title")(i)(Kl)();var s=Qf([Xd(Wn(r)),Xd(Wn(a)),F2(Wn(l)),Yd(Wn(i)),Yd(Wn(u)),w2(o),b2(Wn(Xf({x:0,y:0,width:ru,height:nu})("#fff")))]),p=C2(e.value0)(s)();oe(p)(),Vd(p)();var R=Bd("download")("jacobin-tekst.png")(p)();if(R instanceof c)return void 0;throw new Error("Failed pattern match at Jacobin.TextSlide (line 138, column 3 - line 138, column 69): "+[R.constructor.name])}throw new Error("Failed pattern match at Jacobin.TextSlide (line 43, column 3 - line 43, column 72): "+[e.constructor.name])});Zd();})();

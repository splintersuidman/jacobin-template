/* Generated by Spago v0.93.44 */
(()=>{var Bo=function(n){return function(r){for(var e=r.length,t=new Array(e),u=0;u<e;u++)t[u]=n(r[u]);return t}};var ve={compose:function(n){return function(r){return function(e){return n(r(e))}}}};var R=function(n){return n.identity},k={identity:function(n){return n},Semigroupoid0:function(){return ve}};var fn=function(n){return function(r){return function(e){return n(e)(r)}}},U=function(n){return function(r){return n}};var l=function(n){return n.map},ut=function(n){var r=l(n);return function(e){return function(t){return r(t)(e)}}},rn=function(n){return l(n)(U(void 0))};var vr=function(n){var r=l(n);return function(e){return r(U(e))}};var mn={map:Bo};var G=function(n){return n.append};var Li=R(k);var an=function(n){return n.apply};var qr=function(n){var r=an(n),e=l(n.Functor0());return function(t){return function(u){return r(e(U(Li))(t))(u)}}};var y=function(n){return n.pure};var Or=function(n){var r=an(n.Apply0()),e=y(n);return function(t){return function(u){return r(e(t))(u)}}};var Ri=Number.POSITIVE_INFINITY,Pi=Number.NEGATIVE_INFINITY;var Wi=function(n){return function(r){return function(e){return function(t){return function(u){return t<u?n:t===u?r:e}}}}};var Vo=Wi;var Ui=function(n){return function(r){return n===r}};var Go=Ui;var jo={eq:Go};var J=function(n){return n.eq};var w=function(){function n(){}return n.value=new n,n}(),F=function(){function n(){}return n.value=new n,n}(),$=function(){function n(){}return n.value=new n,n}();var Br={eq:function(n){return function(r){return n instanceof w&&r instanceof w||n instanceof F&&r instanceof F||n instanceof $&&r instanceof $}}};var st=function(){return{compare:Vo(w.value)($.value)(F.value),Eq0:function(){return jo}}}();var q=function(n){return n.compare};var zo=function(n){var r=n.toString();return isNaN(r+".0")?r:r+".0"};var Qo={show:zo};var N=function(n){return n.show};var uf=R(k),f=function(){function n(){}return n.value=new n,n}(),i=function(){function n(r){this.value0=r}return n.create=function(r){return new n(r)},n}();var tr=function(n){return function(r){return function(e){if(e instanceof f)return n;if(e instanceof i)return r(e.value0);throw new Error("Failed pattern match at Data.Maybe (line 237, column 1 - line 237, column 51): "+[n.constructor.name,r.constructor.name,e.constructor.name])}}};var ln={map:function(n){return function(r){return r instanceof i?new i(n(r.value0)):f.value}}};var gn=function(n){return tr(n)(uf)};var ye=function(n){return n.toUpperCase()};var br=function(n){return function(r){return r.join(n)}};var Xo=function(n){return function(){return n}},Yo=function(n){return function(r){return function(){return r(n())()}}};var sf=typeof Array.prototype.flatMap=="function"?function(n){return function(r){return n.flatMap(r)}}:function(n){return function(r){for(var e=[],t=n.length,u=0;u<t;u++)for(var o=r(n[u]),a=o.length,s=0;s<a;s++)e.push(o[s]);return e}};var or=function(n){return n.discard};var S=function(n){return n.bind},$n=function(n){return fn(S(n))};var ar={discard:function(n){return S(n)}};var Ko=function(n){var r=S(n.Bind1()),e=y(n.Applicative0());return function(t){return function(u){return r(u)(function(o){return e(t(o))})}}},Vr=function(n){var r=S(n.Bind1()),e=y(n.Applicative0());return function(t){return function(u){return r(t)(function(o){return r(u)(function(a){return e(o(a))})})}}};var sn=function(n){return n.mempty};var na=function(n,r,e){var t=0,u;return function(o){if(t===2)return u;if(t===1)throw new ReferenceError(n+" was needed before it finished initializing (module "+r+", line "+o+")",r,o);return t=1,u=e(),t=2,u}},cn={Applicative0:function(){return dn},Bind1:function(){return hr}},hr={bind:Yo,Apply0:function(){return dt(0)}},dn={pure:Xo,Apply0:function(){return dt(0)}},ra=na("functorEffect","Effect",function(){return{map:Or(dn)}}),dt=na("applyEffect","Effect",function(){return{apply:Vr(cn),Functor0:function(){return ra(0)}}}),E=ra(20),ea=dt(23);var Fn={liftEffect:R(k),Monad0:function(){return cn}},Dn=function(n){return n.liftEffect};function ta(n){return function(r){return function(e){return function(){var t=new Image;t.src=n,t.addEventListener("load",function(){e(t)()},!1),t.addEventListener("error",function(){r()},!1)}}}}function oa(n,r,e){return function(){var t=document.getElementById(n);return t&&t instanceof HTMLCanvasElement?r(t):e}}function jr(n){return function(){return n.getContext("2d")}}function zr(n){return function(){return n.width}}function Qr(n){return function(){return n.height}}function _t(n){return function(r){return function(){n.width=r}}}function vt(n){return function(r){return function(){n.height=r}}}function gt(n){return function(){return n.toDataURL()}}function Cr(n){return function(r){return function(){n.fillStyle=r}}}function aa(n){return function(r){return function(){n.globalCompositeOperation=r}}}function Dt(n){return function(){n.beginPath()}}function yt(n){return function(){n.fill()}}function Tt(n){return function(r){return function(){n.rect(r.x,r.y,r.width,r.height)}}}function bt(n){return function(r){return function(){n.clearRect(r.x,r.y,r.width,r.height)}}}function ua(n){return function(r){return function(){n.textAlign=r}}}function ia(n){return function(r){return function(){n.textBaseline=r}}}function he(n){return function(r){return function(){n.font=r}}}function ht(n){return function(r){return function(e){return function(t){return function(){n.fillText(r,e,t)}}}}}function Ct(n){return function(){n.save()}}function Et(n){return function(){n.restore()}}function Mt(n){return function(r){return function(e){return function(t){return function(u){return function(o){return function(){n.drawImage(r,e,t,u,o)}}}}}}}var Lf=qr(ea),qn=function(){function n(){}return n.value=new n,n}(),Nf=function(){function n(){}return n.value=new n,n}(),Sf=function(){function n(){}return n.value=new n,n}(),Rf=function(){function n(){}return n.value=new n,n}(),Pf=function(){function n(){}return n.value=new n,n}(),Ce=function(){function n(){}return n.value=new n,n}(),ir=function(){function n(){}return n.value=new n,n}(),xt=function(){function n(){}return n.value=new n,n}(),It=function(){function n(){}return n.value=new n,n}(),wt=function(){function n(){}return n.value=new n,n}(),Lt=function(){function n(){}return n.value=new n,n}();var Ee=function(){function n(){}return n.value=new n,n}(),Hf=function(){function n(){}return n.value=new n,n}(),Wf=function(){function n(){}return n.value=new n,n}(),Af=function(){function n(){}return n.value=new n,n}(),Uf=function(){function n(){}return n.value=new n,n}(),$f=function(){function n(){}return n.value=new n,n}(),qf=function(){function n(){}return n.value=new n,n}(),Of=function(){function n(){}return n.value=new n,n}(),Bf=function(){function n(){}return n.value=new n,n}(),kf=function(){function n(){}return n.value=new n,n}(),Jf=function(){function n(){}return n.value=new n,n}(),Vf=function(){function n(){}return n.value=new n,n}(),Gf=function(){function n(){}return n.value=new n,n}(),jf=function(){function n(){}return n.value=new n,n}(),zf=function(){function n(){}return n.value=new n,n}(),Qf=function(){function n(){}return n.value=new n,n}(),Xf=function(){function n(){}return n.value=new n,n}(),Yf=function(){function n(){}return n.value=new n,n}(),Kf=function(){function n(){}return n.value=new n,n}(),Zf=function(){function n(){}return n.value=new n,n}(),nc=function(){function n(){}return n.value=new n,n}(),rc=function(){function n(){}return n.value=new n,n}(),ec=function(){function n(){}return n.value=new n,n}(),tc=function(){function n(){}return n.value=new n,n}(),oc=function(){function n(){}return n.value=new n,n}(),ac=function(){function n(){}return n.value=new n,n}(),Nn=function(n){return function(r){return function(){Ct(n)();var t=r();return Et(n)(),t}}},sa=function(n){return function(r){return ta(n)(r(f.value))(function(e){return r(i.create(e))})}};var Nt=function(n){return function(r){var e=function(t){if(t instanceof qn)return"top";if(t instanceof Nf)return"hanging";if(t instanceof Sf)return"middle";if(t instanceof Rf)return"alphabetic";if(t instanceof Pf)return"ideographic";if(t instanceof Ce)return"bottom";throw new Error("Failed pattern match at Graphics.Canvas (line 577, column 5 - line 577, column 33): "+[t.constructor.name])};return ia(n)(e(r))}},St=function(n){return function(r){var e=function(t){if(t instanceof ir)return"left";if(t instanceof xt)return"right";if(t instanceof It)return"center";if(t instanceof wt)return"start";if(t instanceof Lt)return"end";throw new Error("Failed pattern match at Graphics.Canvas (line 531, column 5 - line 531, column 32): "+[t.constructor.name])};return ua(n)(e(r))}};var ma=function(n){return function(r){var e=function(t){if(t instanceof Ee)return"source-over";if(t instanceof Hf)return"source-in";if(t instanceof Wf)return"source-out";if(t instanceof Af)return"source-atop";if(t instanceof Uf)return"destination-over";if(t instanceof $f)return"destination-in";if(t instanceof qf)return"destination-out";if(t instanceof Of)return"destination-atop";if(t instanceof Bf)return"lighter";if(t instanceof kf)return"copy";if(t instanceof Jf)return"xor";if(t instanceof Vf)return"multiply";if(t instanceof Gf)return"screen";if(t instanceof jf)return"overlay";if(t instanceof zf)return"darken";if(t instanceof Qf)return"lighten";if(t instanceof Xf)return"color-dodge";if(t instanceof Yf)return"color-burn";if(t instanceof Kf)return"hard-light";if(t instanceof Zf)return"soft-light";if(t instanceof nc)return"difference";if(t instanceof rc)return"exclusion";if(t instanceof ec)return"hue";if(t instanceof tc)return"saturation";if(t instanceof oc)return"color";if(t instanceof ac)return"luminosity";throw new Error("Failed pattern match at Graphics.Canvas (line 326, column 5 - line 326, column 45): "+[t.constructor.name])};return aa(n)(e(r))}},pa=function(n){return function(r){return Lf(vt(n)(r.height))(_t(n)(r.width))}},da=function(n){return oa(n,i.create,f.value)},_a=function(n){return function(){var e=zr(n)(),t=Qr(n)();return{width:e,height:t}}},va=function(n){return function(r){return function(){Dt(n)();var t=r();return yt(n)(),t}}};var Me=function(n){return function(r){return r(function(e){return n(e)})}},Fe=function(n){return function(r){return{x:r.x+n.translateX,y:r.y+n.translateY}}};var On=function(n){return n.translate},ga=function(n){return function(r){return{width:r.width*n.scaleX,height:r.height*n.scaleY}}};var Sn=function(n){return n.position},Bn=function(n){return function(r){return function(e){return e(n)(r)}}},uc=function(n){var r=l(n);return function(e){return Me(function(t){var u=r(Bn(t)),o=e(t);return function(a){return u(o(a))}})}};var Da=function(n){return n.mapLayerWrapper},Rn=function(n){return n.draw},ic=function(n){var r=On(n);return function(e){return function(t){return function(u){var o={translateX:t.translateX-e.offsetX,translateY:t.translateY-e.offsetY};return r(o)(u)}}}},Er=function(n){var r=y(n);return function(e){var t=ic(e);return function(u){return function(o){return function(a){if(u instanceof f)return r(a);if(u instanceof i)return t(u.value0)(o)(a);throw new Error("Failed pattern match at Template.Layer (line 59, column 1 - line 59, column 115): "+[u.constructor.name,o.constructor.name,a.constructor.name])}}}}},kn=function(n){return n.dragStart},Jn=function(n){return n.dragEnd},Vn=function(n){return n.drag},cr=function(n){return n.containsPoint},xe=function(n){var r=uc(n);return{position:Me(function(e){return Sn(e)}),translate:function(e){return r(function(t){return On(t)(e)})},containsPoint:function(e){return Me(function(t){return cr(t)(e)})},draw:function(e){return Me(function(t){return Rn(t)(e)})},dragStart:function(e){return r(function(t){return kn(t)(e)})},drag:function(e){return r(function(t){return Vn(t)(e)})},dragEnd:r(function(e){return Jn(e)})}};var ya=function(n){return function(){return{value:n}}};var _n=function(n){return function(){return n.value}},Ta=function(n){return function(r){return function(){var e=n(r.value);return r.value=e.state,e.value}}},Yr=function(n){return function(r){return function(){r.value=n}}};var cc=rn(E),Mr=ya,lc=Ta,ba=function(n){return lc(function(r){var e=n(r);return{state:e,value:e}})},ha=function(n){return function(r){return cc(ba(n)(r))}};var Zr=n=>n.width,ne=n=>n.height;var Ie=n=>r=>()=>n.letterSpacing=r;var Ca=function(n){return function(r){return function(e){return function(t){return Mt(n)(r)(e.x)(e.y)(t.width)(t.height)}}}};var Ea=function(n){return{width:Zr(n),height:ne(n)}};var Rt=function(n){var r=n.Monad0(),e=r.Applicative0(),t=y(e),u=S(r.Bind1()),o=Dn(n),a=Er(e);return{position:function(s){return t(s.position)},translate:function(s){return function(m){return t({image:m.image,scale:m.scale,composite:m.composite,dragOffset:m.dragOffset,position:Fe(s)(m.position)})}},containsPoint:function(s){return function(m){return u(o(_n(m.image)))(function(T){if(T instanceof f)return t(!1);if(T instanceof i)return t(m.position.x<=s.x&&s.x<=m.position.x+Zr(T.value0)*m.scale.scaleX&&m.position.y<=s.y&&s.y<=m.position.y+ne(T.value0)*m.scale.scaleY);throw new Error("Failed pattern match at Template.Layer.Image (line 74, column 5 - line 78, column 107): "+[T.constructor.name])})}},dragStart:function(s){return function(m){return t({image:m.image,position:m.position,scale:m.scale,composite:m.composite,dragOffset:new i(s)})}},drag:function(s){return function(m){return a(Rt(n))(m.dragOffset)(s)(m)}},dragEnd:function(s){return t({image:s.image,position:s.position,scale:s.scale,composite:s.composite,dragOffset:f.value})},draw:function(s){return function(m){return function(){var v=_n(m.image)();if(v instanceof f)return void 0;if(v instanceof i)return Nn(s)(function(){return ma(s)(m.composite)(),Ca(s)(v.value0)(m.position)(ga(m.scale)(Ea(v.value0)))()})();throw new Error("Failed pattern match at Template.Layer.Image (line 86, column 5 - line 91, column 78): "+[v.constructor.name])}}}}};var Fa=function(n){var r=Dn(n);return function(e){return function(t){return function(u){return function(o){return r(function(){var s=Mr(f.value)();return sa(e)(function(){var m=fn(ha)(s);return function(T){return m(U(T))}}())(),{image:s,position:t,scale:u,composite:o,dragOffset:f.value}})}}}}};var c=function(n){return n};var Pa=function(n){return function(r){return n&&r}},Ha=function(n){return function(r){return n||r}},Wa=function(n){return!n};var Wt=function(n){return n.not};var Ne=function(n){return n.ff};var re=function(n){return n.disj},Fr={ff:!1,tt:!0,implies:function(n){return function(r){return re(Fr)(Wt(Fr)(n))(r)}},conj:Pa,disj:Ha,not:Wa};var O=function(){function n(r,e){this.value0=r,this.value1=e}return n.create=function(r){return function(e){return new n(r,e)}},n}();var jn=function(n){return n.lift};var wc=l(ln);var Re=function(n){return n},lr=function(n){return n};var Ir={lift:function(n){var r=Ko(n)(i.create);return function(e){return Re(r(e))}}};var Lc=function(n){var r=l(n);return{map:function(e){return function(t){return r(wc(e))(t)}}}},Nc=function(n){return{Applicative0:function(){return ee(n)},Bind1:function(){return sr(n)}}},sr=function(n){var r=S(n.Bind1()),e=y(n.Applicative0());return{bind:function(t){return function(u){return r(t)(function(o){if(o instanceof f)return e(f.value);if(o instanceof i){var a=u(o.value0);return a}throw new Error("Failed pattern match at Control.Monad.Maybe.Trans (line 55, column 11 - line 57, column 42): "+[o.constructor.name])})}},Apply0:function(){return $a(n)}}},$a=function(n){var r=Lc(n.Bind1().Apply0().Functor0());return{apply:Vr(Nc(n)),Functor0:function(){return r}}},ee=function(n){return{pure:function(){var r=y(n.Applicative0());return function(e){return Re(r(i.create(e)))}}(),Apply0:function(){return $a(n)}}};var wr=function(n){var r=y(n.Applicative0());return function(e){return Re(r(e))}};var qa=function(n,r){for(var e=n>r?-1:1,t=new Array(e*(r-n)+1),u=n,o=0;u!==r;)t[o++]=u,u+=e;return t[o]=u,t},Sc=function(n,r){if(n<1)return[];var e=new Array(n);return e.fill(r)},Rc=function(n,r){for(var e=[],t=0,u=0;u<n;u++)e[t++]=r;return e},Pc=typeof Array.prototype.fill=="function"?Sc:Rc;var zn=function(n){return n.length};var Oa=function(n,r,e,t){return t<0||t>=e.length?r:n(e[t])};var Ba=function(n,r,e,t){for(var u=0,o=t.length;u<o;u++)if(e(t[u]))return n(u);return r};var ka=function(n,r,e,t,u){if(e<0||e>=u.length)return r;var o=u.slice();return o[e]=t,n(o)},Ut=function(n){return n.slice().reverse()},$t=function(n){if(n.length<=1e4)return Array.prototype.concat.apply([],n);for(var r=[],e=0,t=n.length;e<t;e++)for(var u=n[e],o=0,a=u.length;o<a;o++)r.push(u[o]);return r};var Ja=function(n,r,e){for(var t=r.length<e.length?r.length:e.length,u=new Array(t),o=0;o<t;o++)u[o]=n(r[o])(e[o]);return u},Va=function(n,r){for(var e=r.length,t=0;t<e;t++)if(n(r[t]))return!0;return!1};function Wc(n){return n}var Ga=Wc;function Ac(n){return n.slice()}var ja=Ac;var za=function(n,r){return r.push(n)};var He=function(r){return function(e){return function(){return r(e)}}},qt=function(r){return function(e){return function(t){return function(){return r(e,t)}}}};var Qa=He(Ga);var Jc=He(ja),Xa=function(n){return function(r){return function(){var t=Jc(r)();return n(t)(),Qa(t)()}}};var Ot=qt(za);var Ka=function(n){return function(r){return function(e){for(var t=r,u=e.length,o=u-1;o>=0;o--)t=n(e[o])(t);return t}}},Za=function(n){return function(r){return function(e){for(var t=r,u=e.length,o=0;o<u;o++)t=n(t)(e[o]);return t}}};var Yt=function(n){return n};var al=function(n){var r=re(n);return{append:function(e){return function(t){return r(e)(t)}}}};var ou=function(n){var r=al(n);return{mempty:Ne(n),Semigroup0:function(){return r}}};var au=function(){return c};var fl=au();var Zt=function(){return function(){return function(){return function(){return function(n){return fl}}}}};var ml=R(k),pl=J(Br);var dl=Zt()()()(),Ae=function(n){return n.foldr};var oe=function(n){var r=qr(n.Apply0()),e=y(n);return function(t){var u=Ae(t);return function(o){return u(function(a){return r(o(a))})(e(void 0))}}},to=function(n){var r=oe(n);return function(e){return fn(r(e))}};var ae=function(n){return n.foldl};var uu=function(n){var r=ae(n);return function(e){var t=function(u){return function(o){if(u instanceof f)return new i(o);if(u instanceof i)return new i(function(){var a=pl(e(u.value0)(o))(F.value);return a?u.value0:o}());throw new Error("Failed pattern match at Data.Foldable (line 441, column 3 - line 441, column 27): "+[u.constructor.name,o.constructor.name])}};return r(t)(f.value)}},oo=function(n){var r=q(n);return function(e){return uu(e)(r)}};var iu=function(n){var r=Ae(n);return function(e){var t=G(e.Semigroup0()),u=sn(e);return function(o){return r(function(a){return function(s){return t(o(a))(s)}})(u)}}},Tn={foldr:Ka,foldl:Za,foldMap:function(n){return iu(Tn)(n)}};var ao=function(n){return n.foldMap};var fu=function(n){var r=ao(n);return function(e){return dl(Yt)(r(ou(e)))}};var uo=function(n){var r=fu(n);return function(e){return r(e)(ml)}};var ie=function(n){return function(r){return function(e){return n(r,e)}}},io=function(n){return function(r){return function(e){return function(t){return n(r,e,t)}}}},Ue=function(n){return function(r){return function(e){return function(t){return function(u){return n(r,e,t,u)}}}}},fo=function(n){return function(r){return function(e){return function(t){return function(u){return function(o){return n(r,e,t,u,o)}}}}}};var _u=function(){function n(u){return[u]}function r(u){return function(o){return[u,o]}}function e(u){return function(o){return function(a){return[u,o,a]}}}function t(u){return function(o){return u.concat(o)}}return function(u){return function(o){return function(a){return function(s){return function(m){function T(v,h){switch(h-v){case 0:return a([]);case 1:return o(n)(s(m[v]));case 2:return u(o(r)(s(m[v])))(s(m[v+1]));case 3:return u(u(o(e)(s(m[v])))(s(m[v+1])))(s(m[v+2]));default:var I=v+Math.floor((h-v)/4)*2;return u(o(t)(T(v,I)))(T(I,h))}}return T(0,m.length)}}}}}}();var Bl=R(k),Lr=function(n){return n.traverse};var kl=function(n){var r=Lr(n);return function(e){return r(e)(Bl)}},Nr={traverse:function(n){var r=n.Apply0();return _u(an(r))(l(r.Functor0()))(y(n))},sequence:function(n){return kl(Nr)(n)},Functor0:function(){return mn},Foldable1:function(){return Tn}};var ns=io(Ja);var qe=function(){return ns(O.create)}();var rs=function(){return fo(ka)(i.create)(f.value)}();var le=function(n){return function(r){return Xa(Ot(r))(n)()}};var gu=ie(qa);var Qn=function(){return Ue(Oa)(i.create)(f.value)}();var Du=function(n){return function(r){return function(e){var t=function(u){return rs(n)(r(u))(e)};return tr(f.value)(t)(Qn(e)(n))}}};var _o=function(){return Ue(Ba)(i.create)(f.value)}();var yu=ie(Va);var es=jn(Ir);var Tu=function(n){var r=S(sr(n)),e=wr(n),t=es(n);return function(u){return function(o){return function(a){return r(e(Qn(a)(u)))(function(s){return r(t(o(s)))(function(m){return e(Du(u)(U(m))(a))})})}}}};var vo=function(n){return qe(gu(0)(zn(n)))(n)};var ts=Lr(Nr),os=uo(Tn)(Fr),as=oe(dn)(Tn),us=jn(Ir),is=R(k);var hu=function(n){var r=n.Applicative0(),e=n.Bind1().Apply0().Functor0(),t=ut(e),u=ts(r),o=xe(e),a=On(o),s=l(e),m=cr(o),T=Rn(o),v=S(sr(n)),h=us(n),I=wr(n),de=Sn(o),Q=Tu(n),un=kn(o),ot=y(ee(n)),bi=Vn(o),hi=Jn(o);return{position:U(y(r)({x:0,y:0})),translate:function(X){return function(z){return t(u(a(X))(z.layers))(function(hn){return{dragIndex:z.dragIndex,layers:hn}})}},containsPoint:function(X){return function(z){return s(os)(u(m(X))(z.layers))}},draw:function(X){return function(z){return as(function(){var hn=Nn(X),Kn=T(X);return function(dr){return hn(Kn(dr))}}())(Ut(z.layers))}},dragStart:function(X){return function(z){return s(gn(z))(lr(v(h(u(m({x:X.offsetX,y:X.offsetY}))(z.layers)))(function(hn){return v(I(_o(is)(hn)))(function(Kn){return v(I(Qn(z.layers)(Kn)))(function(dr){return v(h(de(dr)))(function(_e){return v(Q(Kn)(un({offsetX:X.offsetX-_e.x,offsetY:X.offsetY-_e.y}))(z.layers))(function(Ci){return ot({dragIndex:new i(Kn),layers:Ci})})})})})})))}},drag:function(X){return function(z){return s(gn(z))(lr(v(I(z.dragIndex))(function(hn){return v(I(Qn(z.layers)(hn)))(function(Kn){return v(h(de(Kn)))(function(dr){return v(Q(hn)(bi({translateX:X.translateX-dr.x,translateY:X.translateY-dr.y}))(z.layers))(function(_e){return ot({dragIndex:z.dragIndex,layers:_e})})})})})))}},dragEnd:function(X){return s(gn({layers:X.layers,dragIndex:f.value}))(lr(v(I(X.dragIndex))(function(z){return v(Q(z)(hi)(X.layers))(function(hn){return ot({dragIndex:f.value,layers:hn})})})))}}},Cu=function(n){return{layers:n,dragIndex:f.value}};var go=function(n){var r=y(n),e=Er(n);return{position:function(t){return r({x:t.rect.x,y:t.rect.y})},translate:function(t){return function(u){return r({fillStyle:u.fillStyle,dragOffset:u.dragOffset,rect:{width:u.rect.width,height:u.rect.height,x:u.rect.x+t.translateX,y:u.rect.y+t.translateY}})}},containsPoint:function(t){return function(u){return r(u.rect.x<=t.x&&t.x<=u.rect.x+u.rect.width&&u.rect.y<=t.y&&t.y<=u.rect.y+u.rect.height)}},draw:function(t){return function(u){return function(){return Cr(t)(u.fillStyle)(),va(t)(Tt(t)(u.rect))()}}},dragStart:function(t){return function(u){return r({rect:u.rect,fillStyle:u.fillStyle,dragOffset:new i(t)})}},drag:function(t){return function(u){return e(go(n))(u.dragOffset)(t)(u)}},dragEnd:function(t){return r({rect:t.rect,fillStyle:t.fillStyle,dragOffset:f.value})}}},Eu=function(n){return function(r){return{rect:n,fillStyle:r,dragOffset:f.value}}};var ls=or(ar),Do=function(n){var r=n.Monad0(),e=r.Bind1(),t=S(e),u=Dn(n),o=ls(e),a=y(r.Applicative0());return function(s){return function(m){return t(u(_n(m)))(function(T){return t(s(T))(function(v){return o(u(Yr(v)(m)))(function(){return a(v)})})})}}},Mu=function(n){var r=vr(n.Monad0().Bind1().Apply0().Functor0()),e=Do(n);return function(t){return function(u){return r(void 0)(e(t)(u))}}};var ps=$n(hr),ds=function(n){return n};var Oe=function(n){var r=n.Monad0().Bind1(),e=$n(r),t=Dn(n),u=vr(r.Apply0().Functor0()),o=Do(n);return function(a){var s=Sn(a),m=On(a),T=cr(a),v=kn(a),h=Vn(a),I=Jn(a),de=Rn(a);return{position:function(Q){return e(s)(t(_n(Q)))},translate:function(Q){return function(un){return u(un)(o(m(Q))(un))}},containsPoint:function(Q){return function(un){return e(T(Q))(t(_n(un)))}},dragStart:function(Q){return function(un){return u(un)(o(v(Q))(un))}},drag:function(Q){return function(un){return u(un)(o(h(Q))(un))}},dragEnd:function(Q){return u(Q)(o(I)(Q))},draw:function(Q){return function(un){return ps(de(Q))(_n(un))}}}}};var Fu=function(n){var r=Mu(n);return function(e){return function(t){return r(e)(t)}}};var Be=function(n){var r=l(n.Monad0().Bind1().Apply0().Functor0()),e=Dn(n);return function(t){return r(ds)(e(Mr(t)))}};var Z=function(n){return n};var ke=isFinite;function Iu(n,r,e,t){var u=parseFloat(n);return r(u)?e(u):t}var yo=function(n){return Iu(n,ke,i.create,f.value)};function Lu(n){return n.split(/\r\n|[\n\v\f\r\u0085\u2028\u2029]/)}function Nu(n){return n.split(/[\u000a-\u000d\u0085\u2028\u2029\u0009\u0020\u00a0\u1680\u2000-\u200a\u202f\u205f\u3000]+/)}var jb=typeof Array.from=="function",zb=typeof Symbol<"u"&&Symbol!=null&&typeof Symbol.iterator<"u"&&typeof String.prototype[Symbol.iterator]=="function",Qb=typeof String.prototype.fromCodePoint=="function",Xb=typeof String.prototype.codePointAt=="function";var $u=function(n){return Nu(n)};var je=function(n){return Lu(n)};var ze=n=>r=>()=>n.measureText(r);var Qe=Lr(Nr)(dn),Js=ae(Tn),Vs=l(mn),ku=l(E),Gs=oo(st)(Tn),qu=N(Qo),js=to(dn)(Tn);var Xe=function(n){return function(r){return{position:r.position,maxWidth:r.maxWidth,fillStyle:r.fillStyle,fontName:r.fontName,fontSize:r.fontSize,fontStyle:r.fontStyle,fontWeight:r.fontWeight,align:r.align,baseline:r.baseline,lineHeight:r.lineHeight,letterSpacing:r.letterSpacing,dragOffset:r.dragOffset,context:r.context,text:n}}},Ju=function(n){return function(r){return{text:r.text,position:r.position,maxWidth:r.maxWidth,fillStyle:r.fillStyle,fontName:r.fontName,fontStyle:r.fontStyle,fontWeight:r.fontWeight,align:r.align,baseline:r.baseline,lineHeight:r.lineHeight,letterSpacing:r.letterSpacing,dragOffset:r.dragOffset,context:r.context,fontSize:n}}},Eo=function(n){return function(r){return function(){var t=ze(n)(r)();return t.width}}},zs=function(n){return function(r){return function(e){var t=$u(e);return function(){var o=Qe(Eo(n))(t)(),a=Eo(n)(" ")(),s=function(v){return function(h){if(v.value1.value0.length===0)return new O(v.value0,new O([h.value0],h.value1));var I=v.value1.value1+a+h.value1>r;return I?new O(le(v.value0)(v.value1.value0),new O([h.value0],h.value1)):new O(v.value0,new O(le(v.value1.value0)(h.value0),v.value1.value1+a+h.value1))}},m=Js(s)(new O([],new O([],0)))(qe(t)(o)),T=Vs(br(" "))(m.value0);return m.value1.value0.length===0?T:le(T)(br(" ")(m.value1.value0))}}}},Ou=function(n){return function(r){return function(e){return ku($t)(Qe(zs(n)(r))(je(e)))}}},Qs=function(n){return function(r){return function(){var t=ze(n)(r)();return t.actualBoundingBoxAscent+t.actualBoundingBoxDescent}}};var Bu=function(n){return function(r){return ku(function(){var e=gn(0);return function(t){return e(Gs(t))}}())(Qe(Qs(n))(r))}},Mo=function(n){var r=n.Monad0().Applicative0(),e=y(r),t=Dn(n),u=Er(r);return{position:function(o){return e(o.position)},translate:function(o){return function(a){return e({text:a.text,maxWidth:a.maxWidth,fillStyle:a.fillStyle,fontName:a.fontName,fontSize:a.fontSize,fontStyle:a.fontStyle,fontWeight:a.fontWeight,align:a.align,baseline:a.baseline,lineHeight:a.lineHeight,letterSpacing:a.letterSpacing,dragOffset:a.dragOffset,context:a.context,position:Fe(o)(a.position)})}},containsPoint:function(o){return function(a){return t(Nn(a.context)(function(){Cr(a.context)(a.fillStyle)(),he(a.context)(a.fontStyle+(" "+(a.fontWeight+(" "+(qu(a.fontSize)+("px "+a.fontName))))))(),Nt(a.context)(a.baseline)(),St(a.context)(a.align)(),Ie(a.context)(a.letterSpacing)();var m=function(){if(a.maxWidth instanceof i)return Ou(a.context)(a.maxWidth.value0)(a.text)();if(a.maxWidth instanceof f)return je(a.text);throw new Error("Failed pattern match at Template.Layer.Text (line 66, column 14 - line 68, column 44): "+[a.maxWidth.constructor.name])}(),T=Qe(Eo(a.context))(m)(),v=Bu(a.context)(m)();return fn(yu)(vo(T))(function(h){var I=function(){return a.baseline instanceof qn?a.position.y+v*a.lineHeight*Z(h.value0):a.baseline instanceof Ce?a.position.y-v-Z((zn(m)-h.value0|0)-1|0)*v*a.lineHeight:a.position.y+v*a.lineHeight*Z(h.value0)}();if(a.align instanceof wt||a.align instanceof ir)return a.position.x<=o.x&&o.x<=a.position.x+h.value1&&I<=o.y&&o.y<=I+v;if(a.align instanceof Lt||a.align instanceof xt)return a.position.x-h.value1<=o.x&&o.x<=a.position.x&&I<=o.y&&o.y<=I+v;if(a.align instanceof It)return a.position.x-h.value1/2<=o.x&&o.x<=a.position.x+h.value1/2&&I<=o.y&&o.y<=I+v;throw new Error("Failed pattern match at Template.Layer.Text (line 79, column 7 - line 89, column 65): "+[a.align.constructor.name])})}))}},dragStart:function(o){return function(a){return e({text:a.text,position:a.position,maxWidth:a.maxWidth,fillStyle:a.fillStyle,fontName:a.fontName,fontSize:a.fontSize,fontStyle:a.fontStyle,fontWeight:a.fontWeight,align:a.align,baseline:a.baseline,lineHeight:a.lineHeight,letterSpacing:a.letterSpacing,context:a.context,dragOffset:new i(o)})}},drag:function(o){return function(a){return u(Mo(n))(a.dragOffset)(o)(a)}},dragEnd:function(o){return e({text:o.text,position:o.position,maxWidth:o.maxWidth,fillStyle:o.fillStyle,fontName:o.fontName,fontSize:o.fontSize,fontStyle:o.fontStyle,fontWeight:o.fontWeight,align:o.align,baseline:o.baseline,lineHeight:o.lineHeight,letterSpacing:o.letterSpacing,context:o.context,dragOffset:f.value})},draw:function(o){return function(a){return Nn(o)(function(){Cr(o)(a.fillStyle)(),he(o)(a.fontStyle+(" "+(a.fontWeight+(" "+(qu(a.fontSize)+("px "+a.fontName))))))(),Nt(o)(a.baseline)(),St(o)(a.align)(),Ie(o)(a.letterSpacing)();var m=function(){if(a.maxWidth instanceof i)return Ou(o)(a.maxWidth.value0)(a.text)();if(a.maxWidth instanceof f)return je(a.text);throw new Error("Failed pattern match at Template.Layer.Text (line 102, column 14 - line 104, column 44): "+[a.maxWidth.constructor.name])}(),T=Bu(o)(m)();return js(vo(m))(function(v){var h=function(){return a.baseline instanceof qn?a.position.y+Z(v.value0)*T*a.lineHeight:a.baseline instanceof Ce?a.position.y-Z((zn(m)-v.value0|0)-1|0)*T*a.lineHeight:a.position.y+Z(v.value0)*T*a.lineHeight}();return ht(o)(v.value1)(a.position.x)(h)})()})}}}};var Gu=function(n){return n};var Xs={mapLayerWrapper:function(n){return function(r){var e=l(r.Bind1().Apply0().Functor0());return function(t){return function(u){return e(Gu)(t(u))}}}}},Ys=Da(Xs);var ju=function(n){var r=y(n.Applicative0());return function(e){var t=Sn(e),u=cr(e),o=Rn(e);return{position:function(a){return t(a)},translate:function(){var a=Ys(e)(n),s=On(e);return function(m){return a(s(m))}}(),containsPoint:function(a){return function(s){return u(a)(s)}},dragStart:U(r),drag:U(r),dragEnd:r,draw:function(a){return function(s){return o(a)(s)}}}}};var zu=Gu;function Ye(n,r){var e={};for(var t in r)({}).hasOwnProperty.call(r,t)&&(e[t]=r[t]);for(var u in n)({}).hasOwnProperty.call(n,u)&&(e[u]=n[u]);return e}var Qu=function(){return function(){return function(n){return function(r){return Ye(n,r)}}}};var mr=function(n){return function(r){return function(){return r[n]}}},em=mr("URL"),tm=mr("documentURI"),om=mr("origin"),am=mr("compatMode"),um=mr("characterSet"),im=mr("contentType");var fm=mr("documentElement");function Fo(n){return function(r){return function(){return r.createElement(n)}}}function Xu(n,r,e){return n==null?r:e(n)}var A=function(n){return Xu(n,f.value,i.create)};function Yu(n,r,e,t){if(typeof window<"u"){var u=window[e];if(u!=null&&t instanceof u)return r(t)}for(var o=t;o!=null;){var a=Object.getPrototypeOf(o),s=a.constructor.name;if(s===e)return r(t);if(s==="Object")return n;o=a}return n}var d=function(n){return function(r){return Yu(f.value,i.create,n,r)}};var Ke=function(n){return function(r){return r[n]}},_m=Ke("namespaceURI"),vm=Ke("prefix"),gm=Ke("localName"),Dm=Ke("tagName");function Ze(n){return function(r){return function(e){return function(){e.setAttribute(n,r)}}}}function xo(n){return function(){var r=n.getBoundingClientRect();return{top:r.top,right:r.right,bottom:r.bottom,left:r.left,width:r.width,height:r.height,x:r.x,y:r.y}}}var nt=function(n){return function(r){return function(){return r[n]}}},Tm=nt("children"),bm=nt("firstElementChild"),hm=nt("lastElementChild"),Cm=nt("childElementCount");var Yn=c;var bn=function(n){return function(r){return function(){return r[n]}}};var Im=bn("baseURI"),wm=bn("ownerDocument"),Lm=bn("parentNode"),Nm=bn("parentElement");var Sm=bn("childNodes"),Rm=bn("firstChild"),Pm=bn("lastChild"),Hm=bn("previousSibling"),Wm=bn("nextSibling"),Am=bn("nodeValue");var Um=bn("textContent");function ni(n){return function(r){return function(){return r.getElementById(n)}}}var Vm=l(E),Rr=function(n){var r=Vm(A),e=ni(n);return function(t){return r(e(t))}};function xn(n){return function(){return function(r){return n(r)()}}}function In(n){return function(r){return function(e){return function(t){return function(){return t.addEventListener(n,r,e)}}}}}var Io=function(){return window};var Pr=c;var ri=c,ei=c;function ti(n,r,e){var t=Object.prototype.toString.call(e);return t.indexOf("[object HTML")===0&&t.indexOf("Element]")===t.length-8?r(e):n}function wo(n){return function(){return n.click()}}function Lo(n){return function(){return n.offsetWidth}}function No(n){return function(){return n.offsetHeight}}var oi=c;var So=function(n){return ti(f.value,i.create,n)};function Hr(n){return function(){return n.value}}var Ro=d("HTMLInputElement");function rt(n){return function(){return n.value}}var fi=d("HTMLTextAreaElement");function Po(n){return function(){return n.document}}function se(n){return n.clientX}function me(n){return n.clientY}var et=d("MouseEvent");var Ur=y(dn),cd=or(ar),pe=Oe(Fn)(xe(E)),ld=Rn(pe),Wo=sr(cn),Wr=S(Wo),Ho=$n(Wo),tt=wr(cn),pr=jn(Ir)(cn),ci=cd(Wo),sd=$n(hr),li=y(ee(cn)),md=Be(Fn),pd=Qu()(),Ao=Sn(pe),si=Vn(pe),dd=Jn(pe),_d=kn(pe),Ar=Fu(Fn);var Uo=function(n){return function(r){return function(e){return function(){var u=xo(oi(r))(),o=Lo(r)(),a=No(r)(),s=zr(n)(),m=Qr(n)();return{x:(e.x-u.left)*s/o,y:(e.y-u.top)*m/a}}}}},$r=function(n){return function(){var e=jr(n.canvas)(),t=_a(n.canvas)();return bt(e)({x:0,y:0,width:t.width,height:t.height})(),Nn(e)(ld(e)(n.layer))()}},mi=function(n){return function(r){return lr(Wr(Ho(tt)(pr(da(n))))(function(e){return ci(pr(pa(e)(r)))(function(){return Wr(pr(sd(Po)(Io)))(function(t){return Wr(Ho(tt)(pr(Rr("canvas")(Pr(t)))))(function(u){return Wr(tt(So(u)))(function(o){return li({canvas:e,canvasElement:u,canvasHtmlElement:o,document:t})})})})})}))}},pi=function(n){var r=Bn(n);return function(e){return function(t){return function(){var o=md(r(t))();return pd(e)({layer:o})}}}},vd=function(n){return xn(function(r){var e=et(r);if(e instanceof f)return Ur(void 0);if(e instanceof i)return function(){var u=Ao(n.layer)(),o=Uo(n.canvas)(n.canvasHtmlElement)({x:Z(se(e.value0)),y:Z(me(e.value0))})(),a={translateX:o.x-u.x,translateY:o.y-u.y};return si(a)(n.layer)(),dd(n.layer)(),$r(n)()};throw new Error("Failed pattern match at Template.Main (line 194, column 60 - line 205, column 22): "+[e.constructor.name])})},gd=function(n){return xn(function(r){var e=et(r);if(e instanceof f)return Ur(void 0);if(e instanceof i)return function(){var u=Ao(n.layer)(),o=Uo(n.canvas)(n.canvasHtmlElement)({x:Z(se(e.value0)),y:Z(me(e.value0))})(),a={translateX:o.x-u.x,translateY:o.y-u.y};return si(a)(n.layer)(),$r(n)()};throw new Error("Failed pattern match at Template.Main (line 181, column 62 - line 191, column 22): "+[e.constructor.name])})},Dd=function(n){return xn(function(r){var e=et(r);if(e instanceof f)return Ur(void 0);if(e instanceof i)return function(){var u=Ao(n.layer)(),o=Uo(n.canvas)(n.canvasHtmlElement)({x:Z(se(e.value0)),y:Z(me(e.value0))})(),a={offsetX:o.x-u.x,offsetY:o.y-u.y};return _d(a)(n.layer)(),$r(n)()};throw new Error("Failed pattern match at Template.Main (line 168, column 62 - line 178, column 22): "+[e.constructor.name])})},yd=function(n){return xn(function(r){return $r(n)})};var di=function(n){return function(r){return function(e){return lr(function(){var t=Pr(e.document);return Wr(Ho(tt)(pr(Rr(n)(t))))(function(u){return Wr(pr(xn(function(o){return function(){var s=gt(e.canvas)(),m=Fo("a")(ei(e.document))();Ze("href")(s)(m)(),Ze("download")(r)(m)();var T=So(m);if(T instanceof i)return wo(T.value0)();throw new Error("Failed pattern match at Template.Main (line 133, column 9 - line 133, column 53): "+[T.constructor.name])}})))(function(o){return ci(pr(In("click")(o)(!1)(Yn(u))))(function(){return li(u)})})})}())}}},Td=function(n){return function(r){return function(e){return function(t){return function(){var o=Rr(r)(Pr(n.document))();if(o instanceof i){var a=fi(o.value0);if(a instanceof i){var s=rt(a.value0)();Ar(t(s))(e)();var m=xn(function(T){return function(){var h=rt(a.value0)();return Ar(t(h))(e)()}})();return In("input")(m)(!1)(Yn(o.value0))()}throw new Error("Failed pattern match at Template.Main (line 241, column 7 - line 241, column 55): "+[a.constructor.name])}throw new Error("Failed pattern match at Template.Main (line 240, column 3 - line 240, column 79): "+[o.constructor.name])}}}}},$o=function(n){return function(r){return function(e){return function(t){return Td(n)(r)(e)(function(u){return function(o){return function(a){return Ur(o(a))}}(t(u))})}}}},bd=function(n){return function(r){return function(e){return function(t){return function(){var o=Rr(r)(Pr(n.document))();if(o instanceof i){var a=Ro(o.value0);if(a instanceof i){var s=Hr(a.value0)();(function(){var T=yo(s);if(T instanceof i)return Ar(t(T.value0))(e)();if(T instanceof f)return void 0;throw new Error("Failed pattern match at Template.Main (line 260, column 3 - line 262, column 25): "+[T.constructor.name])})();var m=xn(function(T){return function(){var h=Hr(a.value0)(),I=yo(h);if(I instanceof i)return Ar(t(I.value0))(e)();if(I instanceof f)return void 0;throw new Error("Failed pattern match at Template.Main (line 266, column 5 - line 268, column 27): "+[I.constructor.name])}})();return In("input")(m)(!1)(Yn(o.value0))()}throw new Error("Failed pattern match at Template.Main (line 257, column 7 - line 257, column 52): "+[a.constructor.name])}throw new Error("Failed pattern match at Template.Main (line 256, column 3 - line 256, column 79): "+[o.constructor.name])}}}}},hd=function(n){return function(r){return function(e){return function(t){return bd(n)(r)(e)(function(u){return function(o){return function(a){return Ur(o(a))}}(t(u))})}}}},_i=function(n){return function(r){return function(e){return hd(n)(r)(e)(Ju)}}};var Cd=function(n){return function(r){return function(e){return function(t){return function(){var o=Rr(r)(Pr(n.document))();if(o instanceof i){var a=Ro(o.value0);if(a instanceof i){var s=Hr(a.value0)();Ar(t(s))(e)();var m=xn(function(T){return function(){var h=Hr(a.value0)();return Ar(t(h))(e)()}})();return In("input")(m)(!1)(Yn(o.value0))()}throw new Error("Failed pattern match at Template.Main (line 225, column 7 - line 225, column 52): "+[a.constructor.name])}throw new Error("Failed pattern match at Template.Main (line 224, column 3 - line 224, column 79): "+[o.constructor.name])}}}}},vi=function(n){return function(r){return function(e){return function(t){return Cd(n)(r)(e)(function(u){return function(o){return function(a){return Ur(o(a))}}(t(u))})}}}};var gi=function(n){return function(){var e=Dd(n)(),t=gd(n)(),u=vd(n)(),o=yd(n)();return In("mousedown")(e)(!1)(Yn(n.canvasElement))(),In("mousemove")(t)(!1)(Yn(n.canvasElement))(),In("mouseup")(u)(!1)(Yn(n.canvasElement))(),In("input")(o)(!1)(ri(n.document))()}};var Di=Fa(Fn),qo=Be(Fn),yi=Bn(Rt(Fn)),Oo=Bn(Oe(Fn)(Mo(Fn))),Md=Bn(go(dn)),Fd=pi(ju(cn)(hu(cn))),Pn=function(){return{width:2*1080,height:2*1080*5/4}}(),Ti=rn(E)(function(){var r=mi("canvas")(Pn)();if(r instanceof i){var e=jr(r.value0.canvas)(),t=Di("./img/guillotine.svg")({x:2*60,y:2*60})({scaleX:2,scaleY:2})(Ee.value)(),u=Di("./img/jacobinlogo.svg")({x:Pn.width-2*120,y:Pn.height-2*200})({scaleX:2,scaleY:2})(Ee.value)(),o=qo({text:"Broodtekst",lineHeight:.95,position:{x:120,y:300},fillStyle:"#f00",fontName:"Oswald",fontStyle:"normal",fontWeight:"500",fontSize:180,align:ir.value,baseline:qn.value,letterSpacing:"-3px",dragOffset:f.value,maxWidth:new i(Pn.width-2*120),context:e})();$o(r.value0)("bodytext")(o)(Xe)(),_i(r.value0)("bodytext-size")(o)();var a=qo({text:"AUTEUR",lineHeight:.95,position:{x:2*60,y:Pn.height-2*200},fillStyle:"#f00",fontName:"Oswald",fontStyle:"normal",fontWeight:"500",fontSize:2*50,align:ir.value,baseline:qn.value,letterSpacing:"-3px",dragOffset:f.value,maxWidth:f.value,context:e})();vi(r.value0)("author")(a)(function(h){return Xe(ye(h))})();var s=qo({text:"Titel",lineHeight:.9,position:{x:2*60,y:Pn.height-2*200+2*50},maxWidth:new i(Pn.width-4*2*60),fillStyle:"#f00",fontName:"Oswald",fontStyle:"normal",fontWeight:"700",fontSize:2*50,align:ir.value,baseline:qn.value,letterSpacing:"-2px",dragOffset:f.value,context:e})();$o(r.value0)("title")(s)(Xe)();var m=zu(Cu([yi(t),yi(u),Oo(a),Oo(s),Oo(o),Md(Eu({x:0,y:0,width:Pn.width,height:Pn.height})("#fff"))])),T=Fd(r.value0)(m)();$r(T)(),gi(T)();var v=di("download")("jacobin.png")(T)();if(v instanceof i)return void 0;throw new Error("Failed pattern match at Jacobin.TextSlide (line 108, column 3 - line 108, column 63): "+[v.constructor.name])}throw new Error("Failed pattern match at Jacobin.TextSlide (line 25, column 3 - line 25, column 72): "+[r.constructor.name])});Ti();})();

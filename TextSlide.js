/* Generated by Spago v0.93.44 */
(()=>{var Vl=function(t){return function(e){for(var n=e.length,r=new Array(n),u=0;u<n;u++)r[u]=t(e[u]);return r}};var Eo={compose:function(t){return function(e){return function(n){return t(e(n))}}}};var k=function(t){return t.identity},V={identity:function(t){return t},Semigroupoid0:function(){return Eo}};var Ft=!0;var j=function(t){return function(e){return function(n){return t(n)(e)}}},Q=function(t){return function(e){return t}};var B=function(){function t(){}return t.value=new t,t}();var p=function(t){return t.map},$e=function(t){var e=p(t);return function(n){return function(r){return e(r)(n)}}},ht=function(t){return p(t)(Q(void 0))};var qe=function(t){var e=p(t);return function(n){return e(Q(n))}};var Rt={map:Vl};var jl=function(t){return function(e){return t.length===0?e:e.length===0?t:t.concat(e)}};var Ht=function(t){return t.reflectSymbol};var te=function(t){return function(e){return e[t]}},jt=function(t){return function(e){return function(n){var r={};for(var u in n)({}).hasOwnProperty.call(n,u)&&(r[u]=n[u]);return r[t]=e,r}}};var de={append:jl};var A=function(t){return t.append};var vt=function(t){return t.alt};var Yl=function(t){return function(e){for(var n=t.length,r=e.length,u=new Array(n*r),a=0,o=0;o<n;o++)for(var l=t[o],i=0;i<r;i++)u[a++]=l(e[i]);return u}};var Rd=k(V);var xo={apply:Yl,Functor0:function(){return Rt}},ot=function(t){return t.apply},Xl=function(t){var e=ot(t),n=p(t.Functor0());return function(r){return function(u){return e(n(Q)(r))(u)}}},ee=function(t){var e=ot(t),n=p(t.Functor0());return function(r){return function(u){return e(n(Q(Rd))(r))(u)}}};var y=function(t){return t.pure};var Er=function(t){var e=ot(t.Apply0()),n=y(t);return function(r){return function(u){return e(n(r))(u)}}};var Zl="\uFFFF",ti="\0",yd=Number.POSITIVE_INFINITY,Fd=Number.NEGATIVE_INFINITY;var ja=function(t){return function(e){return function(n){return function(r){return function(u){return r<u?t:r===u?e:n}}}}};var ei=ja,ni=ja;var ri=ja;var Qa=function(t){return function(e){return t===e}};var oi=Qa,ai=Qa,ui=Qa;var li={eq:ai},Lo={eq:oi},Io={eq:ui};var O=function(t){return t.eq};var U=function(){function t(){}return t.value=new t,t}(),I=function(){function t(){}return t.value=new t,t}(),Y=function(){function t(){}return t.value=new t,t}();var $n={eq:function(t){return function(e){return t instanceof U&&e instanceof U||t instanceof I&&e instanceof I||t instanceof Y&&e instanceof Y}}};var ii=function(t){return function(e){return t-e|0}};var ci=function(t){return function(e){return t+e|0}},fi=function(t){return function(e){return t*e|0}},si=function(t){return function(e){return t+e}},di=function(t){return function(e){return t*e}};var pi=function(t){return t.zeroRecord},Qt=function(t){return t.zero};var No={addRecord:function(t){return function(e){return function(n){return{}}}},mulRecord:function(t){return function(e){return function(n){return{}}}},oneRecord:function(t){return function(e){return{}}},zeroRecord:function(t){return function(e){return{}}}};var cn={add:si,zero:0,mul:di,one:1},So={add:ci,zero:0,mul:fi,one:1},vi=function(t){return t.oneRecord},pe=function(t){return t.one},mi=function(t){return t.mulRecord},$t=function(t){return t.mul},_i=function(t){return t.addRecord},Po=function(){return function(t){return{add:_i(t)(B.value),mul:mi(t)(B.value),one:vi(t)(B.value)(B.value),zero:pi(t)(B.value)(B.value)}}},qt=function(t){return t.add};var Mr=function(t){var e=Ht(t);return function(){return function(n){var r=_i(n),u=mi(n),a=vi(n),o=pi(n);return function(l){var i=qt(l),d=$t(l),s=pe(l),m=Qt(l);return{addRecord:function(w){return function(et){return function(N){var Z=r(B.value)(et)(N),at=e(B.value),ce=jt(at),Ut=te(at);return ce(i(Ut(et))(Ut(N)))(Z)}}},mulRecord:function(w){return function(et){return function(N){var Z=u(B.value)(et)(N),at=e(B.value),ce=jt(at),Ut=te(at);return ce(d(Ut(et))(Ut(N)))(Z)}}},oneRecord:function(w){return function(et){var N=a(B.value)(B.value),Z=e(B.value),at=jt(Z);return at(s)(N)}},zeroRecord:function(w){return function(et){var N=o(B.value)(B.value),Z=e(B.value),at=jt(Z);return at(m)(N)}}}}}}};var gi={sub:ii,Semiring0:function(){return So}};var xr=function(){return{compare:ni(U.value)(Y.value)(I.value),Eq0:function(){return li}}}(),Ot=function(){return{compare:ei(U.value)(Y.value)(I.value),Eq0:function(){return Lo}}}(),Wo=function(){return{compare:ri(U.value)(Y.value)(I.value),Eq0:function(){return Io}}}();var H=function(t){return t.compare};var ye=function(t){return t.top};var Lr={top:Zl,bottom:ti,Ord0:function(){return Wo}};var Oe=function(t){return t.bottom};var Di=function(t){var e=t.toString();return isNaN(e+".0")?e:e+".0"},yi=function(t){var e=t.charCodeAt(0);if(e<32||e===127){switch(t){case"\x07":return"'\\a'";case"\b":return"'\\b'";case"\f":return"'\\f'";case`
`:return"'\\n'";case"\r":return"'\\r'";case"	":return"'\\t'";case"\v":return"'\\v'"}return"'\\"+e.toString(10)+"'"}return t==="'"||t==="\\"?"'\\"+t+"'":"'"+t+"'"};var Fi=function(t){return function(e){for(var n=[],r=0,u=e.length;r<u;r++)n[r]=t(e[r]);return"["+n.join(",")+"]"}};var Uo={show:Di};var Ho={show:yi};var b=function(t){return t.show},Xa=function(t){return{show:Fi(b(t))}};var Ud=k(V),f=function(){function t(){}return t.value=new t,t}(),c=function(){function t(e){this.value0=e}return t.create=function(e){return new t(e)},t}();var Yt=function(t){return function(e){return function(n){if(n instanceof f)return t;if(n instanceof c)return e(n.value0);throw new Error("Failed pattern match at Data.Maybe (line 237, column 1 - line 237, column 51): "+[t.constructor.name,e.constructor.name,n.constructor.name])}}},On=Yt(!0)(Q(!1));var lt={map:function(t){return function(e){return e instanceof c?new c(t(e.value0)):f.value}}};var Mt=function(t){return Yt(t)(Ud)},Be=function(){return function(t){if(t instanceof c)return t.value0;throw new Error("Failed pattern match at Data.Maybe (line 288, column 1 - line 288, column 46): "+[t.constructor.name])}};var Oo=function(t){return t.toUpperCase()};var fn=function(t){return function(e){return e.join(t)}};var Bo=function(t){return t===""};var Ci=function(t){return function(){return t}},Ti=function(t){return function(e){return function(){return e(t())()}}};var Ei=typeof Array.prototype.flatMap=="function"?function(t){return function(e){return t.flatMap(e)}}:function(t){return function(e){for(var n=[],r=t.length,u=0;u<r;u++)for(var a=e(t[u]),o=a.length,l=0;l<o;l++)n.push(a[l]);return n}};var sn=function(t){return t.discard};var ko={bind:Ei,Apply0:function(){return xo}},E=function(t){return t.bind},ve=function(t){return j(E(t))};var dn={discard:function(t){return E(t)}};var xi=function(t){var e=E(t.Bind1()),n=y(t.Applicative0());return function(r){return function(u){return e(u)(function(a){return n(r(a))})}}},pn=function(t){var e=E(t.Bind1()),n=y(t.Applicative0());return function(r){return function(u){return e(r)(function(a){return e(u)(function(o){return n(a(o))})})}}};var Li=function(t){return Math.min(Math.abs(t),2147483647)},Ii=function(t){return function(e){return e===0?0:e>0?Math.floor(t/e):-Math.floor(t/-e)}},Ni=function(t){return function(e){if(e===0)return 0;var n=Math.abs(e);return(t%n+n)%n}};var Si={Ring0:function(){return gi}};var Nr=function(t){return t.mod};var Jo={degree:Li,div:Ii,mod:Ni,CommutativeRing0:function(){return Si}};var it=function(t){return t.mempty};var Ai=function(t,e,n){var r=0,u;return function(a){if(r===2)return u;if(r===1)throw new ReferenceError(t+" was needed before it finished initializing (module "+e+", line "+a+")",e,a);return r=1,u=n(),r=2,u}},It={Applicative0:function(){return xt},Bind1:function(){return zn}},zn={bind:Ti,Apply0:function(){return tu(0)}},xt={pure:Ci,Apply0:function(){return tu(0)}},Wi=Ai("functorEffect","Effect",function(){return{map:Er(xt)}}),tu=Ai("applyEffect","Effect",function(){return{apply:pn(It),Functor0:function(){return Wi(0)}}}),S=Wi(20),Ui=tu(23);var ne={liftEffect:k(V),Monad0:function(){return It}},Nt=function(t){return t.liftEffect};function Hi(t){return function(e){return function(n){return function(){var r=new Image;r.src=t,r.addEventListener("load",function(){n(r)()},!1),r.addEventListener("error",function(){e()},!1)}}}}function $i(t,e,n){return function(){var r=document.getElementById(t);return r&&r instanceof HTMLCanvasElement?e(r):n}}function Sr(t){return function(){return t.getContext("2d")}}function Pr(t){return function(){return t.width}}function Ar(t){return function(){return t.height}}function eu(t){return function(e){return function(){t.width=e}}}function nu(t){return function(e){return function(){t.height=e}}}function ru(t){return function(){return t.toDataURL()}}function be(t){return function(e){return function(){t.fillStyle=e}}}function qi(t){return function(e){return function(){t.globalCompositeOperation=e}}}function ou(t){return function(){t.beginPath()}}function au(t){return function(){t.fill()}}function uu(t){return function(e){return function(){t.rect(e.x,e.y,e.width,e.height)}}}function lu(t){return function(e){return function(){t.clearRect(e.x,e.y,e.width,e.height)}}}function Oi(t){return function(e){return function(){t.textAlign=e}}}function Bi(t){return function(e){return function(){t.textBaseline=e}}}function vn(t){return function(e){return function(){t.font=e}}}function Wr(t){return function(e){return function(n){return function(r){return function(){t.fillText(e,n,r)}}}}}function iu(t){return function(){t.save()}}function cu(t){return function(){t.restore()}}function fu(t){return function(e){return function(n){return function(r){return function(u){return function(a){return function(){t.drawImage(e,n,r,u,a)}}}}}}}var st=function(){function t(e){this.value0=e}return t.create=function(e){return new t(e)},t}(),ct=function(){function t(e){this.value0=e}return t.create=function(e){return new t(e)},t}();var Zd=ee(Ui),re=function(){function t(){}return t.value=new t,t}(),tp=function(){function t(){}return t.value=new t,t}(),ep=function(){function t(){}return t.value=new t,t}(),np=function(){function t(){}return t.value=new t,t}(),rp=function(){function t(){}return t.value=new t,t}(),mn=function(){function t(){}return t.value=new t,t}(),oe=function(){function t(){}return t.value=new t,t}(),kn=function(){function t(){}return t.value=new t,t}(),Jn=function(){function t(){}return t.value=new t,t}(),Gn=function(){function t(){}return t.value=new t,t}(),Vn=function(){function t(){}return t.value=new t,t}();var Vo=function(){function t(){}return t.value=new t,t}(),op=function(){function t(){}return t.value=new t,t}(),ap=function(){function t(){}return t.value=new t,t}(),up=function(){function t(){}return t.value=new t,t}(),lp=function(){function t(){}return t.value=new t,t}(),ip=function(){function t(){}return t.value=new t,t}(),cp=function(){function t(){}return t.value=new t,t}(),fp=function(){function t(){}return t.value=new t,t}(),sp=function(){function t(){}return t.value=new t,t}(),dp=function(){function t(){}return t.value=new t,t}(),pp=function(){function t(){}return t.value=new t,t}(),vp=function(){function t(){}return t.value=new t,t}(),mp=function(){function t(){}return t.value=new t,t}(),_p=function(){function t(){}return t.value=new t,t}(),gp=function(){function t(){}return t.value=new t,t}(),hp=function(){function t(){}return t.value=new t,t}(),Rp=function(){function t(){}return t.value=new t,t}(),Dp=function(){function t(){}return t.value=new t,t}(),yp=function(){function t(){}return t.value=new t,t}(),Fp=function(){function t(){}return t.value=new t,t}(),wp=function(){function t(){}return t.value=new t,t}(),bp=function(){function t(){}return t.value=new t,t}(),Cp=function(){function t(){}return t.value=new t,t}(),Tp=function(){function t(){}return t.value=new t,t}(),Ep=function(){function t(){}return t.value=new t,t}(),Mp=function(){function t(){}return t.value=new t,t}(),St=function(t){return function(e){return function(){iu(t)();var r=e();return cu(t)(),r}}},Gi=function(t){return function(e){return Hi(t)(e(f.value))(function(n){return e(c.create(n))})}};var jn=function(t){return function(e){var n=function(r){if(r instanceof re)return"top";if(r instanceof tp)return"hanging";if(r instanceof ep)return"middle";if(r instanceof np)return"alphabetic";if(r instanceof rp)return"ideographic";if(r instanceof mn)return"bottom";throw new Error("Failed pattern match at Graphics.Canvas (line 577, column 5 - line 577, column 33): "+[r.constructor.name])};return Bi(t)(n(e))}},Qn=function(t){return function(e){var n=function(r){if(r instanceof oe)return"left";if(r instanceof kn)return"right";if(r instanceof Jn)return"center";if(r instanceof Gn)return"start";if(r instanceof Vn)return"end";throw new Error("Failed pattern match at Graphics.Canvas (line 531, column 5 - line 531, column 32): "+[r.constructor.name])};return Oi(t)(n(e))}};var Vi=function(t){return function(e){var n=function(r){if(r instanceof Vo)return"source-over";if(r instanceof op)return"source-in";if(r instanceof ap)return"source-out";if(r instanceof up)return"source-atop";if(r instanceof lp)return"destination-over";if(r instanceof ip)return"destination-in";if(r instanceof cp)return"destination-out";if(r instanceof fp)return"destination-atop";if(r instanceof sp)return"lighter";if(r instanceof dp)return"copy";if(r instanceof pp)return"xor";if(r instanceof vp)return"multiply";if(r instanceof mp)return"screen";if(r instanceof _p)return"overlay";if(r instanceof gp)return"darken";if(r instanceof hp)return"lighten";if(r instanceof Rp)return"color-dodge";if(r instanceof Dp)return"color-burn";if(r instanceof yp)return"hard-light";if(r instanceof Fp)return"soft-light";if(r instanceof wp)return"difference";if(r instanceof bp)return"exclusion";if(r instanceof Cp)return"hue";if(r instanceof Tp)return"saturation";if(r instanceof Ep)return"color";if(r instanceof Mp)return"luminosity";throw new Error("Failed pattern match at Graphics.Canvas (line 326, column 5 - line 326, column 45): "+[r.constructor.name])};return qi(t)(n(e))}},ji=function(t){return function(e){return Zd(nu(t)(e.height))(eu(t)(e.width))}},Qi=function(t){return $i(t,c.create,f.value)},Yi=function(t){return function(){var n=Pr(t)(),r=Ar(t)();return{width:n,height:r}}},Xi=function(t){return function(e){return function(){ou(t)();var r=e();return au(t)(),r}}};var jo=function(t){return function(e){return e(function(n){return t(n)})}},Yn=function(t){return function(e){return{x:e.x+t.translateX,y:e.y+t.translateY}}};var Ge=function(t){return t.translate},Ki=function(t){return function(e){return{width:e.width*t.scaleX,height:e.height*t.scaleY}}};var Ce=function(t){return t.position},Te=function(t){return function(e){return function(n){return n(t)(e)}}},xp=function(t){var e=p(t);return function(n){return jo(function(r){var u=e(Te(r)),a=n(r);return function(o){return u(a(o))}})}};var Zi=function(t){return t.mapLayerWrapper},Ee=function(t){return t.draw},Lp=function(t){var e=Ge(t);return function(n){return function(r){return function(u){var a={translateX:r.translateX-n.offsetX,translateY:r.translateY-n.offsetY};return e(a)(u)}}}},Ve=function(t){var e=y(t);return function(n){var r=Lp(n);return function(u){return function(a){return function(o){if(u instanceof f)return e(o);if(u instanceof c)return r(u.value0)(a)(o);throw new Error("Failed pattern match at Template.Layer (line 59, column 1 - line 59, column 115): "+[u.constructor.name,a.constructor.name,o.constructor.name])}}}}},je=function(t){return t.dragStart},Qe=function(t){return t.dragEnd},Ye=function(t){return t.drag},_n=function(t){return t.containsPoint},Qo=function(t){var e=xp(t);return{position:jo(function(n){return Ce(n)}),translate:function(n){return e(function(r){return Ge(r)(n)})},containsPoint:function(n){return jo(function(r){return _n(r)(n)})},draw:function(n){return jo(function(r){return Ee(r)(n)})},dragStart:function(n){return e(function(r){return je(r)(n)})},drag:function(n){return e(function(r){return Ye(r)(n)})},dragEnd:e(function(n){return Qe(n)})}};var tc=function(t){return function(){return{value:t}}};var Xt=function(t){return function(){return t.value}},ec=function(t){return function(e){return function(){var n=t(e.value);return e.value=n.state,n.value}}},Ur=function(t){return function(e){return function(){e.value=t}}};var Np=ht(S),Xn=tc,Sp=ec,nc=function(t){return Sp(function(e){var n=t(e);return{state:n,value:n}})},rc=function(t){return function(e){return Np(nc(t)(e))}};var $r=t=>t.width,qr=t=>t.height;var gn=t=>e=>()=>t.letterSpacing=e;var oc=function(t){return function(e){return function(n){return function(r){return fu(t)(e)(n.x)(n.y)(r.width)(r.height)}}}};var ac=function(t){return{width:$r(t),height:qr(t)}};var pu=function(t){var e=t.Monad0(),n=e.Applicative0(),r=y(n),u=E(e.Bind1()),a=Nt(t),o=Ve(n);return{position:function(l){return r(l.position)},translate:function(l){return function(i){return r({image:i.image,scale:i.scale,composite:i.composite,dragOffset:i.dragOffset,position:Yn(l)(i.position)})}},containsPoint:function(l){return function(i){return u(a(Xt(i.image)))(function(d){if(d instanceof f)return r(!1);if(d instanceof c)return r(i.position.x<=l.x&&l.x<=i.position.x+$r(d.value0)*i.scale.scaleX&&i.position.y<=l.y&&l.y<=i.position.y+qr(d.value0)*i.scale.scaleY);throw new Error("Failed pattern match at Template.Layer.Image (line 74, column 5 - line 78, column 107): "+[d.constructor.name])})}},dragStart:function(l){return function(i){return r({image:i.image,position:i.position,scale:i.scale,composite:i.composite,dragOffset:new c(l)})}},drag:function(l){return function(i){return o(pu(t))(i.dragOffset)(l)(i)}},dragEnd:function(l){return r({image:l.image,position:l.position,scale:l.scale,composite:l.composite,dragOffset:f.value})},draw:function(l){return function(i){return function(){var s=Xt(i.image)();if(s instanceof f)return void 0;if(s instanceof c)return St(l)(function(){return Vi(l)(i.composite)(),oc(l)(s.value0)(i.position)(Ki(i.scale)(ac(s.value0)))()})();throw new Error("Failed pattern match at Template.Layer.Image (line 86, column 5 - line 91, column 78): "+[s.constructor.name])}}}}};var uc=function(t){var e=Nt(t);return function(n){return function(r){return function(u){return function(a){return e(function(){var l=Xn(f.value)();return Gi(n)(function(){var i=j(rc)(l);return function(d){return i(Q(d))}}())(),{image:l,position:r,scale:u,composite:a,dragOffset:f.value}})}}}}};var hn=function(t){return t.throwError};var Kn=function(t){return t};var gu={map:function(t){return function(e){return t(e)}}};var ic={apply:function(t){return function(e){return t(e)}},Functor0:function(){return gu}},Hp={bind:function(t){return function(e){return e(t)}},Apply0:function(){return ic}},$p={pure:Kn,Apply0:function(){return ic}},cc={Applicative0:function(){return $p},Bind1:function(){return Hp}};var Pt=function(){function t(e){this.value0=e}return t.create=function(e){return new t(e)},t}(),At=function(){function t(e){this.value0=e}return t.create=function(e){return new t(e)},t}(),xe=function(t){return t.tailRecM};var qp=function(t){var e=function(n){var r=!1,u;function a(o){if(o instanceof Pt){n=t(o.value0);return}if(o instanceof At)return r=!0,o.value0;throw new Error("Failed pattern match at Control.Monad.Rec.Class (line 103, column 3 - line 103, column 25): "+[o.constructor.name])}for(;!r;)u=a(n);return u};return function(n){return e(t(n))}};var fc={tailRecM:function(t){var e=function(r){return r},n=qp(function(r){return e(t(r))});return function(r){return Kn(n(r))}},Monad0:function(){return cc}};var v=function(t){return t};var Rn=function(t){return t.defer};var mc=function(t){return function(e){return t&&e}},_c=function(t){return function(e){return t||e}},gc=function(t){return!t};var Xo=function(t){return t.not};var zr=function(t){return t.ff};var tr=function(t){return t.disj},Xe={ff:!1,tt:!0,implies:function(t){return function(e){return tr(Xe)(Xo(Xe)(t))(e)}},conj:mc,disj:_c,not:gc};var C=function(){function t(e,n){this.value0=e,this.value1=n}return t.create=function(e){return function(n){return new t(e,n)}},t}();var Dn=function(t){return t.value0};var ae=function(t){return t.lift};var Zp=p(lt);var Zo=function(t){return t},yn=function(t){return t};var nr={lift:function(t){var e=xi(t)(c.create);return function(n){return Zo(e(n))}}};var tv=function(t){var e=p(t);return{map:function(n){return function(r){return e(Zp(n))(r)}}}},ev=function(t){return{Applicative0:function(){return kr(t)},Bind1:function(){return Fn(t)}}},Fn=function(t){var e=E(t.Bind1()),n=y(t.Applicative0());return{bind:function(r){return function(u){return e(r)(function(a){if(a instanceof f)return n(f.value);if(a instanceof c){var o=u(a.value0);return o}throw new Error("Failed pattern match at Control.Monad.Maybe.Trans (line 55, column 11 - line 57, column 42): "+[a.constructor.name])})}},Apply0:function(){return Fc(t)}}},Fc=function(t){var e=tv(t.Bind1().Apply0().Functor0());return{apply:pn(ev(t)),Functor0:function(){return e}}},kr=function(t){return{pure:function(){var e=y(t.Applicative0());return function(n){return Zo(e(c.create(n)))}}(),Apply0:function(){return Fc(t)}}};var rr=function(t){var e=y(t.Applicative0());return function(n){return Zo(e(n))}};var wc=function(t,e){for(var n=t>e?-1:1,r=new Array(n*(e-t)+1),u=t,a=0;u!==e;)r[a++]=u,u+=n;return r[a]=u,r},nv=function(t,e){if(t<1)return[];var n=new Array(t);return n.fill(e)},rv=function(t,e){for(var n=[],r=0,u=0;u<t;u++)n[r++]=e;return n},ov=typeof Array.prototype.fill=="function"?nv:rv,bc=function(){function t(u,a){this.head=u,this.tail=a}var e={};function n(u){return function(a){return new t(u,a)}}function r(u){for(var a=[],o=0,l=u;l!==e;)a[o++]=l.head,l=l.tail;return a}return function(u,a){return r(u(n)(e)(a))}}(),_t=function(t){return t.length};var Cc=function(t,e,n,r){return r<0||r>=n.length?e:t(n[r])};var Tc=function(t,e,n,r){for(var u=0,a=r.length;u<a;u++)if(n(r[u]))return t(u);return e};var Ec=function(t,e,n,r,u){if(n<0||n>=u.length)return e;var a=u.slice();return a[n]=r,t(a)},or=function(t){return t.slice().reverse()},Ie=function(t){if(t.length<=1e4)return Array.prototype.concat.apply([],t);for(var e=[],n=0,r=t.length;n<r;n++)for(var u=t[n],a=0,o=u.length;a<o;a++)e.push(u[a]);return e};var Mc=function(t,e,n){for(var r=n.length,u=e,a=new Array(r),o=0;o<r;o++)u=t(u)(n[o]),a[o]=u;return a};var xc=function(t,e,n){return n.slice(t,e)},Lc=function(t,e,n){for(var r=e.length<n.length?e.length:n.length,u=new Array(r),a=0;a<r;a++)u[a]=t(e[a])(n[a]);return u},Ic=function(t,e){for(var n=e.length,r=0;r<n;r++)if(t(e[r]))return!0;return!1};function uv(t){return t}var Nc=uv;function lv(t){return t.slice()}var Sc=lv;var Pc=function(t,e){return e.push(t)};var ea=function(e){return function(n){return function(){return e(n)}}},Fu=function(e){return function(n){return function(r){return function(){return e(n,r)}}}};var Ac=ea(Nc);var vv=ea(Sc),Wc=function(t){return function(e){return function(){var r=vv(e)();return t(r)(),Ac(r)()}}};var wu=Fu(Pc);var Hc=function(t){return function(e){return function(n){for(var r=e,u=n.length,a=u-1;a>=0;a--)r=t(n[a])(r);return r}}},$c=function(t){return function(e){return function(n){for(var r=e,u=n.length,a=0;a<u;a++)r=t(r)(n[a]);return r}}};var oa=function(t){return t};var Lv=function(t){var e=tr(t);return{append:function(n){return function(r){return e(n)(r)}}}};var Eu=function(t){var e=Lv(t);return{mempty:zr(t),Semigroup0:function(){return e}}};var Mu=function(){return v};var kc=Mu();var wn=function(){return kc};var xu=function(){return function(){return function(){return function(){return function(t){return kc}}}}};var Av=k(V),Wv=O($n);var Uv=xu()()()(),bt=function(t){return t.foldr};var Qr=function(t){var e=ee(t.Apply0()),n=y(t);return function(r){var u=bt(r);return function(a){return u(function(o){return e(a(o))})(n(void 0))}}},Yr=function(t){var e=Qr(t);return function(n){return j(e(n))}};var ft=function(t){return t.foldl};var Gc=function(t){var e=ft(t);return function(n){var r=function(u){return function(a){if(u instanceof f)return new c(a);if(u instanceof c)return new c(function(){var o=Wv(n(u.value0)(a))(I.value);return o?u.value0:a}());throw new Error("Failed pattern match at Data.Foldable (line 441, column 3 - line 441, column 27): "+[u.constructor.name,a.constructor.name])}};return e(r)(f.value)}},Xr=function(t){var e=H(t);return function(n){return Gc(n)(e)}};var Iu=function(t){var e=ft(t);return function(n){return e(qt(n))(Qt(n))}};var Vc=function(t){var e=bt(t);return function(n){var r=A(n.Semigroup0()),u=it(n);return function(a){return e(function(o){return function(l){return r(a(o))(l)}})(u)}}},gt={foldr:Hc,foldl:$c,foldMap:function(t){return Vc(gt)(t)}};var _e=function(t){return t.foldMap};var Cn=function(t){var e=_e(t);return function(n){return Uv(oa)(e(Eu(n)))}};var Nu=function(t){var e=Cn(t);return function(n){return e(n)(Av)}};var Kr=function(t){return function(e,n,r,u,a){return t(e)(n)(r)(u)(a)}};var Tn=function(t){return function(e){return function(n){return t(e,n)}}},Zr=function(t){return function(e){return function(n){return function(r){return t(e,n,r)}}}},la=function(t){return function(e){return function(n){return function(r){return function(u){return t(e,n,r,u)}}}}},Su=function(t){return function(e){return function(n){return function(r){return function(u){return function(a){return t(e,n,r,u,a)}}}}}};var tf=function(){function t(u){return[u]}function e(u){return function(a){return[u,a]}}function n(u){return function(a){return function(o){return[u,a,o]}}}function r(u){return function(a){return u.concat(a)}}return function(u){return function(a){return function(o){return function(l){return function(i){function d(s,m){switch(m-s){case 0:return o([]);case 1:return a(t)(l(i[s]));case 2:return u(a(e)(l(i[s])))(l(i[s+1]));case 3:return u(u(a(n)(l(i[s])))(l(i[s+1])))(l(i[s+2]));default:var w=s+Math.floor((m-s)/4)*2;return u(a(r)(d(s,w)))(d(w,m))}}return d(0,i.length)}}}}}}();var R1=k(V),Bt=function(t){return t.traverse};var D1=function(t){var e=Bt(t);return function(n){return e(n)(R1)}},ge={traverse:function(t){var e=t.Apply0();return tf(ot(e))(p(e.Functor0()))(y(t))},sequence:function(t){return D1(ge)(t)},Functor0:function(){return Rt},Foldable1:function(){return gt}};var S1=A(de);var sf=Zr(Lc);var Ke=function(){return sf(C.create)}();var df=function(){return Su(Ec)(c.create)(f.value)}();var yt=function(t){return function(e){return Wc(wu(e))(t)()}},Bu=Zr(xc),ro=function(t){return function(e){return t<=0?{before:[],after:e}:{before:Bu(0)(t)(e),after:Bu(t)(_t(e))(e)}}};var ku=function(t){return[t]};var va=Zr(Mc);var Ju=Tn(wc);var Se=function(){return la(Cc)(c.create)(f.value)}();var Gu=function(t){return function(e){return function(n){var r=function(u){return df(t)(e(u))(n)};return Yt(f.value)(r)(Se(n)(t))}}};var Vu=function(t){return Tn(bc)(bt(t))};var oo=function(){return la(Tc)(c.create)(f.value)}();var ju=function(t){var e=O(t);return function(n){return oo(function(r){return e(r)(n)})}},Qu=function(t){var e=ju(t);return function(n){return function(r){return On(e(n)(r))}}};var ao=function(t){return function(e){return S1([t])(e)}};var Yu=j(E(ko));var uo=Tn(Ic);var P1=ae(nr);var pf=function(t){var e=E(Fn(t)),n=rr(t),r=P1(t);return function(u){return function(a){return function(o){return e(n(Se(o)(u)))(function(l){return e(r(a(l)))(function(i){return n(Gu(u)(Q(i))(o))})})}}}};var sr=function(t){return Ke(Ju(0)(_t(t)))(t)};var A1=Bt(ge),W1=Nu(gt)(Xe),U1=Qr(xt)(gt),H1=ae(nr),$1=k(V);var vf=function(t){var e=t.Applicative0(),n=t.Bind1().Apply0().Functor0(),r=$e(n),u=A1(e),a=Qo(n),o=Ge(a),l=p(n),i=_n(a),d=Ee(a),s=E(Fn(t)),m=H1(t),w=rr(t),et=Ce(a),N=pf(t),Z=je(a),at=y(kr(t)),ce=Ye(a),Ut=Qe(a);return{position:Q(y(e)({x:0,y:0})),translate:function(ut){return function(pt){return r(u(o(ut))(pt.layers))(function(fe){return{dragIndex:pt.dragIndex,layers:fe}})}},containsPoint:function(ut){return function(pt){return l(W1)(u(i(ut))(pt.layers))}},draw:function(ut){return function(pt){return U1(function(){var fe=St(ut),ln=d(ut);return function(Hn){return fe(ln(Hn))}}())(or(pt.layers))}},dragStart:function(ut){return function(pt){return l(Mt(pt))(yn(s(m(u(i({x:ut.offsetX,y:ut.offsetY}))(pt.layers)))(function(fe){return s(w(oo($1)(fe)))(function(ln){return s(w(Se(pt.layers)(ln)))(function(Hn){return s(m(et(Hn)))(function(To){return s(N(ln)(Z({offsetX:ut.offsetX-To.x,offsetY:ut.offsetY-To.y}))(pt.layers))(function(dd){return at({dragIndex:new c(ln),layers:dd})})})})})})))}},drag:function(ut){return function(pt){return l(Mt(pt))(yn(s(w(pt.dragIndex))(function(fe){return s(w(Se(pt.layers)(fe)))(function(ln){return s(m(et(ln)))(function(Hn){return s(N(fe)(ce({translateX:ut.translateX-Hn.x,translateY:ut.translateY-Hn.y}))(pt.layers))(function(To){return at({dragIndex:pt.dragIndex,layers:To})})})})})))}},dragEnd:function(ut){return l(Mt({layers:ut.layers,dragIndex:f.value}))(yn(s(w(ut.dragIndex))(function(pt){return s(N(pt)(Ut)(ut.layers))(function(fe){return at({dragIndex:f.value,layers:fe})})})))}}},mf=function(t){return{layers:t,dragIndex:f.value}};var Ku=function(t){var e=y(t),n=Ve(t);return{position:function(r){return e({x:r.rect.x,y:r.rect.y})},translate:function(r){return function(u){return e({fillStyle:u.fillStyle,dragOffset:u.dragOffset,rect:{width:u.rect.width,height:u.rect.height,x:u.rect.x+r.translateX,y:u.rect.y+r.translateY}})}},containsPoint:function(r){return function(u){return e(u.rect.x<=r.x&&r.x<=u.rect.x+u.rect.width&&u.rect.y<=r.y&&r.y<=u.rect.y+u.rect.height)}},draw:function(r){return function(u){return function(){return be(r)(u.fillStyle)(),Xi(r)(uu(r)(u.rect))()}}},dragStart:function(r){return function(u){return e({rect:u.rect,fillStyle:u.fillStyle,dragOffset:new c(r)})}},drag:function(r){return function(u){return n(Ku(t))(u.dragOffset)(r)(u)}},dragEnd:function(r){return e({rect:r.rect,fillStyle:r.fillStyle,dragOffset:f.value})}}},_f=function(t){return function(e){return{rect:t,fillStyle:e,dragOffset:f.value}}};var B1=sn(dn),Zu=function(t){var e=t.Monad0(),n=e.Bind1(),r=E(n),u=Nt(t),a=B1(n),o=y(e.Applicative0());return function(l){return function(i){return r(u(Xt(i)))(function(d){return r(l(d))(function(s){return a(u(Ur(s)(i)))(function(){return o(s)})})})}}},gf=function(t){var e=qe(t.Monad0().Bind1().Apply0().Functor0()),n=Zu(t);return function(r){return function(u){return e(void 0)(n(r)(u))}}};var J1=ve(zn),G1=function(t){return t};var ma=function(t){var e=t.Monad0().Bind1(),n=ve(e),r=Nt(t),u=qe(e.Apply0().Functor0()),a=Zu(t);return function(o){var l=Ce(o),i=Ge(o),d=_n(o),s=je(o),m=Ye(o),w=Qe(o),et=Ee(o);return{position:function(N){return n(l)(r(Xt(N)))},translate:function(N){return function(Z){return u(Z)(a(i(N))(Z))}},containsPoint:function(N){return function(Z){return n(d(N))(r(Xt(Z)))}},dragStart:function(N){return function(Z){return u(Z)(a(s(N))(Z))}},drag:function(N){return function(Z){return u(Z)(a(m(N))(Z))}},dragEnd:function(N){return u(N)(a(w)(N))},draw:function(N){return function(Z){return J1(et(N))(Xt(Z))}}}}};var hf=function(t){var e=gf(t);return function(n){return function(r){return e(n)(r)}}};var _a=function(t){var e=p(t.Monad0().Bind1().Apply0().Functor0()),n=Nt(t);return function(r){return e(G1)(n(Xn(r)))}};var G=function(t){return t};var ga=isFinite;function Df(t,e,n,r){var u=parseFloat(t);return e(u)?n(u):r}var ha=function(t){return Df(t,ga,c.create,f.value)};function Ff(t){return t.split(/\r\n|[\n\v\f\r\u0085\u2028\u2029]/)}function wf(t){return t.split(/[\u000a-\u000d\u0085\u2028\u2029\u0009\u0020\u00a0\u1680\u2000-\u200a\u202f\u205f\u3000]+/)}var Y4=typeof Array.from=="function",rm=typeof Symbol<"u"&&Symbol!=null&&typeof Symbol.iterator<"u"&&typeof String.prototype[Symbol.iterator]=="function",X4=typeof String.prototype.fromCodePoint=="function",om=typeof String.prototype.codePointAt=="function",bf=function(t){return om?function(e){return e.codePointAt(0)}:t},Cf=function(t){return function(e){return function(n){return function(r){return function(u){return function(a){var o=a.length;if(u<0||u>=o)return n;if(rm)for(var l=a[Symbol.iterator](),i=u;;--i){var d=l.next();if(d.done)return n;if(i===0)return e(r(d.value))}return t(u)(a)}}}}}};function tn(t){return t.charCodeAt(0)}function Tf(t){return String.fromCharCode(t)}var xf=Oe(Lr),Lf=ye(Lr);var Pe=function(t){return t.toEnum};var en=function(t){return t.fromEnum};var xn=function(t){return function(e){return function(n){return t(e(n)+1|0)}}},Ln=function(t){return function(e){return function(n){return t(e(n)-1|0)}}};var tl=function(t){return t>=tn(xf)&&t<=tn(Lf)?new c(Tf(t)):f.value},sm={succ:xn(tl)(tn),pred:Ln(tl)(tn),Ord0:function(){return Wo}};var io=function(){return{cardinality:tn(Lf)-tn(xf)|0,toEnum:tl,fromEnum:tn,Bounded0:function(){return Lr},Enum1:function(){return sm}}}();var el=function(t){return t.join("")};var nn=function(t){return t.length};var In=function(t){return function(e){return e.substring(t)}};var rn=function(t){return function(e){if(t>=0&&t<e.length)return e.charAt(t);throw new Error("Data.String.Unsafe.charAt: Invalid index.")}};var Rm=function(t,e,n){var r=0,u;return function(a){if(r===2)return u;if(r===1)throw new ReferenceError(t+" was needed before it finished initializing (module "+e+", line "+a+")",e,a);return r=1,u=n(),r=2,u}},co=en(io);var Dm=H(Ot);var Sf=function(t){return function(e){return(((t-55296|0)*1024|0)+(e-56320|0)|0)+65536|0}};var Pf=function(t){return 56320<=t&&t<=57343},Af=function(t){return 55296<=t&&t<=56319},Da=function(t){var e=nn(t);if(e===0)return f.value;if(e===1)return new c({head:co(rn(0)(t)),tail:""});var n=co(rn(1)(t)),r=co(rn(0)(t)),u=Af(r)&&Pf(n);return u?new c({head:Sf(r)(n),tail:In(2)(t)}):new c({head:r,tail:In(1)(t)})};var ym=function(t){var e=co(rn(0)(t)),n=Af(e)&&nn(t)>1;if(n){var r=co(rn(1)(t)),u=Pf(r);return u?Sf(e)(r):e}return e},Nf=bf(ym);var rl={eq:function(t){return function(e){return t===e}}},ol={compare:function(t){return function(e){return Dm(t)(e)}},Eq0:function(){return rl}};var Fm=function(t){return function(e){var n=t,r=!1,u;function a(o,l){var i=Da(l);if(i instanceof c){var d=o===0;if(d)return r=!0,new c(i.value0.head);n=o-1|0,e=i.value0.tail;return}return r=!0,f.value}for(;!r;)u=a(n,e);return u}},Wf=function(t){return function(e){return t<0?f.value:t===0&&e===""?f.value:t===0?new c(Nf(e)):Cf(Fm)(c.create)(f.value)(Nf)(t)(e)}},wm={bottom:0,top:1114111,Ord0:function(){return ol}},Nn=function(){return{cardinality:1114112,fromEnum:function(t){return t},toEnum:function(t){if(t>=0&&t<=1114111)return new c(t);if(Ft)return f.value;throw new Error("Failed pattern match at Data.String.CodePoints (line 63, column 1 - line 68, column 26): "+[t.constructor.name])},Bounded0:function(){return wm},Enum1:function(){return bm(0)}}}(),bm=Rm("enumCodePoint","Data.String.CodePoints",function(){return{succ:xn(Pe(Nn))(en(Nn)),pred:Ln(Pe(Nn))(en(Nn)),Ord0:function(){return ol}}});var Fa=function(t){return wf(t)};var pr=function(t){return Ff(t)};var wa=t=>e=>()=>t.measureText(e);var ba=Bt(ge)(xt),Wm=ft(gt),Um=p(Rt),Bf=p(S),Hm=Xr(xr)(gt),$f=b(Uo),$m=Yr(xt)(gt);var zf=function(t){return function(e){return{position:e.position,maxWidth:e.maxWidth,fillStyle:e.fillStyle,fontName:e.fontName,fontSize:e.fontSize,fontStyle:e.fontStyle,fontWeight:e.fontWeight,align:e.align,baseline:e.baseline,lineHeight:e.lineHeight,letterSpacing:e.letterSpacing,dragOffset:e.dragOffset,context:e.context,text:t}}};var fo=function(t){return function(e){return function(){var r=wa(t)(e)();return r.width}}},qm=function(t){return function(e){return function(n){var r=Fa(n);return function(){var a=ba(fo(t))(r)(),o=fo(t)(" ")(),l=function(s){return function(m){if(s.value1.value0.length===0)return new C(s.value0,new C([m.value0],m.value1));var w=s.value1.value1+o+m.value1>e;return w?new C(yt(s.value0)(s.value1.value0),new C([m.value0],m.value1)):new C(s.value0,new C(yt(s.value1.value0)(m.value0),s.value1.value1+o+m.value1))}},i=Wm(l)(new C([],new C([],0)))(Ke(r)(a)),d=Um(fn(" "))(i.value0);return i.value1.value0.length===0?d:yt(d)(fn(" ")(i.value1.value0))}}}},qf=function(t){return function(e){return function(n){return Bf(Ie)(ba(qm(t)(e))(pr(n)))}}},il=function(t){return function(e){return function(){var r=wa(t)(e)();return r.actualBoundingBoxAscent+r.actualBoundingBoxDescent}}};var Of=function(t){return function(e){return Bf(function(){var n=Mt(0);return function(r){return n(Hm(r))}}())(ba(il(t))(e))}},cl=function(t){var e=t.Monad0().Applicative0(),n=y(e),r=Nt(t),u=Ve(e);return{position:function(a){return n(a.position)},translate:function(a){return function(o){return n({text:o.text,maxWidth:o.maxWidth,fillStyle:o.fillStyle,fontName:o.fontName,fontSize:o.fontSize,fontStyle:o.fontStyle,fontWeight:o.fontWeight,align:o.align,baseline:o.baseline,lineHeight:o.lineHeight,letterSpacing:o.letterSpacing,dragOffset:o.dragOffset,context:o.context,position:Yn(a)(o.position)})}},containsPoint:function(a){return function(o){return r(St(o.context)(function(){be(o.context)(o.fillStyle)(),vn(o.context)(o.fontStyle+(" "+(o.fontWeight+(" "+($f(o.fontSize)+("px "+o.fontName))))))(),jn(o.context)(o.baseline)(),Qn(o.context)(o.align)(),gn(o.context)(o.letterSpacing)();var i=function(){if(o.maxWidth instanceof c)return qf(o.context)(o.maxWidth.value0)(o.text)();if(o.maxWidth instanceof f)return pr(o.text);throw new Error("Failed pattern match at Template.Layer.Text (line 70, column 14 - line 72, column 44): "+[o.maxWidth.constructor.name])}(),d=ba(fo(o.context))(i)(),s=Of(o.context)(i)();return j(uo)(sr(d))(function(m){var w=function(){return o.baseline instanceof re?o.position.y+s*o.lineHeight*G(m.value0):o.baseline instanceof mn?o.position.y-s-G((_t(i)-m.value0|0)-1|0)*s*o.lineHeight:o.position.y+s*o.lineHeight*G(m.value0)}();if(o.align instanceof Gn||o.align instanceof oe)return o.position.x<=a.x&&a.x<=o.position.x+m.value1&&w<=a.y&&a.y<=w+s;if(o.align instanceof Vn||o.align instanceof kn)return o.position.x-m.value1<=a.x&&a.x<=o.position.x&&w<=a.y&&a.y<=w+s;if(o.align instanceof Jn)return o.position.x-m.value1/2<=a.x&&a.x<=o.position.x+m.value1/2&&w<=a.y&&a.y<=w+s;throw new Error("Failed pattern match at Template.Layer.Text (line 83, column 7 - line 93, column 65): "+[o.align.constructor.name])})}))}},dragStart:function(a){return function(o){return n({text:o.text,position:o.position,maxWidth:o.maxWidth,fillStyle:o.fillStyle,fontName:o.fontName,fontSize:o.fontSize,fontStyle:o.fontStyle,fontWeight:o.fontWeight,align:o.align,baseline:o.baseline,lineHeight:o.lineHeight,letterSpacing:o.letterSpacing,context:o.context,dragOffset:new c(a)})}},drag:function(a){return function(o){return u(cl(t))(o.dragOffset)(a)(o)}},dragEnd:function(a){return n({text:a.text,position:a.position,maxWidth:a.maxWidth,fillStyle:a.fillStyle,fontName:a.fontName,fontSize:a.fontSize,fontStyle:a.fontStyle,fontWeight:a.fontWeight,align:a.align,baseline:a.baseline,lineHeight:a.lineHeight,letterSpacing:a.letterSpacing,context:a.context,dragOffset:f.value})},draw:function(a){return function(o){return St(a)(function(){be(a)(o.fillStyle)(),vn(a)(o.fontStyle+(" "+(o.fontWeight+(" "+($f(o.fontSize)+("px "+o.fontName))))))(),jn(a)(o.baseline)(),Qn(a)(o.align)(),gn(a)(o.letterSpacing)();var i=function(){if(o.maxWidth instanceof c)return qf(a)(o.maxWidth.value0)(o.text)();if(o.maxWidth instanceof f)return pr(o.text);throw new Error("Failed pattern match at Template.Layer.Text (line 106, column 14 - line 108, column 44): "+[o.maxWidth.constructor.name])}(),d=Of(a)(i)();return $m(sr(i))(function(s){var m=function(){return o.baseline instanceof re?o.position.y+G(s.value0)*d*o.lineHeight:o.baseline instanceof mn?o.position.y-G((_t(i)-s.value0|0)-1|0)*d*o.lineHeight:o.position.y+G(s.value0)*d*o.lineHeight}();return Wr(a)(s.value1)(o.position.x)(m)})()})}}}};var kf=function(t){return t};var Ym=kf;var sl=function(t){return t};var Qf=function(t){if(_t(t)>0)return new c(Ym(t));if(Ft)return f.value;throw new Error("Failed pattern match at Data.Array.NonEmpty (line 161, column 1 - line 161, column 58): "+[t.constructor.name])};var mr=function(t){var e=null;return function(){return t===void 0||(e=t(),t=void 0),e}},vo=function(t){return t()};var o_=function(t,e,n){var r=0,u;return function(a){if(r===2)return u;if(r===1)throw new ReferenceError(t+" was needed before it finished initializing (module "+e+", line "+a+")",e,a);return r=1,u=n(),r=2,u}};var a_=wn();var Ae=function(){function t(e,n,r){this.value0=e,this.value1=n,this.value2=r}return t.create=function(e){return function(n){return function(r){return new t(e,n,r)}}},t}(),We=function(){function t(e,n){this.value0=e,this.value1=n}return t.create=function(e){return function(n){return new t(e,n)}},t}();var Yf=function(){function t(e){this.value0=e}return t.create=function(e){return new t(e)},t}(),Xf=function(){function t(e){this.value0=e}return t.create=function(e){return new t(e)},t}(),vl=function(){function t(e,n){this.value0=e,this.value1=n}return t.create=function(e){return function(n){return new t(e,n)}},t}();var Kf={defer:function(t){var e=mr(t);return function(n,r,u,a,o){var l=vo(e);return l(n,r,u,a,o)}}};var Sn={map:function(t){return function(e){return function(n,r,u,a,o){return r(function(l){return e(n,r,u,a,function(i,d){return r(function(s){return o(i,t(d))})})})}}}};var on={alt:function(t){return function(e){return function(n,r,u,a,o){return r(function(l){return t(new Ae(n.value0,n.value1,!1),r,u,function(i,d){return r(function(s){return i.value2?a(i,d):e(n,r,u,a,o)})},o)})}}},Functor0:function(){return Sn}},u_=function(t){return function(e,n,r,u,a){var o=t(e);return a(o.value1,o.value0)}};var l_=function(t){var e=t.Monad0(),n=p(e.Bind1().Apply0().Functor0()),r=y(e.Applicative0()),u=xe(t);return function(a){return function(o){var l=function(i){var d=!1,s;function m(w){var et=w(void 0);if(et instanceof Yf){i=et.value0;return}if(et instanceof Xf)return d=!0,n(Pt.create)(et.value0);if(et instanceof vl)return d=!0,r(new At(new C(et.value1,et.value0)));throw new Error("Failed pattern match at Parsing (line 160, column 13 - line 166, column 32): "+[et.constructor.name])}for(;!d;)s=m(i);return s};return u(l)(function(i){return o(a,Yf.create,Xf.create,function(d,s){return new vl(d,new st(s))},function(d,s){return new vl(d,new ct(s))})})}}},Zf=u_(function(t){return new C(t.value1,t)});var i_={index:0,line:1,column:1},c_=function(t){var e=p(t.Monad0().Bind1().Apply0().Functor0()),n=l_(t);return function(r){return function(u){var a=new Ae(r,i_,!1);return e(Dn)(n(a)(u))}}},f_=c_(fc),ts=function(t){var e=f_(t);return function(n){return a_(e(n))}};var Ta=function(t){return function(e){return t.value2&&!e.value2?new Ae(e.value0,e.value1,!0):e}},an={apply:function(t){return function(e){return function(n,r,u,a,o){return r(function(l){return t(n,r,u,a,function(i,d){return r(function(s){var m=Ta(n)(i);return e(m,r,u,a,function(w,et){return r(function(N){return o(Ta(m)(w),d(et))})})})})})}}},Functor0:function(){return Sn}};var _r={pure:function(t){return function(e,n,r,u,a){return a(e,t)}},Apply0:function(){return an}};var Pn={bind:function(t){return function(e){return function(n,r,u,a,o){return r(function(l){return t(n,r,u,a,function(i,d){return r(function(s){var m=e(d);return m(Ta(n)(i),r,u,a,o)})})})}}},Apply0:function(){return an}},s_=ve(Pn);var es={Applicative0:function(){return _r},Bind1:function(){return Pn}};var _l={throwError:function(t){return function(e,n,r,u,a){return u(e,t)}},Monad0:function(){return es}},d_=hn(_l),p_=function(t){return function(e){return d_(new We(t,e))}},gr=function(t){return s_(p_(t))(Zf)};var Ea={tailRecM:function(t){return function(e){return function(n,r,u,a,o){var l=o_("loop","Parsing",function(){return function(d,s,m){var w=t(s);return w(d,r,u,a,function(et,N){var Z=Ta(d)(et);if(N instanceof Pt){var at=m===0;return at?r(function(ce){return l(288)(Z,N.value0,30)}):l(290)(Z,N.value0,m-1|0)}if(N instanceof At)return o(Z,N.value0);throw new Error("Failed pattern match at Parsing (line 284, column 19 - line 292, column 46): "+[N.constructor.name])})}}),i=l(279);return i(n,e,30)}}},Monad0:function(){return es}};var he=function(){function t(){}return t.value=new t,t}(),Re=function(){function t(e,n){this.value0=e,this.value1=n}return t.create=function(e){return function(n){return new t(e,n)}},t}();var hr={foldr:function(t){return function(e){var n=function(){var u=function(a){return function(o){var l=a,i=!1,d;function s(m,w){if(w instanceof he)return i=!0,m;if(w instanceof Re){l=new Re(w.value0,m),o=w.value1;return}throw new Error("Failed pattern match at Data.List.Types (line 107, column 7 - line 107, column 23): "+[m.constructor.name,w.constructor.name])}for(;!i;)d=s(l,o);return d}};return u(he.value)}(),r=ft(hr)(j(t))(e);return function(u){return r(n(u))}}},foldl:function(t){var e=function(n){return function(r){var u=n,a=!1,o;function l(i,d){if(d instanceof he)return a=!0,i;if(d instanceof Re){u=t(i)(d.value0),r=d.value1;return}throw new Error("Failed pattern match at Data.List.Types (line 111, column 12 - line 113, column 30): "+[d.constructor.name])}for(;!a;)o=l(u,r);return o}};return e},foldMap:function(t){var e=A(t.Semigroup0()),n=it(t);return function(r){return ft(hr)(function(u){var a=e(u);return function(o){return a(r(o))}})(n)}}};var is=vt(on),z_=Rn(Kf);var k_=ee(an);var J_=Xl(an);var cs=function(t){return function(e){return is(t)(z_(function(n){return gr("Expected "+e(void 0))}))}},gl=function(t){return function(e){return is(t)(gr("Expected "+e))}};var Rr=function(t){return function(e,n,r,u,a){return t(e,n,r,function(o,l){return u(new Ae(o.value0,o.value1,e.value2),l)},a)}};var go=function(t){return function(e){return function(n){return J_(k_(t)(n))(e)}}};var Rl=E(Pn),G_=xe(Ea),V_=vt(on),Ma=y(_r),j_=Vu(hr);var Q_=function(t){return Rl(j(G_)(he.value)(function(e){return V_(Rl(t)(function(n){return Ma(new Pt(new Re(n,e)))}))(Ma(new At(e)))}))(function(e){return Ma(or(j_(e)))})},Dl=function(t){return Rl(Q_(t))(function(e){var n=Qf(e);if(n instanceof f)return gr("Expected at least 1");if(n instanceof c)return Ma(n.value0);throw new Error("Failed pattern match at Parsing.Combinators.Array (line 55, column 3 - line 57, column 25): "+[n.constructor.name])})};var yl=en(Nn),X_=Nr(Jo),K_=Be(),Z_=Pe(io);var tg=b(Ho);var Fl=function(t){return function(e){return function(n){var r=yl(e);if(r===10)return{index:t.index+1|0,line:t.line+1|0,column:1};if(r===13){var u=Wf(0)(n);return u instanceof c&&yl(u.value0)===10?{index:t.index+1|0,line:t.line,column:t.column}:{index:t.index+1|0,line:t.line+1|0,column:1}}return r===9?{index:t.index+1|0,line:t.line,column:(t.column+8|0)-X_(t.column-1|0)(8)|0}:{index:t.index+1|0,line:t.line,column:t.column+1|0}}}},eg=function(t){return function(e){return function(n){var r=t,u=e,a=!1,o;function l(i,d,s){var m=Da(d);if(m instanceof f)return a=!0,i;if(m instanceof c){var w=function(){if(Bo(m.value0.tail))return Fl(i)(m.value0.head)(s);if(Ft)return Fl(i)(m.value0.head)(m.value0.tail);throw new Error("Failed pattern match at Parsing.String (line 165, column 7 - line 167, column 52): ")}();r=w,u=m.value0.tail,n=s;return}throw new Error("Failed pattern match at Parsing.String (line 161, column 36 - line 168, column 38): "+[m.constructor.name])}for(;!a;)o=l(r,u,n);return o}}};var wl=function(t){return Kr(function(e){return function(n){return function(r){return function(u){return function(a){var o=Da(e.value0);if(o instanceof f)return u(e,new We("Unexpected EOF",e.value1));if(o instanceof c){var l=yl(o.value0.head),i=l<0||l>65535;if(i)return u(e,new We("Expected Char",e.value1));var d=K_(Z_(l)),s=t(d);return s?a(new Ae(o.value0.tail,Fl(e.value1)(o.value0.head)(o.value0.tail),!0),d):u(e,new We("Predicate unsatisfied",e.value1))}throw new Error("Failed pattern match at Parsing.String (line 114, column 7 - line 129, column 75): "+[o.constructor.name])}}}}})};var bl=Kr(function(t){return function(e){return function(n){return function(r){return function(u){var a=Bo(t.value0);return a?u(new Ae(t.value0,t.value1,!0),void 0):r(t,new We("Expected EOF",t.value1))}}}}}),ss=function(t){return Kr(function(e){return function(n){return function(r){return function(u){return function(a){var o=t(e.value0);if(o instanceof st)return u(e,new We(o.value0,e.value1));if(o instanceof ct)return a(new Ae(o.value0.remainder,eg(e.value1)(o.value0.consumed)(o.value0.remainder),!Bo(o.value0.consumed)),o.value0.value);throw new Error("Failed pattern match at Parsing.String (line 286, column 7 - line 290, column 121): "+[o.constructor.name])}}}}})};var Cl=ss(function(t){return new ct({value:t,consumed:t,remainder:""})});var kt=function(t){return gl(wl(function(e){return e===t}))(tg(t))};var ig=b(Xa(Ho));var cg=Qu(Io);var vs=function(t){return cs(wl(j(cg)(t)))(function(e){return"none of "+ig(t)})};var ys=b(Uo),xa=A(de),La=$e(Rt),Fs=ft(gt),Ml=p(S),sg=Xr(xr)(gt),An=Bt(ge)(xt),ws=Iu(gt)(cn),un=p(Rt);var Kt=p(Sn),De=vt(on),Sa=ee(an),Tl=Yr(xt)(gt),bs=qe(Sn);var Pa=function(){function t(){}return t.value=new t,t}(),Cs=function(){function t(){}return t.value=new t,t}(),Aa=function(){function t(){}return t.value=new t,t}(),Ts=function(){function t(){}return t.value=new t,t}();var dg=function(t){return t.text},pg=function(t){return function(e){return function(n){return{line:yt(e.line)(n),width:e.width+t+n.width}}}},xl=function(t){return function(e){return function(n){var r=function(){if(n.weight instanceof Pa)return e.weight.normal;if(n.weight instanceof Cs)return e.weight.bold;throw new Error("Failed pattern match at Template.Layer.Text.Markup (line 268, column 16 - line 270, column 39): "+[n.weight.constructor.name])}(),u=function(){if(n.style instanceof Aa)return e.style.normal;if(n.style instanceof Ts)return e.style.italic;throw new Error("Failed pattern match at Template.Layer.Text.Markup (line 265, column 15 - line 267, column 41): "+[n.style.constructor.name])}();return vn(t)(u+(" "+(r+(" "+(ys(e.size)+("px "+e.name))))))}}},Es=function(t){return function(e){return{text:e.text,position:e.position,maxWidth:e.maxWidth,fillStyle:e.fillStyle,align:e.align,baseline:e.baseline,lineHeight:e.lineHeight,letterSpacing:e.letterSpacing,dragOffset:e.dragOffset,context:e.context,font:{name:e.font.name,style:e.font.style,weight:e.font.weight,size:t}}}};var Ms=function(t){return function(e){var n=function(u){return function(a){var o=ro(1)(t(a.text));if(o.before.length===1&&o.before[0]===""&&o.after.length===0)return{splits:u.splits,split:u.split};if(o.before.length===1&&o.after.length===0)return{splits:u.splits,split:yt(u.split)({style:a.style,weight:a.weight,text:o.before[0]})};if(o.before.length===1&&o.before[0]===""){var l=ro(_t(o.after)-1|0)(o.after);return l.after.length===1&&l.after[0]===""?{splits:xa(yt(u.splits)(u.split))(La(l.before)(function(i){return[{style:a.style,weight:a.weight,text:i}]})),split:[]}:l.after.length===1?{splits:xa(yt(u.splits)(u.split))(La(l.before)(function(i){return[{style:a.style,weight:a.weight,text:i}]})),split:[{style:a.style,weight:a.weight,text:l.after[0]}]}:{splits:u.splits,split:u.split}}if(o.before.length===1){var l=ro(_t(o.after)-1|0)(o.after);return l.after.length===1&&l.after[0]===""?{splits:xa(yt(u.splits)(yt(u.split)({style:a.style,weight:a.weight,text:o.before[0]})))(La(l.before)(function(d){return[{style:a.style,weight:a.weight,text:d}]})),split:[]}:l.after.length===1?{splits:xa(yt(u.splits)(yt(u.split)({style:a.style,weight:a.weight,text:o.before[0]})))(La(l.before)(function(d){return[{style:a.style,weight:a.weight,text:d}]})),split:[{style:a.style,weight:a.weight,text:l.after[0]}]}:{splits:u.splits,split:u.split}}return{splits:u.splits,split:u.split}}},r=Fs(n)({splits:[],split:[]})(e);return yt(r.splits)(r.split)}},xs=Ms(Fa),Ll=function(t){return{text:t,style:Aa.value,weight:Pa.value}};var vg=function(t){return function(e){return{fragment:t,width:e}}},Ls=function(t){return function(e){return function(n){return St(t)(function(){return xl(t)(e)(n)(),fo(t)(n.text)()})}}},Il=function(t){return function(e){return Ls(t)(e)({style:Aa.value,weight:Pa.value,text:" "})}},mg=function(t){return function(e){return function(n){return St(t)(function(){return xl(t)(e)(n)(),il(t)(n.text)()})}}},ms=function(t){return function(e){return function(n){return Ml(function(){var r=Mt(0);return function(u){return r(sg(u))}}())(An(mg(t)(e))(n))}}},_g=function(t){return function(e){return function(n){return Ml(vg(n))(Ls(t)(e)(n))}}},Is=function(t){return function(e){return function(n){return function(){var u=An(_g(t)(e))(n)(),a=ws(un(function(o){return o.width})(u));return{word:u,width:a}}}}},_s=function(t){return function(e){return function(n){var r=xs(n);return function(){var a=An(Is(t)(e))(r)(),o=Il(t)(e)(),l=o*G(_t(a)-1|0)+ws(un(function(i){return i.width})(a));return{line:a,width:l}}}}},gg=function(t){return function(e){return function(n){return function(r){var u=xs(r);return function(){var o=An(Is(t)(e))(u)(),l=Il(t)(e)(),i=function(s){return function(m){if(s.value1.line.length===0)return new C(s.value0,{line:[m],width:m.width});var w=s.value1.width+l+m.width>n;return w?new C(yt(s.value0)(s.value1),{line:[m],width:m.width}):new C(s.value0,pg(l)(s.value1)(m))}},d=Fs(i)(new C([],{line:[],width:0}))(o);return d.value1.line.length===0?d.value0:yt(d.value0)(d.value1)}}}}};var ho=function(){var t=Kt(sl);return function(e){return t(Dl(e))}}(),Ro=Kt(function(t){return Ll(el(t))})(ho(vs(["_","*"]))),El=Ms(pr),gs=function(t){return function(e){return function(n){return function(r){return Ml(Ie)(An(gg(t)(e)(n))(El(r)))}}}},Ia=function(t){return{text:t.text,weight:t.weight,style:Ts.value}},hs=De(Rr(go(kt("_"))(kt("_"))(Kt(Ia)(Ro))))(De(Ro)(Sa(kt("_"))(Kt(function(t){return Ia(Ll(t))})(Cl)))),hg=function(t){return t.fragment},Rg=function(t){return un(hg)(t.word)},Rs=function(t){return un(Rg)(t.line)},Nl=function(t){var e=t.Monad0().Applicative0(),n=y(e),r=Nt(t),u=Ve(e);return{position:function(a){return n(a.position)},translate:function(a){return function(o){return n({text:o.text,maxWidth:o.maxWidth,fillStyle:o.fillStyle,font:o.font,align:o.align,baseline:o.baseline,lineHeight:o.lineHeight,letterSpacing:o.letterSpacing,dragOffset:o.dragOffset,context:o.context,position:Yn(a)(o.position)})}},containsPoint:function(a){return function(o){return r(St(o.context)(function(){be(o.context)(o.fillStyle)(),vn(o.context)(o.font.style.normal+(" "+(o.font.weight.normal+(" "+(ys(o.font.size)+("px "+o.font.name))))))(),jn(o.context)(o.baseline)(),Qn(o.context)(o.align)(),gn(o.context)(o.letterSpacing)();var i=function(){if(o.maxWidth instanceof c)return gs(o.context)(o.font)(o.maxWidth.value0)(o.text)();if(o.maxWidth instanceof f)return An(_s(o.context)(o.font))(El(o.text))();throw new Error("Failed pattern match at Template.Layer.Text.Markup (line 196, column 14 - line 198, column 89): "+[o.maxWidth.constructor.name])}(),d=ms(o.context)(o.font)(Ie(Yu(Rs)(i)))();return j(uo)(sr(i))(function(s){var m=function(){return o.baseline instanceof re?o.position.y+d*o.lineHeight*G(s.value0):o.baseline instanceof mn?o.position.y-d-G((_t(i)-s.value0|0)-1|0)*d*o.lineHeight:o.position.y+d*o.lineHeight*G(s.value0)}();if(o.align instanceof Gn||o.align instanceof oe)return o.position.x<=a.x&&a.x<=o.position.x+s.value1.width&&m<=a.y&&a.y<=m+d;if(o.align instanceof Vn||o.align instanceof kn)return o.position.x-s.value1.width<=a.x&&a.x<=o.position.x&&m<=a.y&&a.y<=m+d;if(o.align instanceof Jn)return o.position.x-s.value1.width/2<=a.x&&a.x<=o.position.x+s.value1.width/2&&m<=a.y&&a.y<=m+d;throw new Error("Failed pattern match at Template.Layer.Text.Markup (line 208, column 7 - line 218, column 65): "+[o.align.constructor.name])})}))}},dragStart:function(a){return function(o){return n({text:o.text,position:o.position,maxWidth:o.maxWidth,fillStyle:o.fillStyle,font:o.font,align:o.align,baseline:o.baseline,lineHeight:o.lineHeight,letterSpacing:o.letterSpacing,context:o.context,dragOffset:new c(a)})}},drag:function(a){return function(o){return u(Nl(t))(o.dragOffset)(a)(o)}},dragEnd:function(a){return n({text:a.text,position:a.position,maxWidth:a.maxWidth,fillStyle:a.fillStyle,font:a.font,align:a.align,baseline:a.baseline,lineHeight:a.lineHeight,letterSpacing:a.letterSpacing,context:a.context,dragOffset:f.value})},draw:function(a){return function(o){return St(a)(function(){be(a)(o.fillStyle)(),jn(a)(o.baseline)(),Qn(a)(oe.value)(),gn(a)(o.letterSpacing)();var i=function(){if(o.maxWidth instanceof c)return gs(a)(o.font)(o.maxWidth.value0)(o.text)();if(o.maxWidth instanceof f)return An(_s(a)(o.font))(El(o.text))();throw new Error("Failed pattern match at Template.Layer.Text.Markup (line 231, column 14 - line 233, column 83): "+[o.maxWidth.constructor.name])}(),d=ms(a)(o.font)(Ie(Yu(Rs)(i)))();return Tl(sr(i))(function(s){var m=function(){return o.baseline instanceof re?o.position.y+G(s.value0)*d*o.lineHeight:o.baseline instanceof mn?o.position.y-G((_t(i)-s.value0|0)-1|0)*d*o.lineHeight:o.position.y+G(s.value0)*d*o.lineHeight}(),w=function(){if(o.align instanceof Gn||o.align instanceof oe)return o.position.x;if(o.align instanceof Vn||o.align instanceof kn)return o.position.x-s.value1.width;if(o.align instanceof Jn)return o.position.x-s.value1.width/2;throw new Error("Failed pattern match at Template.Layer.Text.Markup (line 247, column 18 - line 252, column 57): "+[o.align.constructor.name])}();return function(){var N=Il(a)(o.font)(),Z=ao(0)(va(function(at){return function(ce){return at+N+ce.width}})(0)(s.value1.line));return Tl(Ke(s.value1.line)(Z))(function(at){var ce=ao(0)(va(function(Ut){return function(ut){return Ut+ut.width}})(0)(at.value0.word));return Tl(Ke(at.value0.word)(ce))(function(Ut){return function(){return xl(a)(o.font)(Ut.value0.fragment)(),Wr(a)(dg(Ut.value0.fragment))(w+at.value1+Ut.value1)(m)()}})})()}})()})}}}},Na=function(t){return{text:t.text,style:t.style,weight:Cs.value}},Dg=De(Rr(go(kt("*"))(kt("*"))(Kt(un(Na))(ho(hs)))))(Sa(kt("*"))(De(bs([])(bl))(Kt(un(Na))(ho(hs))))),Ds=De(Rr(go(kt("*"))(kt("*"))(Kt(Na)(Ro))))(De(Ro)(Sa(kt("*"))(Kt(function(t){return Na(Ll(t))})(Cl)))),yg=De(Rr(go(kt("_"))(kt("_"))(Kt(un(Ia))(ho(Ds)))))(Sa(kt("_"))(De(bs([])(bl))(Kt(un(Ia))(ho(Ds))))),Fg=Kt(function(t){return Ie(sl(t))})(Dl(De(yg)(De(Dg)(Kt(ku)(Ro)))));var Sl=function(t){return function(e){var n=ts(t)(Fg);if(n instanceof ct)return{position:e.position,maxWidth:e.maxWidth,fillStyle:e.fillStyle,font:e.font,align:e.align,baseline:e.baseline,lineHeight:e.lineHeight,letterSpacing:e.letterSpacing,dragOffset:e.dragOffset,context:e.context,text:n.value0};if(n instanceof st)return{position:e.position,maxWidth:e.maxWidth,fillStyle:e.fillStyle,font:e.font,align:e.align,baseline:e.baseline,lineHeight:e.lineHeight,letterSpacing:e.letterSpacing,dragOffset:e.dragOffset,context:e.context,text:[{text:t,style:Aa.value,weight:Pa.value}]};throw new Error("Failed pattern match at Template.Layer.Text.Markup (line 173, column 37 - line 175, column 104): "+[n.constructor.name])}};var Ss=function(t){return t};var wg={mapLayerWrapper:function(t){return function(e){var n=p(e.Bind1().Apply0().Functor0());return function(r){return function(u){return n(Ss)(r(u))}}}}},bg=Zi(wg);var Ps=function(t){var e=y(t.Applicative0());return function(n){var r=Ce(n),u=_n(n),a=Ee(n);return{position:function(o){return r(o)},translate:function(){var o=bg(n)(t),l=Ge(n);return function(i){return o(l(i))}}(),containsPoint:function(o){return function(l){return u(o)(l)}},dragStart:Q(e),drag:Q(e),dragEnd:e,draw:function(o){return function(l){return a(o)(l)}}}}};var As=Ss;function Wa(t,e){var n={};for(var r in e)({}).hasOwnProperty.call(e,r)&&(n[r]=e[r]);for(var u in t)({}).hasOwnProperty.call(t,u)&&(n[u]=t[u]);return n}var Ws=function(){return function(){return function(t){return function(e){return Wa(t,e)}}}};var Wn=function(t){return function(e){return function(){return e[t]}}},xg=Wn("URL"),Lg=Wn("documentURI"),Ig=Wn("origin"),Ng=Wn("compatMode"),Sg=Wn("characterSet"),Pg=Wn("contentType");var Ag=Wn("documentElement");function Pl(t){return function(e){return function(){return e.createElement(t)}}}function Us(t,e,n){return t==null?e:n(t)}var tt=function(t){return Us(t,f.value,c.create)};function Hs(t,e,n,r){if(typeof window<"u"){var u=window[n];if(u!=null&&r instanceof u)return e(r)}for(var a=r;a!=null;){var o=Object.getPrototypeOf(a),l=o.constructor.name;if(l===n)return e(r);if(l==="Object")return t;a=o}return t}var h=function(t){return function(e){return Hs(f.value,c.create,t,e)}};var Ua=function(t){return function(e){return e[t]}},Bg=Ua("namespaceURI"),zg=Ua("prefix"),kg=Ua("localName"),Jg=Ua("tagName");function Ha(t){return function(e){return function(n){return function(){n.setAttribute(t,e)}}}}function Al(t){return function(){var e=t.getBoundingClientRect();return{top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.width,height:e.height,x:e.x,y:e.y}}}var $a=function(t){return function(e){return function(){return e[t]}}},Vg=$a("children"),jg=$a("firstElementChild"),Qg=$a("lastElementChild"),Yg=$a("childElementCount");var le=v;var ie=function(t){return function(e){return function(){return e[t]}}};var eh=ie("baseURI"),nh=ie("ownerDocument"),rh=ie("parentNode"),oh=ie("parentElement");var ah=ie("childNodes"),uh=ie("firstChild"),lh=ie("lastChild"),ih=ie("previousSibling"),ch=ie("nextSibling"),fh=ie("nodeValue");var sh=ie("textContent");function qs(t){return function(e){return function(){return e.getElementById(t)}}}var hh=p(S),Dr=function(t){var e=hh(tt),n=qs(t);return function(r){return e(n(r))}};function Jt(t){return function(){return function(e){return t(e)()}}}function Gt(t){return function(e){return function(n){return function(r){return function(){return r.addEventListener(t,e,n)}}}}}var Wl=function(){return window};var yr=v;var Os=v,Bs=v;function zs(t,e,n){var r=Object.prototype.toString.call(n);return r.indexOf("[object HTML")===0&&r.indexOf("Element]")===r.length-8?e(n):t}function Ul(t){return function(){return t.click()}}function Hl(t){return function(){return t.offsetWidth}}function $l(t){return function(){return t.offsetHeight}}var ks=v;var ql=function(t){return zs(f.value,c.create,t)};function Fr(t){return function(){return t.value}}var Ol=h("HTMLInputElement");function qa(t){return function(){return t.value}}var js=h("HTMLTextAreaElement");function Bl(t){return function(){return t.document}}function Do(t){return t.clientX}function yo(t){return t.clientY}function Fo(t){return t.touches}var Oa=h("TouchEvent");function Qs(t,e){return e.item(t)}var Ba=function(t){return function(e){return tt(Qs(t,e))}};function wo(t){return t.clientX}function bo(t){return t.clientY}var za=h("MouseEvent");var Ue=y(xt),q0=sn(dn),Co=ma(ne)(Qo(S)),O0=Ee(Co),Cr=Ce(Co),Ys=je(Co),Ja=Ye(Co),Xs=Qe(Co),kl=Fn(It),wr=E(kl),zl=ve(kl),ka=rr(It),Un=ae(nr)(It),Ks=q0(kl),B0=ve(zn),Zs=y(kr(It)),z0=_a(ne),k0=Ws()(),br=hf(ne);var Tr=function(t){return function(e){return function(n){return function(){var u=Al(ks(e))(),a=Hl(e)(),o=$l(e)(),l=Pr(t)(),i=Ar(t)();return{x:(n.x-u.left)*l/a,y:(n.y-u.top)*i/o}}}}},Zt=function(t){return function(){var n=Sr(t.canvas)(),r=Yi(t.canvas)();return lu(n)({x:0,y:0,width:r.width,height:r.height})(),St(n)(O0(n)(t.layer))()}},J0=function(t){return Jt(function(e){var n=Oa(e);if(n instanceof f)return Ue(void 0);if(n instanceof c){var r=Ba(0)(Fo(n.value0));if(r instanceof f)return Zt(t);if(r instanceof c)return function(){var a=Cr(t.layer)(),o=Tr(t.canvas)(t.canvasHtmlElement)({x:G(Do(r.value0)),y:G(yo(r.value0))})(),l={offsetX:o.x-a.x,offsetY:o.y-a.y};return Ys(l)(t.layer)(),Zt(t)()};throw new Error("Failed pattern match at Template.Main (line 193, column 24 - line 203, column 24): "+[r.constructor.name])}throw new Error("Failed pattern match at Template.Main (line 191, column 63 - line 203, column 24): "+[n.constructor.name])})},G0=function(t){return Jt(function(e){var n=Oa(e);if(n instanceof f)return Ue(void 0);if(n instanceof c){var r=Ba(0)(Fo(n.value0));if(r instanceof f)return Zt(t);if(r instanceof c)return function(){var a=Cr(t.layer)(),o=Tr(t.canvas)(t.canvasHtmlElement)({x:G(Do(r.value0)),y:G(yo(r.value0))})(),l={translateX:o.x-a.x,translateY:o.y-a.y};return Ja(l)(t.layer)(),Zt(t)()};throw new Error("Failed pattern match at Template.Main (line 221, column 24 - line 231, column 24): "+[r.constructor.name])}throw new Error("Failed pattern match at Template.Main (line 219, column 62 - line 231, column 24): "+[n.constructor.name])})},V0=function(t){return Jt(function(e){var n=Oa(e);if(n instanceof f)return Ue(void 0);if(n instanceof c){var r=Ba(0)(Fo(n.value0));if(r instanceof f)return Zt(t);if(r instanceof c)return function(){var a=Cr(t.layer)(),o=Tr(t.canvas)(t.canvasHtmlElement)({x:G(Do(r.value0)),y:G(yo(r.value0))})(),l={translateX:o.x-a.x,translateY:o.y-a.y};return Ja(l)(t.layer)(),Xs(t.layer)(),Zt(t)()};throw new Error("Failed pattern match at Template.Main (line 250, column 24 - line 261, column 24): "+[r.constructor.name])}throw new Error("Failed pattern match at Template.Main (line 248, column 61 - line 261, column 24): "+[n.constructor.name])})},td=function(t){return function(e){return yn(wr(zl(ka)(Un(Qi(t))))(function(n){return Ks(Un(ji(n)(e)))(function(){return wr(Un(B0(Bl)(Wl)))(function(r){return wr(zl(ka)(Un(Dr("canvas")(yr(r)))))(function(u){return wr(ka(ql(u)))(function(a){return Zs({canvas:n,canvasElement:u,canvasHtmlElement:a,document:r})})})})})}))}},ed=function(t){var e=Te(t);return function(n){return function(r){return function(){var a=z0(e(r))();return k0(n)({layer:a})}}}},j0=function(t){return Jt(function(e){var n=za(e);if(n instanceof f)return Ue(void 0);if(n instanceof c)return function(){var u=Cr(t.layer)(),a=Tr(t.canvas)(t.canvasHtmlElement)({x:G(wo(n.value0)),y:G(bo(n.value0))})(),o={translateX:a.x-u.x,translateY:a.y-u.y};return Ja(o)(t.layer)(),Xs(t.layer)(),Zt(t)()};throw new Error("Failed pattern match at Template.Main (line 234, column 60 - line 245, column 22): "+[n.constructor.name])})},Q0=function(t){return Jt(function(e){var n=za(e);if(n instanceof f)return Ue(void 0);if(n instanceof c)return function(){var u=Cr(t.layer)(),a=Tr(t.canvas)(t.canvasHtmlElement)({x:G(wo(n.value0)),y:G(bo(n.value0))})(),o={translateX:a.x-u.x,translateY:a.y-u.y};return Ja(o)(t.layer)(),Zt(t)()};throw new Error("Failed pattern match at Template.Main (line 206, column 62 - line 216, column 22): "+[n.constructor.name])})},Y0=function(t){return Jt(function(e){var n=za(e);if(n instanceof f)return Ue(void 0);if(n instanceof c)return function(){var u=Cr(t.layer)(),a=Tr(t.canvas)(t.canvasHtmlElement)({x:G(wo(n.value0)),y:G(bo(n.value0))})(),o={offsetX:a.x-u.x,offsetY:a.y-u.y};return Ys(o)(t.layer)(),Zt(t)()};throw new Error("Failed pattern match at Template.Main (line 178, column 62 - line 188, column 22): "+[n.constructor.name])})},X0=function(t){return Jt(function(e){return Zt(t)})};var nd=function(t){return function(e){return function(n){return yn(function(){var r=yr(n.document);return wr(zl(ka)(Un(Dr(t)(r))))(function(u){return wr(Un(Jt(function(a){return function(){var l=ru(n.canvas)(),i=Pl("a")(Bs(n.document))();Ha("href")(l)(i)(),Ha("download")(e)(i)();var d=ql(i);if(d instanceof c)return Ul(d.value0)();throw new Error("Failed pattern match at Template.Main (line 144, column 9 - line 144, column 53): "+[d.constructor.name])}})))(function(a){return Ks(Un(Gt("click")(a)(!1)(le(u))))(function(){return Zs(u)})})})}())}}},K0=function(t){return function(e){return function(n){return function(r){return function(){var a=Dr(e)(yr(t.document))();if(a instanceof c){var o=js(a.value0);if(o instanceof c){var l=qa(o.value0)();br(r(l))(n)();var i=Jt(function(d){return function(){var m=qa(o.value0)();return br(r(m))(n)()}})();return Gt("input")(i)(!1)(le(a.value0))()}throw new Error("Failed pattern match at Template.Main (line 297, column 7 - line 297, column 55): "+[o.constructor.name])}throw new Error("Failed pattern match at Template.Main (line 296, column 3 - line 296, column 79): "+[a.constructor.name])}}}}},Jl=function(t){return function(e){return function(n){return function(r){return K0(t)(e)(n)(function(u){return function(a){return function(o){return Ue(a(o))}}(r(u))})}}}},Z0=function(t){return function(e){return function(n){return function(r){return function(){var a=Dr(e)(yr(t.document))();if(a instanceof c){var o=Ol(a.value0);if(o instanceof c){var l=Fr(o.value0)();(function(){var d=ha(l);if(d instanceof c)return br(r(d.value0))(n)();if(d instanceof f)return void 0;throw new Error("Failed pattern match at Template.Main (line 316, column 3 - line 318, column 25): "+[d.constructor.name])})();var i=Jt(function(d){return function(){var m=Fr(o.value0)(),w=ha(m);if(w instanceof c)return br(r(w.value0))(n)();if(w instanceof f)return void 0;throw new Error("Failed pattern match at Template.Main (line 322, column 5 - line 324, column 27): "+[w.constructor.name])}})();return Gt("input")(i)(!1)(le(a.value0))()}throw new Error("Failed pattern match at Template.Main (line 313, column 7 - line 313, column 52): "+[o.constructor.name])}throw new Error("Failed pattern match at Template.Main (line 312, column 3 - line 312, column 79): "+[a.constructor.name])}}}}},tR=function(t){return function(e){return function(n){return function(r){return Z0(t)(e)(n)(function(u){return function(a){return function(o){return Ue(a(o))}}(r(u))})}}}};var rd=function(t){return function(e){return function(n){return tR(t)(e)(n)(Es)}}},eR=function(t){return function(e){return function(n){return function(r){return function(){var a=Dr(e)(yr(t.document))();if(a instanceof c){var o=Ol(a.value0);if(o instanceof c){var l=Fr(o.value0)();br(r(l))(n)();var i=Jt(function(d){return function(){var m=Fr(o.value0)();return br(r(m))(n)()}})();return Gt("input")(i)(!1)(le(a.value0))()}throw new Error("Failed pattern match at Template.Main (line 281, column 7 - line 281, column 52): "+[o.constructor.name])}throw new Error("Failed pattern match at Template.Main (line 280, column 3 - line 280, column 79): "+[a.constructor.name])}}}}},od=function(t){return function(e){return function(n){return function(r){return eR(t)(e)(n)(function(u){return function(a){return function(o){return Ue(a(o))}}(r(u))})}}}};var ad=function(t){return function(){var n=Y0(t)(),r=Q0(t)(),u=j0(t)(),a=J0(t)(),o=G0(t)(),l=V0(t)(),i=X0(t)();return Gt("mousedown")(n)(!1)(le(t.canvasElement))(),Gt("mousemove")(r)(!1)(le(t.canvasElement))(),Gt("mouseup")(u)(!1)(le(t.canvasElement))(),Gt("touchstart")(a)(!1)(le(t.canvasElement))(),Gt("touchmove")(o)(!1)(le(t.canvasElement))(),Gt("touchend")(l)(!1)(le(t.canvasElement))(),Gt("input")(i)(!1)(Os(t.document))()}};var ud=uc(ne),Gl=_a(ne),ld=Te(pu(ne)),fd=ma(ne),rR=Te(fd(cl(ne))),id=Te(fd(Nl(ne))),oR=Te(Ku(xt)),aR=ed(Ps(It)(vf(It))),dt=2,cd={scaleX:dt,scaleY:dt},uR=function(){return{width:1080,height:1080*5/4}}(),He=$t(Po()(Mr({reflectSymbol:function(){return"height"}})()(Mr({reflectSymbol:function(){return"width"}})()(No)(cn))(cn)))({width:dt,height:dt})(uR),lR=function(){return He.height}(),iR=function(){return He.width}(),sd=ht(S)(function(){var e=td("canvas")(He)();if(e instanceof c){var n=Sr(e.value0.canvas)(),r=ud("./img/guillotine.svg")({x:60*dt,y:60*dt})(cd)(Vo.value)(),u=ud("./img/jacobinlogo.svg")({x:He.width-120*dt,y:He.height-200*dt})(cd)(Vo.value)(),a=Gl({text:[],lineHeight:.95,position:{x:60*dt,y:150*dt},fillStyle:"#f00",font:{name:"Oswald",style:{normal:"normal",italic:"italic"},weight:{normal:"500",bold:"700"},size:90*dt},align:oe.value,baseline:re.value,letterSpacing:"-3px",dragOffset:f.value,maxWidth:new c(He.width-2*60*dt),context:n})();Jl(e.value0)("bodytext")(a)(Sl)(),rd(e.value0)("bodytext-size")(a)();var o=Gl({text:"AUTEUR",lineHeight:.95,position:{x:60*dt,y:He.height-200*dt},fillStyle:"#f00",fontName:"Oswald",fontStyle:"normal",fontWeight:"400",fontSize:50*dt,align:oe.value,baseline:re.value,letterSpacing:"-3px",dragOffset:f.value,maxWidth:f.value,context:n})();od(e.value0)("author")(o)(function(m){return zf(Oo(m))})();var l=Gl({text:[],lineHeight:.9,position:{x:60*dt,y:He.height-200*dt+50*dt},maxWidth:new c(He.width-4*60*dt),fillStyle:"#f00",font:{name:"Oswald",style:{normal:"normal",italic:"italic"},weight:{normal:"500",bold:"700"},size:50*dt},align:oe.value,baseline:re.value,letterSpacing:"-2px",dragOffset:f.value,context:n})();Jl(e.value0)("title")(l)(Sl)();var i=As(mf([ld(r),ld(u),rR(o),id(l),id(a),oR(_f({x:0,y:0,width:iR,height:lR})("#fff"))])),d=aR(e.value0)(i)();Zt(d)(),ad(d)();var s=nd("download")("jacobin.png")(d)();if(s instanceof c)return void 0;throw new Error("Failed pattern match at Jacobin.TextSlide (line 129, column 3 - line 129, column 63): "+[s.constructor.name])}throw new Error("Failed pattern match at Jacobin.TextSlide (line 42, column 3 - line 42, column 72): "+[e.constructor.name])});sd();})();

/* Generated by Spago v0.93.44 */
(()=>{var Wo=function(n){return function(r){for(var e=r.length,t=new Array(e),a=0;a<e;a++)t[a]=n(r[a]);return t}};var me={compose:function(n){return function(r){return function(e){return n(r(e))}}}};var R=function(n){return n.identity},$={identity:function(n){return n},Semigroupoid0:function(){return me}};var fn=function(n){return function(r){return function(e){return n(e)(r)}}},W=function(n){return function(r){return n}};var m=function(n){return n.map},Ze=function(n){var r=m(n);return function(e){return function(t){return r(t)(e)}}},nn=function(n){return m(n)(W(void 0))};var lr=function(n){var r=m(n);return function(e){return r(W(e))}};var sn={map:Wo};var V=function(n){return n.append};var xi=R($);var tn=function(n){return n.apply};var Pr=function(n){var r=tn(n),e=m(n.Functor0());return function(t){return function(a){return r(e(W(xi))(t))(a)}}};var y=function(n){return n.pure};var Hr=function(n){var r=tn(n.Apply0()),e=y(n);return function(t){return function(a){return r(e(t))(a)}}};var Li=Number.POSITIVE_INFINITY,Si=Number.NEGATIVE_INFINITY;var Ri=function(n){return function(r){return function(e){return function(t){return function(a){return t<a?n:t===a?r:e}}}}};var qo=Ri;var Hi=function(n){return function(r){return n===r}};var Oo=Hi;var Bo={eq:Oo};var k=function(n){return n.eq};var I=function(){function n(){}return n.value=new n,n}(),F=function(){function n(){}return n.value=new n,n}(),U=function(){function n(){}return n.value=new n,n}();var Ar={eq:function(n){return function(r){return n instanceof I&&r instanceof I||n instanceof F&&r instanceof F||n instanceof U&&r instanceof U}}};var ot=function(){return{compare:qo(I.value)(U.value)(F.value),Eq0:function(){return Bo}}}();var q=function(n){return n.compare};var ko=function(n){var r=n.toString();return isNaN(r+".0")?r:r+".0"};var Jo={show:ko};var S=function(n){return n.show};var tf=R($),f=function(){function n(){}return n.value=new n,n}(),i=function(){function n(r){this.value0=r}return n.create=function(r){return new n(r)},n}();var Qn=function(n){return function(r){return function(e){if(e instanceof f)return n;if(e instanceof i)return r(e.value0);throw new Error("Failed pattern match at Data.Maybe (line 237, column 1 - line 237, column 51): "+[n.constructor.name,r.constructor.name,e.constructor.name])}}};var En={map:function(n){return function(r){return r instanceof i?new i(n(r.value0)):f.value}}};var _n=function(n){return Qn(n)(tf)};var _e=function(n){return n.toUpperCase()};var dr=function(n){return function(r){return r.join(n)}};var Vo=function(n){return function(){return n}},Go=function(n){return function(r){return function(){return r(n())()}}};var ff=typeof Array.prototype.flatMap=="function"?function(n){return function(r){return n.flatMap(r)}}:function(n){return function(r){for(var e=[],t=n.length,a=0;a<t;a++)for(var o=r(n[a]),u=o.length,l=0;l<u;l++)e.push(o[l]);return e}};var _r=function(n){return n.discard};var N=function(n){return n.bind},Un=function(n){return fn(N(n))};var vr={discard:function(n){return N(n)}};var jo=function(n){var r=N(n.Bind1()),e=y(n.Applicative0());return function(t){return function(a){return r(a)(function(o){return e(t(o))})}}},qr=function(n){var r=N(n.Bind1()),e=y(n.Applicative0());return function(t){return function(a){return r(t)(function(o){return r(a)(function(u){return e(o(u))})})}}};var cn=function(n){return n.mempty};var Qo=function(n,r,e){var t=0,a;return function(o){if(t===2)return a;if(t===1)throw new ReferenceError(n+" was needed before it finished initializing (module "+r+", line "+o+")",r,o);return t=1,a=e(),t=2,a}},un={Applicative0:function(){return pn},Bind1:function(){return gr}},gr={bind:Go,Apply0:function(){return it(0)}},pn={pure:Vo,Apply0:function(){return it(0)}},Xo=Qo("functorEffect","Effect",function(){return{map:Hr(pn)}}),it=Qo("applyEffect","Effect",function(){return{apply:qr(un),Functor0:function(){return Xo(0)}}}),h=Xo(20),Yo=it(23);var Fn={liftEffect:R($),Monad0:function(){return un}},vn=function(n){return n.liftEffect};function Ko(n){return function(r){return function(e){return function(){var t=new Image;t.src=n,t.addEventListener("load",function(){e(t)()},!1),t.addEventListener("error",function(){r()},!1)}}}}function Zo(n,r,e){return function(){var t=document.getElementById(n);return t&&t instanceof HTMLCanvasElement?r(t):e}}function Br(n){return function(){return n.getContext("2d")}}function kr(n){return function(){return n.width}}function Jr(n){return function(){return n.height}}function ft(n){return function(r){return function(){n.width=r}}}function ct(n){return function(r){return function(){n.height=r}}}function lt(n){return function(){return n.toDataURL()}}function Dr(n){return function(r){return function(){n.fillStyle=r}}}function na(n){return function(r){return function(){n.globalCompositeOperation=r}}}function st(n){return function(){n.beginPath()}}function mt(n){return function(){n.fill()}}function pt(n){return function(r){return function(){n.rect(r.x,r.y,r.width,r.height)}}}function dt(n){return function(r){return function(){n.clearRect(r.x,r.y,r.width,r.height)}}}function ra(n){return function(r){return function(){n.textAlign=r}}}function ea(n){return function(r){return function(){n.textBaseline=r}}}function De(n){return function(r){return function(){n.font=r}}}function _t(n){return function(r){return function(e){return function(t){return function(){n.fillText(r,e,t)}}}}}function vt(n){return function(){n.save()}}function gt(n){return function(){n.restore()}}function Dt(n){return function(r){return function(e){return function(t){return function(a){return function(o){return function(){n.drawImage(r,e,t,a,o)}}}}}}}var Ff=Pr(Yo),Gr=function(){function n(){}return n.value=new n,n}(),Mf=function(){function n(){}return n.value=new n,n}(),xf=function(){function n(){}return n.value=new n,n}(),If=function(){function n(){}return n.value=new n,n}(),wf=function(){function n(){}return n.value=new n,n}(),Lf=function(){function n(){}return n.value=new n,n}(),Yn=function(){function n(){}return n.value=new n,n}(),Tt=function(){function n(){}return n.value=new n,n}(),bt=function(){function n(){}return n.value=new n,n}(),Ct=function(){function n(){}return n.value=new n,n}(),ht=function(){function n(){}return n.value=new n,n}();var ye=function(){function n(){}return n.value=new n,n}(),Sf=function(){function n(){}return n.value=new n,n}(),Nf=function(){function n(){}return n.value=new n,n}(),Rf=function(){function n(){}return n.value=new n,n}(),Pf=function(){function n(){}return n.value=new n,n}(),Hf=function(){function n(){}return n.value=new n,n}(),Af=function(){function n(){}return n.value=new n,n}(),Wf=function(){function n(){}return n.value=new n,n}(),Uf=function(){function n(){}return n.value=new n,n}(),$f=function(){function n(){}return n.value=new n,n}(),qf=function(){function n(){}return n.value=new n,n}(),Of=function(){function n(){}return n.value=new n,n}(),Bf=function(){function n(){}return n.value=new n,n}(),kf=function(){function n(){}return n.value=new n,n}(),Jf=function(){function n(){}return n.value=new n,n}(),Vf=function(){function n(){}return n.value=new n,n}(),Gf=function(){function n(){}return n.value=new n,n}(),jf=function(){function n(){}return n.value=new n,n}(),zf=function(){function n(){}return n.value=new n,n}(),Qf=function(){function n(){}return n.value=new n,n}(),Xf=function(){function n(){}return n.value=new n,n}(),Yf=function(){function n(){}return n.value=new n,n}(),Kf=function(){function n(){}return n.value=new n,n}(),Zf=function(){function n(){}return n.value=new n,n}(),nc=function(){function n(){}return n.value=new n,n}(),rc=function(){function n(){}return n.value=new n,n}(),Ln=function(n){return function(r){return function(){vt(n)();var t=r();return gt(n)(),t}}},ua=function(n){return function(r){return Ko(n)(r(f.value))(function(e){return r(i.create(e))})}};var Et=function(n){return function(r){var e=function(t){if(t instanceof Gr)return"top";if(t instanceof Mf)return"hanging";if(t instanceof xf)return"middle";if(t instanceof If)return"alphabetic";if(t instanceof wf)return"ideographic";if(t instanceof Lf)return"bottom";throw new Error("Failed pattern match at Graphics.Canvas (line 577, column 5 - line 577, column 33): "+[t.constructor.name])};return ea(n)(e(r))}},Ft=function(n){return function(r){var e=function(t){if(t instanceof Yn)return"left";if(t instanceof Tt)return"right";if(t instanceof bt)return"center";if(t instanceof Ct)return"start";if(t instanceof ht)return"end";throw new Error("Failed pattern match at Graphics.Canvas (line 531, column 5 - line 531, column 32): "+[t.constructor.name])};return ra(n)(e(r))}};var ia=function(n){return function(r){var e=function(t){if(t instanceof ye)return"source-over";if(t instanceof Sf)return"source-in";if(t instanceof Nf)return"source-out";if(t instanceof Rf)return"source-atop";if(t instanceof Pf)return"destination-over";if(t instanceof Hf)return"destination-in";if(t instanceof Af)return"destination-out";if(t instanceof Wf)return"destination-atop";if(t instanceof Uf)return"lighter";if(t instanceof $f)return"copy";if(t instanceof qf)return"xor";if(t instanceof Of)return"multiply";if(t instanceof Bf)return"screen";if(t instanceof kf)return"overlay";if(t instanceof Jf)return"darken";if(t instanceof Vf)return"lighten";if(t instanceof Gf)return"color-dodge";if(t instanceof jf)return"color-burn";if(t instanceof zf)return"hard-light";if(t instanceof Qf)return"soft-light";if(t instanceof Xf)return"difference";if(t instanceof Yf)return"exclusion";if(t instanceof Kf)return"hue";if(t instanceof Zf)return"saturation";if(t instanceof nc)return"color";if(t instanceof rc)return"luminosity";throw new Error("Failed pattern match at Graphics.Canvas (line 326, column 5 - line 326, column 45): "+[t.constructor.name])};return na(n)(e(r))}},fa=function(n){return function(r){return Ff(ct(n)(r.height))(ft(n)(r.width))}},ca=function(n){return Zo(n,i.create,f.value)},la=function(n){return function(){var e=kr(n)(),t=Jr(n)();return{width:e,height:t}}},sa=function(n){return function(r){return function(){st(n)();var t=r();return mt(n)(),t}}};var Te=function(n){return function(r){return r(function(e){return n(e)})}},be=function(n){return function(r){return{x:r.x+n.translateX,y:r.y+n.translateY}}};var $n=function(n){return n.translate},ma=function(n){return function(r){return{width:r.width*n.scaleX,height:r.height*n.scaleY}}};var Sn=function(n){return n.position},qn=function(n){return function(r){return function(e){return e(n)(r)}}},ec=function(n){var r=m(n);return function(e){return Te(function(t){var a=r(qn(t)),o=e(t);return function(u){return a(o(u))}})}};var pa=function(n){return n.mapLayerWrapper},Nn=function(n){return n.draw},tc=function(n){var r=$n(n);return function(e){return function(t){return function(a){var o={translateX:t.translateX-e.offsetX,translateY:t.translateY-e.offsetY};return r(o)(a)}}}},yr=function(n){var r=y(n);return function(e){var t=tc(e);return function(a){return function(o){return function(u){if(a instanceof f)return r(u);if(a instanceof i)return t(a.value0)(o)(u);throw new Error("Failed pattern match at Template.Layer (line 60, column 1 - line 60, column 115): "+[a.constructor.name,o.constructor.name,u.constructor.name])}}}}},Zn=function(n){return n.dragStart},nr=function(n){return n.dragEnd},rr=function(n){return n.drag},er=function(n){return n.containsPoint},Ce=function(n){var r=ec(n);return{position:Te(function(e){return Sn(e)}),translate:function(e){return r(function(t){return $n(t)(e)})},containsPoint:function(e){return Te(function(t){return er(t)(e)})},draw:function(e){return Te(function(t){return Nn(t)(e)})},dragStart:function(e){return r(function(t){return Zn(t)(e)})},drag:function(e){return r(function(t){return rr(t)(e)})},dragEnd:r(function(e){return nr(e)})}};var da=function(n){return function(){return{value:n}}};var Dn=function(n){return function(){return n.value}},_a=function(n){return function(r){return function(){var e=n(r.value);return r.value=e.state,e.value}}},he=function(n){return function(r){return function(){r.value=n}}};var ac=nn(h),jr=da,uc=_a,va=function(n){return uc(function(r){var e=n(r);return{state:e,value:e}})},ga=function(n){return function(r){return ac(va(n)(r))}};var zr=n=>n.width,Qr=n=>n.height;var Fe=n=>r=>()=>n.letterSpacing=r;var Da=function(n){return function(r){return function(e){return function(t){return Dt(n)(r)(e.x)(e.y)(t.width)(t.height)}}}};var ya=function(n){return{width:zr(n),height:Qr(n)}};var Mt=function(n){var r=n.Monad0(),e=r.Applicative0(),t=y(e),a=N(r.Bind1()),o=vn(n),u=yr(e);return{position:function(l){return t(l.position)},translate:function(l){return function(s){return t({image:s.image,scale:s.scale,composite:s.composite,dragOffset:s.dragOffset,position:be(l)(s.position)})}},containsPoint:function(l){return function(s){return a(o(Dn(s.image)))(function(T){if(T instanceof f)return t(!1);if(T instanceof i)return t(s.position.x<=l.x&&l.x<=s.position.x+zr(T.value0)*s.scale.scaleX&&s.position.y<=l.y&&l.y<=s.position.y+Qr(T.value0)*s.scale.scaleY);throw new Error("Failed pattern match at Template.Layer.Image (line 42, column 5 - line 46, column 107): "+[T.constructor.name])})}},dragStart:function(l){return function(s){return t({image:s.image,position:s.position,scale:s.scale,composite:s.composite,dragOffset:new i(l)})}},drag:function(l){return function(s){return u(Mt(n))(s.dragOffset)(l)(s)}},dragEnd:function(l){return t({image:l.image,position:l.position,scale:l.scale,composite:l.composite,dragOffset:f.value})},draw:function(l){return function(s){return function(){var g=Dn(s.image)();if(g instanceof f)return void 0;if(g instanceof i)return Ln(l)(function(){return ia(l)(s.composite)(),Da(l)(g.value0)(s.position)(ma(s.scale)(ya(g.value0)))()})();throw new Error("Failed pattern match at Template.Layer.Image (line 54, column 5 - line 59, column 78): "+[g.constructor.name])}}}}},ba=function(n){var r=vn(n);return function(e){return function(t){return function(a){return function(o){return r(function(){var l=jr(f.value)();return ua(e)(function(){var s=fn(ga)(l);return function(T){return s(W(T))}}())(),{image:l,position:t,scale:a,composite:o,dragOffset:f.value}})}}}}};var c=function(n){return n};var wa=function(n){return function(r){return n&&r}},La=function(n){return function(r){return n||r}},Sa=function(n){return!n};var wt=function(n){return n.not};var Ie=function(n){return n.ff};var Xr=function(n){return n.disj},Tr={ff:!1,tt:!0,implies:function(n){return function(r){return Xr(Tr)(wt(Tr)(n))(r)}},conj:wa,disj:La,not:Sa};var O=function(){function n(r,e){this.value0=r,this.value1=e}return n.create=function(r){return function(e){return new n(r,e)}},n}();var Bn=function(n){return n.lift};var Fc=m(En);var Le=function(n){return n},tr=function(n){return n};var Cr={lift:function(n){var r=jo(n)(i.create);return function(e){return Le(r(e))}}};var Mc=function(n){var r=m(n);return{map:function(e){return function(t){return r(Fc(e))(t)}}}},xc=function(n){return{Applicative0:function(){return Yr(n)},Bind1:function(){return or(n)}}},or=function(n){var r=N(n.Bind1()),e=y(n.Applicative0());return{bind:function(t){return function(a){return r(t)(function(o){if(o instanceof f)return e(f.value);if(o instanceof i){var u=a(o.value0);return u}throw new Error("Failed pattern match at Control.Monad.Maybe.Trans (line 55, column 11 - line 57, column 42): "+[o.constructor.name])})}},Apply0:function(){return Pa(n)}}},Pa=function(n){var r=Mc(n.Bind1().Apply0().Functor0());return{apply:qr(xc(n)),Functor0:function(){return r}}},Yr=function(n){return{pure:function(){var r=y(n.Applicative0());return function(e){return Le(r(i.create(e)))}}(),Apply0:function(){return Pa(n)}}};var hr=function(n){var r=y(n.Applicative0());return function(e){return Le(r(e))}};var Ha=function(n,r){for(var e=n>r?-1:1,t=new Array(e*(r-n)+1),a=n,o=0;a!==r;)t[o++]=a,a+=e;return t[o]=a,t},Ic=function(n,r){if(n<1)return[];var e=new Array(n);return e.fill(r)},wc=function(n,r){for(var e=[],t=0,a=0;a<n;a++)e[t++]=r;return e},Lc=typeof Array.prototype.fill=="function"?Ic:wc;var Kr=function(n){return n.length};var Aa=function(n,r,e,t){return t<0||t>=e.length?r:n(e[t])};var Wa=function(n,r,e,t){for(var a=0,o=t.length;a<o;a++)if(e(t[a]))return n(a);return r};var Ua=function(n,r,e,t,a){if(e<0||e>=a.length)return r;var o=a.slice();return o[e]=t,n(o)},St=function(n){return n.slice().reverse()},Nt=function(n){if(n.length<=1e4)return Array.prototype.concat.apply([],n);for(var r=[],e=0,t=n.length;e<t;e++)for(var a=n[e],o=0,u=a.length;o<u;o++)r.push(a[o]);return r};var $a=function(n,r,e){for(var t=r.length<e.length?r.length:e.length,a=new Array(t),o=0;o<t;o++)a[o]=n(r[o])(e[o]);return a},qa=function(n,r){for(var e=r.length,t=0;t<e;t++)if(n(r[t]))return!0;return!1};function Nc(n){return n}var Oa=Nc;function Rc(n){return n.slice()}var Ba=Rc;var ka=function(n,r){return r.push(n)};var Ne=function(r){return function(e){return function(){return r(e)}}},Rt=function(r){return function(e){return function(t){return function(){return r(e,t)}}}};var Ja=Ne(Oa);var qc=Ne(Ba),Va=function(n){return function(r){return function(){var t=qc(r)();return n(t)(),Ja(t)()}}};var Pt=Rt(ka);var ja=function(n){return function(r){return function(e){for(var t=r,a=e.length,o=a-1;o>=0;o--)t=n(e[o])(t);return t}}},za=function(n){return function(r){return function(e){for(var t=r,a=e.length,o=0;o<a;o++)t=n(t)(e[o]);return t}}};var Jt=function(n){return n};var rl=function(n){var r=Xr(n);return{append:function(e){return function(t){return r(e)(t)}}}};var Za=function(n){var r=rl(n);return{mempty:Ie(n),Semigroup0:function(){return r}}};var nu=function(){return c};var ol=nu();var Gt=function(){return function(){return function(){return function(){return function(n){return ol}}}}};var fl=R($),cl=k(Ar);var ll=Gt()()()(),Pe=function(n){return n.foldr};var ne=function(n){var r=Pr(n.Apply0()),e=y(n);return function(t){var a=Pe(t);return function(o){return a(function(u){return r(o(u))})(e(void 0))}}},Xt=function(n){var r=ne(n);return function(e){return fn(r(e))}};var re=function(n){return n.foldl};var ru=function(n){var r=re(n);return function(e){var t=function(a){return function(o){if(a instanceof f)return new i(o);if(a instanceof i)return new i(function(){var u=cl(e(a.value0)(o))(F.value);return u?a.value0:o}());throw new Error("Failed pattern match at Data.Foldable (line 441, column 3 - line 441, column 27): "+[a.constructor.name,o.constructor.name])}};return r(t)(f.value)}},Yt=function(n){var r=q(n);return function(e){return ru(e)(r)}};var eu=function(n){var r=Pe(n);return function(e){var t=V(e.Semigroup0()),a=cn(e);return function(o){return r(function(u){return function(l){return t(o(u))(l)}})(a)}}},yn={foldr:ja,foldl:za,foldMap:function(n){return eu(yn)(n)}};var Kt=function(n){return n.foldMap};var tu=function(n){var r=Kt(n);return function(e){return ll(Jt)(r(Za(e)))}};var Zt=function(n){var r=tu(n);return function(e){return r(e)(fl)}};var te=function(n){return function(r){return function(e){return n(r,e)}}},no=function(n){return function(r){return function(e){return function(t){return n(r,e,t)}}}},He=function(n){return function(r){return function(e){return function(t){return function(a){return n(r,e,t,a)}}}}},ro=function(n){return function(r){return function(e){return function(t){return function(a){return function(o){return n(r,e,t,a,o)}}}}}};var lu=function(){function n(a){return[a]}function r(a){return function(o){return[a,o]}}function e(a){return function(o){return function(u){return[a,o,u]}}}function t(a){return function(o){return a.concat(o)}}return function(a){return function(o){return function(u){return function(l){return function(s){function T(g,E){switch(E-g){case 0:return u([]);case 1:return o(n)(l(s[g]));case 2:return a(o(r)(l(s[g])))(l(s[g+1]));case 3:return a(a(o(e)(l(s[g])))(l(s[g+1])))(l(s[g+2]));default:var M=g+Math.floor((E-g)/4)*2;return a(o(t)(T(g,M)))(T(M,E))}}return T(0,s.length)}}}}}}();var Ul=R($),Er=function(n){return n.traverse};var $l=function(n){var r=Er(n);return function(e){return r(e)(Ul)}},Fr={traverse:function(n){var r=n.Apply0();return lu(tn(r))(m(r.Functor0()))(y(n))},sequence:function(n){return $l(Fr)(n)},Functor0:function(){return sn},Foldable1:function(){return yn}};var Xl=no($a);var Ae=function(){return Xl(O.create)}();var Yl=function(){return ro(Ua)(i.create)(f.value)}();var ae=function(n){return function(r){return Va(Pt(r))(n)()}};var pu=te(Ha);var ar=function(){return He(Aa)(i.create)(f.value)}();var du=function(n){return function(r){return function(e){var t=function(a){return Yl(n)(r(a))(e)};return Qn(f.value)(t)(ar(e)(n))}}};var fo=function(){return He(Wa)(i.create)(f.value)}();var _u=te(qa);var Kl=Bn(Cr);var vu=function(n){var r=N(or(n)),e=hr(n),t=Kl(n);return function(a){return function(o){return function(u){return r(e(ar(u)(a)))(function(l){return r(t(o(l)))(function(s){return e(du(a)(W(s))(u))})})}}}};var co=function(n){return Ae(pu(0)(Kr(n)))(n)};var Zl=Er(Fr),ns=Zt(yn)(Tr),rs=ne(pn)(yn),es=Bn(Cr),ts=R($);var Du=function(n){var r=n.Applicative0(),e=n.Bind1().Apply0().Functor0(),t=Ze(e),a=Zl(r),o=Ce(e),u=$n(o),l=m(e),s=er(o),T=Nn(o),g=N(or(n)),E=es(n),M=hr(n),le=Sn(o),Q=vu(n),an=Zn(o),Ye=y(Yr(n)),Di=rr(o),yi=nr(o);return{position:W(y(r)({x:0,y:0})),translate:function(X){return function(z){return t(a(u(X))(z.layers))(function(Tn){return{dragIndex:z.dragIndex,layers:Tn}})}},containsPoint:function(X){return function(z){return l(ns)(a(s(X))(z.layers))}},draw:function(X){return function(z){return rs(function(){var Tn=Ln(X),Jn=T(X);return function(fr){return Tn(Jn(fr))}}())(St(z.layers))}},dragStart:function(X){return function(z){return l(_n(z))(tr(g(E(a(s({x:X.offsetX,y:X.offsetY}))(z.layers)))(function(Tn){return g(M(fo(ts)(Tn)))(function(Jn){return g(M(ar(z.layers)(Jn)))(function(fr){return g(E(le(fr)))(function(se){return g(Q(Jn)(an({offsetX:X.offsetX-se.x,offsetY:X.offsetY-se.y}))(z.layers))(function(Ti){return Ye({dragIndex:new i(Jn),layers:Ti})})})})})})))}},drag:function(X){return function(z){return l(_n(z))(tr(g(M(z.dragIndex))(function(Tn){return g(M(ar(z.layers)(Tn)))(function(Jn){return g(E(le(Jn)))(function(fr){return g(Q(Tn)(Di({translateX:X.translateX-fr.x,translateY:X.translateY-fr.y}))(z.layers))(function(se){return Ye({dragIndex:z.dragIndex,layers:se})})})})})))}},dragEnd:function(X){return l(_n({layers:X.layers,dragIndex:f.value}))(tr(g(M(X.dragIndex))(function(z){return g(Q(z)(yi)(X.layers))(function(Tn){return Ye({dragIndex:f.value,layers:Tn})})})))}}},yu=function(n){return{layers:n,dragIndex:f.value}};var lo=function(n){var r=y(n),e=yr(n);return{position:function(t){return r({x:t.rect.x,y:t.rect.y})},translate:function(t){return function(a){return r({fillStyle:a.fillStyle,dragOffset:a.dragOffset,rect:{width:a.rect.width,height:a.rect.height,x:a.rect.x+t.translateX,y:a.rect.y+t.translateY}})}},containsPoint:function(t){return function(a){return r(a.rect.x<=t.x&&t.x<=a.rect.x+a.rect.width&&a.rect.y<=t.y&&t.y<=a.rect.y+a.rect.height)}},draw:function(t){return function(a){return function(){return Dr(t)(a.fillStyle)(),sa(t)(pt(t)(a.rect))()}}},dragStart:function(t){return function(a){return r({rect:a.rect,fillStyle:a.fillStyle,dragOffset:new i(t)})}},drag:function(t){return function(a){return e(lo(n))(a.dragOffset)(t)(a)}},dragEnd:function(t){return r({rect:t.rect,fillStyle:t.fillStyle,dragOffset:f.value})}}},Tu=function(n){return function(r){return{rect:n,fillStyle:r,dragOffset:f.value}}};var us=_r(vr),so=function(n){var r=n.Monad0(),e=r.Bind1(),t=N(e),a=vn(n),o=us(e),u=y(r.Applicative0());return function(l){return function(s){return t(a(Dn(s)))(function(T){return t(l(T))(function(g){return o(a(he(g)(s)))(function(){return u(g)})})})}}},bu=function(n){var r=lr(n.Monad0().Bind1().Apply0().Functor0()),e=so(n);return function(t){return function(a){return r(void 0)(e(t)(a))}}};var cs=Un(gr),ls=function(n){return n};var We=function(n){var r=n.Monad0().Bind1(),e=Un(r),t=vn(n),a=lr(r.Apply0().Functor0()),o=so(n);return function(u){var l=Sn(u),s=$n(u),T=er(u),g=Zn(u),E=rr(u),M=nr(u),le=Nn(u);return{position:function(Q){return e(l)(t(Dn(Q)))},translate:function(Q){return function(an){return a(an)(o(s(Q))(an))}},containsPoint:function(Q){return function(an){return e(T(Q))(t(Dn(an)))}},dragStart:function(Q){return function(an){return a(an)(o(g(Q))(an))}},drag:function(Q){return function(an){return a(an)(o(E(Q))(an))}},dragEnd:function(Q){return a(Q)(o(M)(Q))},draw:function(Q){return function(an){return cs(le(Q))(Dn(an))}}}}};var Cu=function(n){var r=bu(n);return function(e){return function(t){return r(e)(t)}}};var Ue=function(n){var r=m(n.Monad0().Bind1().Apply0().Functor0()),e=vn(n);return function(t){return r(ls)(e(jr(t)))}};var ln=function(n){return n};var $e=isFinite;function Eu(n,r,e,t){var a=parseFloat(n);return r(a)?e(a):t}var mo=function(n){return Eu(n,$e,i.create,f.value)};function Mu(n){return n.split(/\r\n|[\n\v\f\r\u0085\u2028\u2029]/)}function xu(n){return n.split(/[\u000a-\u000d\u0085\u2028\u2029\u0009\u0020\u00a0\u1680\u2000-\u200a\u202f\u205f\u3000]+/)}var Tb=typeof Array.from=="function",bb=typeof Symbol<"u"&&Symbol!=null&&typeof Symbol.iterator<"u"&&typeof String.prototype[Symbol.iterator]=="function",Cb=typeof String.prototype.fromCodePoint=="function",hb=typeof String.prototype.codePointAt=="function";var Au=function(n){return xu(n)};var qe=function(n){return Mu(n)};var Oe=n=>r=>()=>n.measureText(r);var Be=Er(Fr)(pn),qs=re(yn),Os=m(sn),qu=m(h),Bs=Yt(ot)(yn),Wu=S(Jo),ks=Xt(pn)(yn);var ke=function(n){return function(r){return{position:r.position,maxWidth:r.maxWidth,fillStyle:r.fillStyle,fontName:r.fontName,fontSize:r.fontSize,fontStyle:r.fontStyle,fontWeight:r.fontWeight,align:r.align,baseline:r.baseline,lineHeight:r.lineHeight,letterSpacing:r.letterSpacing,dragOffset:r.dragOffset,context:r.context,text:n}}},Ou=function(n){return function(r){return{text:r.text,position:r.position,maxWidth:r.maxWidth,fillStyle:r.fillStyle,fontName:r.fontName,fontStyle:r.fontStyle,fontWeight:r.fontWeight,align:r.align,baseline:r.baseline,lineHeight:r.lineHeight,letterSpacing:r.letterSpacing,dragOffset:r.dragOffset,context:r.context,fontSize:n}}},yo=function(n){return function(r){return function(){var t=Oe(n)(r)();return t.width}}},Js=function(n){return function(r){return function(e){var t=Au(e);return function(){var o=Be(yo(n))(t)(),u=yo(n)(" ")(),l=function(g){return function(E){if(g.value1.value0.length===0)return new O(g.value0,new O([E.value0],E.value1));var M=g.value1.value1+u+E.value1>r;return M?new O(ae(g.value0)(g.value1.value0),new O([E.value0],E.value1)):new O(g.value0,new O(ae(g.value1.value0)(E.value0),g.value1.value1+u+E.value1))}},s=qs(l)(new O([],new O([],0)))(Ae(t)(o)),T=Os(dr(" "))(s.value0);return s.value1.value0.length===0?T:ae(T)(dr(" ")(s.value1.value0))}}}},Uu=function(n){return function(r){return function(e){return qu(Nt)(Be(Js(n)(r))(qe(e)))}}},Vs=function(n){return function(r){return function(){var t=Oe(n)(r)();return t.actualBoundingBoxAscent+t.actualBoundingBoxDescent}}};var $u=function(n){return function(r){return qu(function(){var e=_n(0);return function(t){return e(Bs(t))}}())(Be(Vs(n))(r))}},To=function(n){var r=n.Monad0().Applicative0(),e=y(r),t=vn(n),a=yr(r);return{position:function(o){return e(o.position)},translate:function(o){return function(u){return e({text:u.text,maxWidth:u.maxWidth,fillStyle:u.fillStyle,fontName:u.fontName,fontSize:u.fontSize,fontStyle:u.fontStyle,fontWeight:u.fontWeight,align:u.align,baseline:u.baseline,lineHeight:u.lineHeight,letterSpacing:u.letterSpacing,dragOffset:u.dragOffset,context:u.context,position:be(o)(u.position)})}},containsPoint:function(o){return function(u){return t(Ln(u.context)(function(){Dr(u.context)(u.fillStyle)(),De(u.context)(u.fontStyle+(" "+(u.fontWeight+(" "+(Wu(u.fontSize)+("px "+u.fontName))))))(),Et(u.context)(u.baseline)(),Ft(u.context)(u.align)(),Fe(u.context)(u.letterSpacing)();var s=function(){if(u.maxWidth instanceof i)return Uu(u.context)(u.maxWidth.value0)(u.text)();if(u.maxWidth instanceof f)return qe(u.text);throw new Error("Failed pattern match at Template.Layer.Text (line 62, column 14 - line 64, column 44): "+[u.maxWidth.constructor.name])}(),T=Be(yo(u.context))(s)(),g=$u(u.context)(s)();return fn(_u)(co(T))(function(E){var M=u.position.y+g*ln(E.value0)+(u.lineHeight-1)*g*ln(E.value0-1|0);if(u.align instanceof Ct||u.align instanceof Yn)return u.position.x<=o.x&&o.x<=u.position.x+E.value1&&M<=o.y&&o.y<=M+g;if(u.align instanceof ht||u.align instanceof Tt)return u.position.x-E.value1<=o.x&&o.x<=u.position.x&&M<=o.y&&o.y<=M+g;if(u.align instanceof bt)return u.position.x-E.value1/2<=o.x&&o.x<=u.position.x+E.value1/2&&M<=o.y&&o.y<=M+g;throw new Error("Failed pattern match at Template.Layer.Text (line 72, column 7 - line 82, column 65): "+[u.align.constructor.name])})}))}},dragStart:function(o){return function(u){return e({text:u.text,position:u.position,maxWidth:u.maxWidth,fillStyle:u.fillStyle,fontName:u.fontName,fontSize:u.fontSize,fontStyle:u.fontStyle,fontWeight:u.fontWeight,align:u.align,baseline:u.baseline,lineHeight:u.lineHeight,letterSpacing:u.letterSpacing,context:u.context,dragOffset:new i(o)})}},drag:function(o){return function(u){return a(To(n))(u.dragOffset)(o)(u)}},dragEnd:function(o){return e({text:o.text,position:o.position,maxWidth:o.maxWidth,fillStyle:o.fillStyle,fontName:o.fontName,fontSize:o.fontSize,fontStyle:o.fontStyle,fontWeight:o.fontWeight,align:o.align,baseline:o.baseline,lineHeight:o.lineHeight,letterSpacing:o.letterSpacing,context:o.context,dragOffset:f.value})},draw:function(o){return function(u){return Ln(o)(function(){Dr(o)(u.fillStyle)(),De(o)(u.fontStyle+(" "+(u.fontWeight+(" "+(Wu(u.fontSize)+("px "+u.fontName))))))(),Et(o)(u.baseline)(),Ft(o)(u.align)(),Fe(o)(u.letterSpacing)();var s=function(){if(u.maxWidth instanceof i)return Uu(o)(u.maxWidth.value0)(u.text)();if(u.maxWidth instanceof f)return qe(u.text);throw new Error("Failed pattern match at Template.Layer.Text (line 94, column 14 - line 96, column 44): "+[u.maxWidth.constructor.name])}(),T=$u(o)(s)();return ks(co(s))(function(g){return _t(o)(g.value1)(u.position.x)(u.position.y+ln(g.value0)*T*u.lineHeight)})()})}}}};var ku=function(n){return n},Gs={mapLayerWrapper:function(n){var r=m(n.Bind1().Apply0().Functor0());return function(e){return function(t){return r(ku)(e(t))}}}},js=pa(Gs);var Ju=function(n){var r=js(n),e=y(n.Applicative0());return function(t){var a=Sn(t),o=er(t),u=Nn(t);return{position:function(l){return a(l)},translate:function(){var l=$n(t);return function(s){return r(l(s))}}(),containsPoint:function(l){return function(s){return o(l)(s)}},dragStart:W(e),drag:W(e),dragEnd:e,draw:function(l){return function(s){return u(l)(s)}}}}};var Vu=ku;function Je(n,r){var e={};for(var t in r)({}).hasOwnProperty.call(r,t)&&(e[t]=r[t]);for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e}var Gu=function(){return function(){return function(n){return function(r){return Je(n,r)}}}};var ur=function(n){return function(r){return function(){return r[n]}}},Ks=ur("URL"),Zs=ur("documentURI"),nm=ur("origin"),rm=ur("compatMode"),em=ur("characterSet"),tm=ur("contentType");var om=ur("documentElement");function bo(n){return function(r){return function(){return r.createElement(n)}}}function ju(n,r,e){return n==null?r:e(n)}var B=function(n){return ju(n,f.value,i.create)};function zu(n,r,e,t){if(typeof window<"u"){var a=window[e];if(a!=null&&t instanceof a)return r(t)}for(var o=t;o!=null;){var u=Object.getPrototypeOf(o),l=u.constructor.name;if(l===e)return r(t);if(l==="Object")return n;o=u}return n}var d=function(n){return function(r){return zu(f.value,i.create,n,r)}};var Ve=function(n){return function(r){return r[n]}},sm=Ve("namespaceURI"),mm=Ve("prefix"),pm=Ve("localName"),dm=Ve("tagName");function Ge(n){return function(r){return function(e){return function(){e.setAttribute(n,r)}}}}function Co(n){return function(){var r=n.getBoundingClientRect();return{top:r.top,right:r.right,bottom:r.bottom,left:r.left,width:r.width,height:r.height,x:r.x,y:r.y}}}var je=function(n){return function(r){return function(){return r[n]}}},vm=je("children"),gm=je("firstElementChild"),Dm=je("lastElementChild"),ym=je("childElementCount");var kn=c;function Yu(n){return function(r){return function(){return r.getElementById(n)}}}var Fm=m(h),xr=function(n){var r=Fm(B),e=Yu(n);return function(t){return r(e(t))}};function Mn(n){return function(){return function(r){return n(r)()}}}function xn(n){return function(r){return function(e){return function(t){return function(){return t.addEventListener(n,r,e)}}}}}var ho=function(){return window};var Ir=c;var Ku=c,Zu=c;function ni(n,r,e){var t=Object.prototype.toString.call(e);return t.indexOf("[object HTML")===0&&t.indexOf("Element]")===t.length-8?r(e):n}function Eo(n){return function(){return n.click()}}function Fo(n){return function(){return n.offsetWidth}}function Mo(n){return function(){return n.offsetHeight}}var ri=c;var xo=function(n){return ni(f.value,i.create,n)};function wr(n){return function(){return n.value}}var Io=d("HTMLInputElement");function ze(n){return function(){return n.value}}var ai=d("HTMLTextAreaElement");function wo(n){return function(){return n.document}}function ie(n){return n.clientX}function fe(n){return n.clientY}var Qe=d("MouseEvent");var Nr=y(pn),Pp=_r(vr),ce=We(Fn)(Ce(h)),Hp=Nn(ce),So=or(un),Lr=N(So),Lo=Un(So),Xe=hr(un),ir=Bn(Cr)(un),ui=Pp(So),Ap=Un(gr),ii=y(Yr(un)),Wp=Ue(Fn),Up=Gu()(),No=Sn(ce),fi=rr(ce),$p=nr(ce),qp=Zn(ce),Sr=Cu(Fn),Ro=function(n){return function(r){return function(e){return function(){var a=Co(ri(r))(),o=Fo(r)(),u=Mo(r)(),l=kr(n)(),s=Jr(n)();return{x:(e.x-a.left)*l/o,y:(e.y-a.top)*s/u}}}}},Rr=function(n){return function(){var e=Br(n.canvas)(),t=la(n.canvas)();return dt(e)({x:0,y:0,width:t.width,height:t.height})(),Ln(e)(Hp(e)(n.layer))()}},ci=function(n){return function(r){return tr(Lr(Lo(Xe)(ir(ca(n))))(function(e){return ui(ir(fa(e)(r)))(function(){return Lr(ir(Ap(wo)(ho)))(function(t){return Lr(Lo(Xe)(ir(xr("canvas")(Ir(t)))))(function(a){return Lr(Xe(xo(a)))(function(o){return ii({canvas:e,canvasElement:a,canvasHtmlElement:o,document:t})})})})})}))}},li=function(n){var r=qn(n);return function(e){return function(t){return function(){var o=Wp(r(t))();return Up(e)({layer:o})}}}},Op=function(n){return Mn(function(r){var e=Qe(r);if(e instanceof f)return Nr(void 0);if(e instanceof i)return function(){var a=No(n.layer)(),o=Ro(n.canvas)(n.canvasHtmlElement)({x:ln(ie(e.value0)),y:ln(fe(e.value0))})(),u={translateX:o.x-a.x,translateY:o.y-a.y};return fi(u)(n.layer)(),$p(n.layer)(),Rr(n)()};throw new Error("Failed pattern match at Template.Main (line 148, column 62 - line 159, column 22): "+[e.constructor.name])})},Bp=function(n){return Mn(function(r){var e=Qe(r);if(e instanceof f)return Nr(void 0);if(e instanceof i)return function(){var a=No(n.layer)(),o=Ro(n.canvas)(n.canvasHtmlElement)({x:ln(ie(e.value0)),y:ln(fe(e.value0))})(),u={translateX:o.x-a.x,translateY:o.y-a.y};return fi(u)(n.layer)(),Rr(n)()};throw new Error("Failed pattern match at Template.Main (line 135, column 64 - line 145, column 22): "+[e.constructor.name])})},kp=function(n){return Mn(function(r){var e=Qe(r);if(e instanceof f)return Nr(void 0);if(e instanceof i)return function(){var a=No(n.layer)(),o=Ro(n.canvas)(n.canvasHtmlElement)({x:ln(ie(e.value0)),y:ln(fe(e.value0))})(),u={offsetX:o.x-a.x,offsetY:o.y-a.y};return qp(u)(n.layer)(),Rr(n)()};throw new Error("Failed pattern match at Template.Main (line 122, column 64 - line 132, column 22): "+[e.constructor.name])})},Jp=function(n){return Mn(function(r){return Rr(n)})},si=function(n){return function(r){return function(e){return tr(function(){var t=Ir(e.document);return Lr(Lo(Xe)(ir(xr(n)(t))))(function(a){return Lr(ir(Mn(function(o){return function(){var l=lt(e.canvas)(),s=bo("a")(Zu(e.document))();Ge("href")(l)(s)(),Ge("download")(r)(s)();var T=xo(s);if(T instanceof i)return Eo(T.value0)();throw new Error("Failed pattern match at Template.Main (line 116, column 9 - line 116, column 53): "+[T.constructor.name])}})))(function(o){return ui(ir(xn("click")(o)(!1)(kn(a))))(function(){return ii(a)})})})}())}}},Vp=function(n){return function(r){return function(e){return function(t){return function(){var o=xr(r)(Ir(n.document))();if(o instanceof i){var u=ai(o.value0);if(u instanceof i){var l=ze(u.value0)();Sr(t(l))(e)();var s=Mn(function(T){return function(){var E=ze(u.value0)();return Sr(t(E))(e)()}})();return xn("input")(s)(!1)(kn(o.value0))()}throw new Error("Failed pattern match at Template.Main (line 195, column 7 - line 195, column 55): "+[u.constructor.name])}throw new Error("Failed pattern match at Template.Main (line 194, column 3 - line 194, column 79): "+[o.constructor.name])}}}}},Po=function(n){return function(r){return function(e){return function(t){return Vp(n)(r)(e)(function(a){return function(o){return function(u){return Nr(o(u))}}(t(a))})}}}},Gp=function(n){return function(r){return function(e){return function(t){return function(){var o=xr(r)(Ir(n.document))();if(o instanceof i){var u=Io(o.value0);if(u instanceof i){var l=wr(u.value0)();(function(){var T=mo(l);if(T instanceof i)return Sr(t(T.value0))(e)();if(T instanceof f)return void 0;throw new Error("Failed pattern match at Template.Main (line 214, column 3 - line 216, column 25): "+[T.constructor.name])})();var s=Mn(function(T){return function(){var E=wr(u.value0)(),M=mo(E);if(M instanceof i)return Sr(t(M.value0))(e)();if(M instanceof f)return void 0;throw new Error("Failed pattern match at Template.Main (line 220, column 5 - line 222, column 27): "+[M.constructor.name])}})();return xn("input")(s)(!1)(kn(o.value0))()}throw new Error("Failed pattern match at Template.Main (line 211, column 7 - line 211, column 52): "+[u.constructor.name])}throw new Error("Failed pattern match at Template.Main (line 210, column 3 - line 210, column 79): "+[o.constructor.name])}}}}},jp=function(n){return function(r){return function(e){return function(t){return Gp(n)(r)(e)(function(a){return function(o){return function(u){return Nr(o(u))}}(t(a))})}}}},mi=function(n){return function(r){return function(e){return jp(n)(r)(e)(Ou)}}},zp=function(n){return function(r){return function(e){return function(t){return function(){var o=xr(r)(Ir(n.document))();if(o instanceof i){var u=Io(o.value0);if(u instanceof i){var l=wr(u.value0)();Sr(t(l))(e)();var s=Mn(function(T){return function(){var E=wr(u.value0)();return Sr(t(E))(e)()}})();return xn("input")(s)(!1)(kn(o.value0))()}throw new Error("Failed pattern match at Template.Main (line 179, column 7 - line 179, column 52): "+[u.constructor.name])}throw new Error("Failed pattern match at Template.Main (line 178, column 3 - line 178, column 79): "+[o.constructor.name])}}}}},pi=function(n){return function(r){return function(e){return function(t){return zp(n)(r)(e)(function(a){return function(o){return function(u){return Nr(o(u))}}(t(a))})}}}},di=function(n){return function(){var e=kp(n)(),t=Bp(n)(),a=Op(n)(),o=Jp(n)();return xn("mousedown")(e)(!1)(kn(n.canvasElement))(),xn("mousemove")(t)(!1)(kn(n.canvasElement))(),xn("mouseup")(a)(!1)(kn(n.canvasElement))(),xn("input")(o)(!1)(Ku(n.document))()}};var _i=ba(Fn),Ho=Ue(Fn),vi=qn(Mt(Fn)),Ao=qn(We(Fn)(To(Fn))),Xp=qn(lo(pn)),Yp=li(Ju(un)(Du(un))),Rn=function(){return{width:2*1080,height:2*1080*5/4}}(),gi=nn(h)(function(){var r=ci("canvas")(Rn)();if(r instanceof i){var e=Br(r.value0.canvas)(),t=_i("./img/guillotine.svg")({x:2*60,y:2*60})({scaleX:2,scaleY:2})(ye.value)(),a=_i("./img/jacobinlogo.svg")({x:Rn.width-2*120,y:Rn.height-2*200})({scaleX:2,scaleY:2})(ye.value)(),o=Ho({text:"Broodtekst",lineHeight:.95,position:{x:120,y:300},fillStyle:"#f00",fontName:"Oswald",fontStyle:"normal",fontWeight:"500",fontSize:180,align:Yn.value,baseline:Gr.value,letterSpacing:"-3px",dragOffset:f.value,maxWidth:new i(Rn.width-2*120),context:e})();Po(r.value0)("bodytext")(o)(ke)(),mi(r.value0)("bodytext-size")(o)();var u=Ho({text:"AUTEUR",lineHeight:.95,position:{x:2*60,y:Rn.height-2*200},fillStyle:"#f00",fontName:"Oswald",fontStyle:"normal",fontWeight:"500",fontSize:90,align:Yn.value,baseline:Gr.value,letterSpacing:"-3px",dragOffset:f.value,maxWidth:f.value,context:e})();pi(r.value0)("author")(u)(function(g){return ke(_e(g))})();var l=Ho({text:"Titel",lineHeight:.9,position:{x:2*60,y:Rn.height-2*200+2*49.5},maxWidth:new i(Rn.width-4*2*60),fillStyle:"#f00",fontName:"Oswald",fontStyle:"normal",fontWeight:"700",fontSize:90,align:Yn.value,baseline:Gr.value,letterSpacing:"-2px",dragOffset:f.value,context:e})();Po(r.value0)("title")(l)(ke)();var s=Vu(yu([vi(t),vi(a),Ao(u),Ao(l),Ao(o),Xp(Tu({x:0,y:0,width:Rn.width,height:Rn.height})("#fff"))])),T=Yp(r.value0)(s)();return Rr(T)(),di(T)(),si("button")("jacobin.png")(T)()}throw new Error("Failed pattern match at Jacobin.TextSlide (line 25, column 3 - line 25, column 72): "+[r.constructor.name])});gi();})();

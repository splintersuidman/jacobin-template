/* Generated by Spago v0.93.44 */
(()=>{var Ql=function(t){return function(e){for(var n=e.length,r=new Array(n),u=0;u<n;u++)r[u]=t(e[u]);return r}};var To={compose:function(t){return function(e){return function(n){return t(e(n))}}}};var k=function(t){return t.identity},V={identity:function(t){return t},Semigroupoid0:function(){return To}};var Ft=!0;var j=function(t){return function(e){return function(n){return t(n)(e)}}},Q=function(t){return function(e){return t}};var B=function(){function t(){}return t.value=new t,t}();var p=function(t){return t.map},$e=function(t){var e=p(t);return function(n){return function(r){return e(r)(n)}}},ht=function(t){return p(t)(Q(void 0))};var qe=function(t){var e=p(t);return function(n){return e(Q(n))}};var Rt={map:Ql};var Yl=function(t){return function(e){return t.length===0?e:e.length===0?t:t.concat(e)}};var Ht=function(t){return t.reflectSymbol};var te=function(t){return function(e){return e[t]}},jt=function(t){return function(e){return function(n){var r={};for(var u in n)({}).hasOwnProperty.call(n,u)&&(r[u]=n[u]);return r[t]=e,r}}};var se={append:Yl};var A=function(t){return t.append};var pt=function(t){return t.alt};var Kl=function(t){return function(e){for(var n=t.length,r=e.length,u=new Array(n*r),a=0,o=0;o<n;o++)for(var l=t[o],i=0;i<r;i++)u[a++]=l(e[i]);return u}};var Dd=k(V);var Mo={apply:Kl,Functor0:function(){return Rt}},ot=function(t){return t.apply},Zl=function(t){var e=ot(t),n=p(t.Functor0());return function(r){return function(u){return e(n(Q)(r))(u)}}},ee=function(t){var e=ot(t),n=p(t.Functor0());return function(r){return function(u){return e(n(Q(Dd))(r))(u)}}};var y=function(t){return t.pure};var Tr=function(t){var e=ot(t.Apply0()),n=y(t);return function(r){return function(u){return e(n(r))(u)}}};var ei="\uFFFF",ni="\0",Fd=Number.POSITIVE_INFINITY,wd=Number.NEGATIVE_INFINITY;var Qa=function(t){return function(e){return function(n){return function(r){return function(u){return r<u?t:r===u?e:n}}}}};var ri=Qa,oi=Qa;var ai=Qa;var Ya=function(t){return function(e){return t===e}};var ui=Ya,li=Ya,ii=Ya;var ci={eq:li},xo={eq:ui},Lo={eq:ii};var O=function(t){return t.eq};var U=function(){function t(){}return t.value=new t,t}(),I=function(){function t(){}return t.value=new t,t}(),Y=function(){function t(){}return t.value=new t,t}();var Hn={eq:function(t){return function(e){return t instanceof U&&e instanceof U||t instanceof I&&e instanceof I||t instanceof Y&&e instanceof Y}}};var fi=function(t){return function(e){return t-e|0}};var si=function(t){return function(e){return t+e|0}},di=function(t){return function(e){return t*e|0}},pi=function(t){return function(e){return t+e}},vi=function(t){return function(e){return t*e}};var mi=function(t){return t.zeroRecord},Qt=function(t){return t.zero};var Io={addRecord:function(t){return function(e){return function(n){return{}}}},mulRecord:function(t){return function(e){return function(n){return{}}}},oneRecord:function(t){return function(e){return{}}},zeroRecord:function(t){return function(e){return{}}}};var cn={add:pi,zero:0,mul:vi,one:1},No={add:si,zero:0,mul:di,one:1},_i=function(t){return t.oneRecord},de=function(t){return t.one},gi=function(t){return t.mulRecord},$t=function(t){return t.mul},hi=function(t){return t.addRecord},So=function(){return function(t){return{add:hi(t)(B.value),mul:gi(t)(B.value),one:_i(t)(B.value)(B.value),zero:mi(t)(B.value)(B.value)}}},qt=function(t){return t.add};var Er=function(t){var e=Ht(t);return function(){return function(n){var r=hi(n),u=gi(n),a=_i(n),o=mi(n);return function(l){var i=qt(l),d=$t(l),s=de(l),m=Qt(l);return{addRecord:function(w){return function(et){return function(N){var Z=r(B.value)(et)(N),at=e(B.value),ie=jt(at),Ut=te(at);return ie(i(Ut(et))(Ut(N)))(Z)}}},mulRecord:function(w){return function(et){return function(N){var Z=u(B.value)(et)(N),at=e(B.value),ie=jt(at),Ut=te(at);return ie(d(Ut(et))(Ut(N)))(Z)}}},oneRecord:function(w){return function(et){var N=a(B.value)(B.value),Z=e(B.value),at=jt(Z);return at(s)(N)}},zeroRecord:function(w){return function(et){var N=o(B.value)(B.value),Z=e(B.value),at=jt(Z);return at(m)(N)}}}}}}};var Ri={sub:fi,Semiring0:function(){return No}};var Mr=function(){return{compare:oi(U.value)(Y.value)(I.value),Eq0:function(){return ci}}}(),Ot=function(){return{compare:ri(U.value)(Y.value)(I.value),Eq0:function(){return xo}}}(),Ao=function(){return{compare:ai(U.value)(Y.value)(I.value),Eq0:function(){return Lo}}}();var H=function(t){return t.compare};var ye=function(t){return t.top};var xr={top:ei,bottom:ni,Ord0:function(){return Ao}};var Oe=function(t){return t.bottom};var Fi=function(t){var e=t.toString();return isNaN(e+".0")?e:e+".0"},wi=function(t){var e=t.charCodeAt(0);if(e<32||e===127){switch(t){case"\x07":return"'\\a'";case"\b":return"'\\b'";case"\f":return"'\\f'";case`
`:return"'\\n'";case"\r":return"'\\r'";case"	":return"'\\t'";case"\v":return"'\\v'"}return"'\\"+e.toString(10)+"'"}return t==="'"||t==="\\"?"'\\"+t+"'":"'"+t+"'"};var bi=function(t){return function(e){for(var n=[],r=0,u=e.length;r<u;r++)n[r]=t(e[r]);return"["+n.join(",")+"]"}};var Wo={show:Fi};var Uo={show:wi};var b=function(t){return t.show},Ka=function(t){return{show:bi(b(t))}};var Hd=k(V),f=function(){function t(){}return t.value=new t,t}(),c=function(){function t(e){this.value0=e}return t.create=function(e){return new t(e)},t}();var Yt=function(t){return function(e){return function(n){if(n instanceof f)return t;if(n instanceof c)return e(n.value0);throw new Error("Failed pattern match at Data.Maybe (line 237, column 1 - line 237, column 51): "+[t.constructor.name,e.constructor.name,n.constructor.name])}}},qn=Yt(!0)(Q(!1));var lt={map:function(t){return function(e){return e instanceof c?new c(t(e.value0)):f.value}}};var Mt=function(t){return Yt(t)(Hd)},Be=function(){return function(t){if(t instanceof c)return t.value0;throw new Error("Failed pattern match at Data.Maybe (line 288, column 1 - line 288, column 46): "+[t.constructor.name])}};var qo=function(t){return t.toUpperCase()};var fn=function(t){return function(e){return e.join(t)}};var Oo=function(t){return t===""};var Ei=function(t){return function(){return t}},Mi=function(t){return function(e){return function(){return e(t())()}}};var xi=typeof Array.prototype.flatMap=="function"?function(t){return function(e){return t.flatMap(e)}}:function(t){return function(e){for(var n=[],r=t.length,u=0;u<r;u++)for(var a=e(t[u]),o=a.length,l=0;l<o;l++)n.push(a[l]);return n}};var sn=function(t){return t.discard};var zo={bind:xi,Apply0:function(){return Mo}},E=function(t){return t.bind},pe=function(t){return j(E(t))};var dn={discard:function(t){return E(t)}};var Ii=function(t){var e=E(t.Bind1()),n=y(t.Applicative0());return function(r){return function(u){return e(u)(function(a){return n(r(a))})}}},pn=function(t){var e=E(t.Bind1()),n=y(t.Applicative0());return function(r){return function(u){return e(r)(function(a){return e(u)(function(o){return n(a(o))})})}}};var Ni=function(t){return Math.min(Math.abs(t),2147483647)},Si=function(t){return function(e){return e===0?0:e>0?Math.floor(t/e):-Math.floor(t/-e)}},Pi=function(t){return function(e){if(e===0)return 0;var n=Math.abs(e);return(t%n+n)%n}};var Ai={Ring0:function(){return Ri}};var Ir=function(t){return t.mod};var ko={degree:Ni,div:Si,mod:Pi,CommutativeRing0:function(){return Ai}};var it=function(t){return t.mempty};var Ui=function(t,e,n){var r=0,u;return function(a){if(r===2)return u;if(r===1)throw new ReferenceError(t+" was needed before it finished initializing (module "+e+", line "+a+")",e,a);return r=1,u=n(),r=2,u}},It={Applicative0:function(){return xt},Bind1:function(){return Bn}},Bn={bind:Mi,Apply0:function(){return eu(0)}},xt={pure:Ei,Apply0:function(){return eu(0)}},Hi=Ui("functorEffect","Effect",function(){return{map:Tr(xt)}}),eu=Ui("applyEffect","Effect",function(){return{apply:pn(It),Functor0:function(){return Hi(0)}}}),S=Hi(20),$i=eu(23);var ne={liftEffect:k(V),Monad0:function(){return It}},Nt=function(t){return t.liftEffect};function qi(t){return function(e){return function(n){return function(){var r=new Image;r.src=t,r.addEventListener("load",function(){n(r)()},!1),r.addEventListener("error",function(){e()},!1)}}}}function Oi(t,e,n){return function(){var r=document.getElementById(t);return r&&r instanceof HTMLCanvasElement?e(r):n}}function Nr(t){return function(){return t.getContext("2d")}}function Sr(t){return function(){return t.width}}function Pr(t){return function(){return t.height}}function nu(t){return function(e){return function(){t.width=e}}}function ru(t){return function(e){return function(){t.height=e}}}function ou(t){return function(){return t.toDataURL()}}function be(t){return function(e){return function(){t.fillStyle=e}}}function Bi(t){return function(e){return function(){t.globalCompositeOperation=e}}}function au(t){return function(){t.beginPath()}}function uu(t){return function(){t.fill()}}function lu(t){return function(e){return function(){t.rect(e.x,e.y,e.width,e.height)}}}function iu(t){return function(e){return function(){t.clearRect(e.x,e.y,e.width,e.height)}}}function zi(t){return function(e){return function(){t.textAlign=e}}}function ki(t){return function(e){return function(){t.textBaseline=e}}}function vn(t){return function(e){return function(){t.font=e}}}function Ar(t){return function(e){return function(n){return function(r){return function(){t.fillText(e,n,r)}}}}}function cu(t){return function(){t.save()}}function fu(t){return function(){t.restore()}}function su(t){return function(e){return function(n){return function(r){return function(u){return function(a){return function(){t.drawImage(e,n,r,u,a)}}}}}}}var st=function(){function t(e){this.value0=e}return t.create=function(e){return new t(e)},t}(),ct=function(){function t(e){this.value0=e}return t.create=function(e){return new t(e)},t}();var tp=ee($i),ve=function(){function t(){}return t.value=new t,t}(),ep=function(){function t(){}return t.value=new t,t}(),np=function(){function t(){}return t.value=new t,t}(),rp=function(){function t(){}return t.value=new t,t}(),op=function(){function t(){}return t.value=new t,t}(),Ce=function(){function t(){}return t.value=new t,t}(),re=function(){function t(){}return t.value=new t,t}(),zn=function(){function t(){}return t.value=new t,t}(),kn=function(){function t(){}return t.value=new t,t}(),Jn=function(){function t(){}return t.value=new t,t}(),Gn=function(){function t(){}return t.value=new t,t}();var Go=function(){function t(){}return t.value=new t,t}(),ap=function(){function t(){}return t.value=new t,t}(),up=function(){function t(){}return t.value=new t,t}(),lp=function(){function t(){}return t.value=new t,t}(),ip=function(){function t(){}return t.value=new t,t}(),cp=function(){function t(){}return t.value=new t,t}(),fp=function(){function t(){}return t.value=new t,t}(),sp=function(){function t(){}return t.value=new t,t}(),dp=function(){function t(){}return t.value=new t,t}(),pp=function(){function t(){}return t.value=new t,t}(),vp=function(){function t(){}return t.value=new t,t}(),mp=function(){function t(){}return t.value=new t,t}(),_p=function(){function t(){}return t.value=new t,t}(),gp=function(){function t(){}return t.value=new t,t}(),hp=function(){function t(){}return t.value=new t,t}(),Rp=function(){function t(){}return t.value=new t,t}(),Dp=function(){function t(){}return t.value=new t,t}(),yp=function(){function t(){}return t.value=new t,t}(),Fp=function(){function t(){}return t.value=new t,t}(),wp=function(){function t(){}return t.value=new t,t}(),bp=function(){function t(){}return t.value=new t,t}(),Cp=function(){function t(){}return t.value=new t,t}(),Tp=function(){function t(){}return t.value=new t,t}(),Ep=function(){function t(){}return t.value=new t,t}(),Mp=function(){function t(){}return t.value=new t,t}(),xp=function(){function t(){}return t.value=new t,t}(),St=function(t){return function(e){return function(){cu(t)();var r=e();return fu(t)(),r}}},ji=function(t){return function(e){return qi(t)(e(f.value))(function(n){return e(c.create(n))})}};var Vn=function(t){return function(e){var n=function(r){if(r instanceof ve)return"top";if(r instanceof ep)return"hanging";if(r instanceof np)return"middle";if(r instanceof rp)return"alphabetic";if(r instanceof op)return"ideographic";if(r instanceof Ce)return"bottom";throw new Error("Failed pattern match at Graphics.Canvas (line 577, column 5 - line 577, column 33): "+[r.constructor.name])};return ki(t)(n(e))}},jn=function(t){return function(e){var n=function(r){if(r instanceof re)return"left";if(r instanceof zn)return"right";if(r instanceof kn)return"center";if(r instanceof Jn)return"start";if(r instanceof Gn)return"end";throw new Error("Failed pattern match at Graphics.Canvas (line 531, column 5 - line 531, column 32): "+[r.constructor.name])};return zi(t)(n(e))}};var Qi=function(t){return function(e){var n=function(r){if(r instanceof Go)return"source-over";if(r instanceof ap)return"source-in";if(r instanceof up)return"source-out";if(r instanceof lp)return"source-atop";if(r instanceof ip)return"destination-over";if(r instanceof cp)return"destination-in";if(r instanceof fp)return"destination-out";if(r instanceof sp)return"destination-atop";if(r instanceof dp)return"lighter";if(r instanceof pp)return"copy";if(r instanceof vp)return"xor";if(r instanceof mp)return"multiply";if(r instanceof _p)return"screen";if(r instanceof gp)return"overlay";if(r instanceof hp)return"darken";if(r instanceof Rp)return"lighten";if(r instanceof Dp)return"color-dodge";if(r instanceof yp)return"color-burn";if(r instanceof Fp)return"hard-light";if(r instanceof wp)return"soft-light";if(r instanceof bp)return"difference";if(r instanceof Cp)return"exclusion";if(r instanceof Tp)return"hue";if(r instanceof Ep)return"saturation";if(r instanceof Mp)return"color";if(r instanceof xp)return"luminosity";throw new Error("Failed pattern match at Graphics.Canvas (line 326, column 5 - line 326, column 45): "+[r.constructor.name])};return Bi(t)(n(e))}},Yi=function(t){return function(e){return tp(ru(t)(e.height))(nu(t)(e.width))}},Xi=function(t){return Oi(t,c.create,f.value)},Ki=function(t){return function(){var n=Sr(t)(),r=Pr(t)();return{width:n,height:r}}},Zi=function(t){return function(e){return function(){au(t)();var r=e();return uu(t)(),r}}};var Vo=function(t){return function(e){return e(function(n){return t(n)})}},Qn=function(t){return function(e){return{x:e.x+t.translateX,y:e.y+t.translateY}}};var Ge=function(t){return t.translate},tc=function(t){return function(e){return{width:e.width*t.scaleX,height:e.height*t.scaleY}}};var Te=function(t){return t.position},Ee=function(t){return function(e){return function(n){return n(t)(e)}}},Lp=function(t){var e=p(t);return function(n){return Vo(function(r){var u=e(Ee(r)),a=n(r);return function(o){return u(a(o))}})}};var ec=function(t){return t.mapLayerWrapper},Me=function(t){return t.draw},Ip=function(t){var e=Ge(t);return function(n){return function(r){return function(u){var a={translateX:r.translateX-n.offsetX,translateY:r.translateY-n.offsetY};return e(a)(u)}}}},Ve=function(t){var e=y(t);return function(n){var r=Ip(n);return function(u){return function(a){return function(o){if(u instanceof f)return e(o);if(u instanceof c)return r(u.value0)(a)(o);throw new Error("Failed pattern match at Template.Layer (line 61, column 1 - line 61, column 115): "+[u.constructor.name,a.constructor.name,o.constructor.name])}}}}},je=function(t){return t.dragStart},Qe=function(t){return t.dragEnd},Ye=function(t){return t.drag},mn=function(t){return t.containsPoint},jo=function(t){var e=Lp(t);return{position:Vo(function(n){return Te(n)}),translate:function(n){return e(function(r){return Ge(r)(n)})},containsPoint:function(n){return Vo(function(r){return mn(r)(n)})},draw:function(n){return Vo(function(r){return Me(r)(n)})},dragStart:function(n){return e(function(r){return je(r)(n)})},drag:function(n){return e(function(r){return Ye(r)(n)})},dragEnd:e(function(n){return Qe(n)})}};var nc=function(t){return function(){return{value:t}}};var Xt=function(t){return function(){return t.value}},rc=function(t){return function(e){return function(){var n=t(e.value);return e.value=n.state,n.value}}},Wr=function(t){return function(e){return function(){e.value=t}}};var Sp=ht(S),Yn=nc,Pp=rc,oc=function(t){return Pp(function(e){var n=t(e);return{state:n,value:n}})},ac=function(t){return function(e){return Sp(oc(t)(e))}};var Hr=t=>t.width,$r=t=>t.height;var _n=t=>e=>()=>t.letterSpacing=e;var uc=function(t){return function(e){return function(n){return function(r){return su(t)(e)(n.x)(n.y)(r.width)(r.height)}}}};var lc=function(t){return{width:Hr(t),height:$r(t)}};var vu=function(t){var e=t.Monad0(),n=e.Applicative0(),r=y(n),u=E(e.Bind1()),a=Nt(t),o=Ve(n);return{position:function(l){return r(l.position)},translate:function(l){return function(i){return r({image:i.image,scale:i.scale,composite:i.composite,dragOffset:i.dragOffset,position:Qn(l)(i.position)})}},containsPoint:function(l){return function(i){return u(a(Xt(i.image)))(function(d){if(d instanceof f)return r(!1);if(d instanceof c)return r(i.position.x<=l.x&&l.x<=i.position.x+Hr(d.value0)*i.scale.scaleX&&i.position.y<=l.y&&l.y<=i.position.y+$r(d.value0)*i.scale.scaleY);throw new Error("Failed pattern match at Template.Layer.Image (line 74, column 5 - line 80, column 90): "+[d.constructor.name])})}},dragStart:function(l){return function(i){return r({image:i.image,position:i.position,scale:i.scale,composite:i.composite,dragOffset:new c(l)})}},drag:function(l){return function(i){return o(vu(t))(i.dragOffset)(l)(i)}},dragEnd:function(l){return r({image:l.image,position:l.position,scale:l.scale,composite:l.composite,dragOffset:f.value})},draw:function(l){return function(i){return function(){var s=Xt(i.image)();if(s instanceof f)return void 0;if(s instanceof c)return St(l)(function(){return Qi(l)(i.composite)(),uc(l)(s.value0)(i.position)(tc(i.scale)(lc(s.value0)))()})();throw new Error("Failed pattern match at Template.Layer.Image (line 88, column 5 - line 94, column 54): "+[s.constructor.name])}}}}};var ic=function(t){var e=Nt(t);return function(n){return function(r){return function(u){return function(a){return e(function(){var l=Yn(f.value)();return ji(n)(function(){var i=j(ac)(l);return function(d){return i(Q(d))}}())(),{image:l,position:r,scale:u,composite:a,dragOffset:f.value}})}}}}};var gn=function(t){return t.throwError};var Xn=function(t){return t};var hu={map:function(t){return function(e){return t(e)}}};var fc={apply:function(t){return function(e){return t(e)}},Functor0:function(){return hu}},$p={bind:function(t){return function(e){return e(t)}},Apply0:function(){return fc}},qp={pure:Xn,Apply0:function(){return fc}},sc={Applicative0:function(){return qp},Bind1:function(){return $p}};var Pt=function(){function t(e){this.value0=e}return t.create=function(e){return new t(e)},t}(),At=function(){function t(e){this.value0=e}return t.create=function(e){return new t(e)},t}(),Le=function(t){return t.tailRecM};var Op=function(t){var e=function(n){var r=!1,u;function a(o){if(o instanceof Pt){n=t(o.value0);return}if(o instanceof At)return r=!0,o.value0;throw new Error("Failed pattern match at Control.Monad.Rec.Class (line 103, column 3 - line 103, column 25): "+[o.constructor.name])}for(;!r;)u=a(n);return u};return function(n){return e(t(n))}};var dc={tailRecM:function(t){var e=function(r){return r},n=Op(function(r){return e(t(r))});return function(r){return Xn(n(r))}},Monad0:function(){return sc}};var v=function(t){return t};var hn=function(t){return t.defer};var gc=function(t){return function(e){return t&&e}},hc=function(t){return function(e){return t||e}},Rc=function(t){return!t};var Yo=function(t){return t.not};var Br=function(t){return t.ff};var Zn=function(t){return t.disj},Xe={ff:!1,tt:!0,implies:function(t){return function(e){return Zn(Xe)(Yo(Xe)(t))(e)}},conj:gc,disj:hc,not:Rc};var C=function(){function t(e,n){this.value0=e,this.value1=n}return t.create=function(e){return function(n){return new t(e,n)}},t}();var Rn=function(t){return t.value0};var oe=function(t){return t.lift};var tv=p(lt);var Ko=function(t){return t},Dn=function(t){return t};var er={lift:function(t){var e=Ii(t)(c.create);return function(n){return Ko(e(n))}}};var ev=function(t){var e=p(t);return{map:function(n){return function(r){return e(tv(n))(r)}}}},nv=function(t){return{Applicative0:function(){return zr(t)},Bind1:function(){return yn(t)}}},yn=function(t){var e=E(t.Bind1()),n=y(t.Applicative0());return{bind:function(r){return function(u){return e(r)(function(a){if(a instanceof f)return n(f.value);if(a instanceof c){var o=u(a.value0);return o}throw new Error("Failed pattern match at Control.Monad.Maybe.Trans (line 55, column 11 - line 57, column 42): "+[a.constructor.name])})}},Apply0:function(){return bc(t)}}},bc=function(t){var e=ev(t.Bind1().Apply0().Functor0());return{apply:pn(nv(t)),Functor0:function(){return e}}},zr=function(t){return{pure:function(){var e=y(t.Applicative0());return function(n){return Ko(e(c.create(n)))}}(),Apply0:function(){return bc(t)}}};var nr=function(t){var e=y(t.Applicative0());return function(n){return Ko(e(n))}};var Cc=function(t,e){for(var n=t>e?-1:1,r=new Array(n*(e-t)+1),u=t,a=0;u!==e;)r[a++]=u,u+=n;return r[a]=u,r},rv=function(t,e){if(t<1)return[];var n=new Array(t);return n.fill(e)},ov=function(t,e){for(var n=[],r=0,u=0;u<t;u++)n[r++]=e;return n},av=typeof Array.prototype.fill=="function"?rv:ov,Tc=function(){function t(u,a){this.head=u,this.tail=a}var e={};function n(u){return function(a){return new t(u,a)}}function r(u){for(var a=[],o=0,l=u;l!==e;)a[o++]=l.head,l=l.tail;return a}return function(u,a){return r(u(n)(e)(a))}}(),mt=function(t){return t.length};var Ec=function(t,e,n,r){return r<0||r>=n.length?e:t(n[r])};var Mc=function(t,e,n,r){for(var u=0,a=r.length;u<a;u++)if(n(r[u]))return t(u);return e};var xc=function(t,e,n,r,u){if(n<0||n>=u.length)return e;var a=u.slice();return a[n]=r,t(a)},rr=function(t){return t.slice().reverse()},Ne=function(t){if(t.length<=1e4)return Array.prototype.concat.apply([],t);for(var e=[],n=0,r=t.length;n<r;n++)for(var u=t[n],a=0,o=u.length;a<o;a++)e.push(u[a]);return e};var Lc=function(t,e,n){for(var r=n.length,u=e,a=new Array(r),o=0;o<r;o++)u=t(u)(n[o]),a[o]=u;return a};var Ic=function(t,e,n){return n.slice(t,e)},Nc=function(t,e,n){for(var r=e.length<n.length?e.length:n.length,u=new Array(r),a=0;a<r;a++)u[a]=t(e[a])(n[a]);return u},Sc=function(t,e){for(var n=e.length,r=0;r<n;r++)if(t(e[r]))return!0;return!1};function lv(t){return t}var Pc=lv;function iv(t){return t.slice()}var Ac=iv;var Wc=function(t,e){return e.push(t)};var ta=function(e){return function(n){return function(){return e(n)}}},wu=function(e){return function(n){return function(r){return function(){return e(n,r)}}}};var Uc=ta(Pc);var mv=ta(Ac),Hc=function(t){return function(e){return function(){var r=mv(e)();return t(r)(),Uc(r)()}}};var bu=wu(Wc);var qc=function(t){return function(e){return function(n){for(var r=e,u=n.length,a=u-1;a>=0;a--)r=t(n[a])(r);return r}}},Oc=function(t){return function(e){return function(n){for(var r=e,u=n.length,a=0;a<u;a++)r=t(r)(n[a]);return r}}};var ra=function(t){return t};var Iv=function(t){var e=Zn(t);return{append:function(n){return function(r){return e(n)(r)}}}};var Mu=function(t){var e=Iv(t);return{mempty:Br(t),Semigroup0:function(){return e}}};var xu=function(){return v};var Gc=xu();var Fn=function(){return Gc};var Lu=function(){return function(){return function(){return function(){return function(t){return Gc}}}}};var Wv=k(V),Uv=O(Hn);var Hv=Lu()()()(),bt=function(t){return t.foldr};var jr=function(t){var e=ee(t.Apply0()),n=y(t);return function(r){var u=bt(r);return function(a){return u(function(o){return e(a(o))})(n(void 0))}}},Qr=function(t){var e=jr(t);return function(n){return j(e(n))}};var ft=function(t){return t.foldl};var jc=function(t){var e=ft(t);return function(n){var r=function(u){return function(a){if(u instanceof f)return new c(a);if(u instanceof c)return new c(function(){var o=Uv(n(u.value0)(a))(I.value);return o?u.value0:a}());throw new Error("Failed pattern match at Data.Foldable (line 441, column 3 - line 441, column 27): "+[u.constructor.name,a.constructor.name])}};return e(r)(f.value)}},Yr=function(t){var e=H(t);return function(n){return jc(n)(e)}};var Nu=function(t){var e=ft(t);return function(n){return e(qt(n))(Qt(n))}};var Qc=function(t){var e=bt(t);return function(n){var r=A(n.Semigroup0()),u=it(n);return function(a){return e(function(o){return function(l){return r(a(o))(l)}})(u)}}},_t={foldr:qc,foldl:Oc,foldMap:function(t){return Qc(_t)(t)}};var _e=function(t){return t.foldMap};var bn=function(t){var e=_e(t);return function(n){return Hv(ra)(e(Mu(n)))}};var Su=function(t){var e=bn(t);return function(n){return e(n)(Wv)}};var Xr=function(t){return function(e,n,r,u,a){return t(e)(n)(r)(u)(a)}};var Cn=function(t){return function(e){return function(n){return t(e,n)}}},Kr=function(t){return function(e){return function(n){return function(r){return t(e,n,r)}}}},ua=function(t){return function(e){return function(n){return function(r){return function(u){return t(e,n,r,u)}}}}},Pu=function(t){return function(e){return function(n){return function(r){return function(u){return function(a){return t(e,n,r,u,a)}}}}}};var nf=function(){function t(u){return[u]}function e(u){return function(a){return[u,a]}}function n(u){return function(a){return function(o){return[u,a,o]}}}function r(u){return function(a){return u.concat(a)}}return function(u){return function(a){return function(o){return function(l){return function(i){function d(s,m){switch(m-s){case 0:return o([]);case 1:return a(t)(l(i[s]));case 2:return u(a(e)(l(i[s])))(l(i[s+1]));case 3:return u(u(a(n)(l(i[s])))(l(i[s+1])))(l(i[s+2]));default:var w=s+Math.floor((m-s)/4)*2;return u(a(r)(d(s,w)))(d(w,m))}}return d(0,i.length)}}}}}}();var D1=k(V),Bt=function(t){return t.traverse};var y1=function(t){var e=Bt(t);return function(n){return e(n)(D1)}},ge={traverse:function(t){var e=t.Apply0();return nf(ot(e))(p(e.Functor0()))(y(t))},sequence:function(t){return y1(ge)(t)},Functor0:function(){return Rt},Foldable1:function(){return _t}};var P1=A(se);var pf=Kr(Nc);var Ke=function(){return pf(C.create)}();var vf=function(){return Pu(xc)(c.create)(f.value)}();var yt=function(t){return function(e){return Hc(bu(e))(t)()}},zu=Kr(Ic),no=function(t){return function(e){return t<=0?{before:[],after:e}:{before:zu(0)(t)(e),after:zu(t)(mt(e))(e)}}};var Ju=function(t){return[t]};var pa=Kr(Lc);var Gu=Cn(Cc);var Pe=function(){return ua(Ec)(c.create)(f.value)}();var Vu=function(t){return function(e){return function(n){var r=function(u){return vf(t)(e(u))(n)};return Yt(f.value)(r)(Pe(n)(t))}}};var ju=function(t){return Cn(Tc)(bt(t))};var ro=function(){return ua(Mc)(c.create)(f.value)}();var Qu=function(t){var e=O(t);return function(n){return ro(function(r){return e(r)(n)})}},Yu=function(t){var e=Qu(t);return function(n){return function(r){return qn(e(n)(r))}}};var oo=function(t){return function(e){return P1([t])(e)}};var Xu=j(E(zo));var ao=Cn(Sc);var A1=oe(er);var mf=function(t){var e=E(yn(t)),n=nr(t),r=A1(t);return function(u){return function(a){return function(o){return e(n(Pe(o)(u)))(function(l){return e(r(a(l)))(function(i){return n(Vu(u)(Q(i))(o))})})}}}};var fr=function(t){return Ke(Gu(0)(mt(t)))(t)};var W1=Bt(ge),U1=Su(_t)(Xe),H1=jr(xt)(_t),$1=oe(er),q1=k(V);var _f=function(t){var e=t.Applicative0(),n=t.Bind1().Apply0().Functor0(),r=$e(n),u=W1(e),a=jo(n),o=Ge(a),l=p(n),i=mn(a),d=Me(a),s=E(yn(t)),m=$1(t),w=nr(t),et=Te(a),N=mf(t),Z=je(a),at=y(zr(t)),ie=Ye(a),Ut=Qe(a);return{position:Q(y(e)({x:0,y:0})),translate:function(ut){return function(dt){return r(u(o(ut))(dt.layers))(function(ce){return{dragIndex:dt.dragIndex,layers:ce}})}},containsPoint:function(ut){return function(dt){return l(U1)(u(i(ut))(dt.layers))}},draw:function(ut){return function(dt){return H1(function(){var ce=St(ut),ln=d(ut);return function(Un){return ce(ln(Un))}}())(rr(dt.layers))}},dragStart:function(ut){return function(dt){return l(Mt(dt))(Dn(s(m(u(i({x:ut.offsetX,y:ut.offsetY}))(dt.layers)))(function(ce){return s(w(ro(q1)(ce)))(function(ln){return s(w(Pe(dt.layers)(ln)))(function(Un){return s(m(et(Un)))(function(Co){return s(N(ln)(Z({offsetX:ut.offsetX-Co.x,offsetY:ut.offsetY-Co.y}))(dt.layers))(function(pd){return at({dragIndex:new c(ln),layers:pd})})})})})})))}},drag:function(ut){return function(dt){return l(Mt(dt))(Dn(s(w(dt.dragIndex))(function(ce){return s(w(Pe(dt.layers)(ce)))(function(ln){return s(m(et(ln)))(function(Un){return s(N(ce)(ie({translateX:ut.translateX-Un.x,translateY:ut.translateY-Un.y}))(dt.layers))(function(Co){return at({dragIndex:dt.dragIndex,layers:Co})})})})})))}},dragEnd:function(ut){return l(Mt({layers:ut.layers,dragIndex:f.value}))(Dn(s(w(ut.dragIndex))(function(dt){return s(N(dt)(Ut)(ut.layers))(function(ce){return at({dragIndex:f.value,layers:ce})})})))}}},gf=function(t){return{layers:t,dragIndex:f.value}};var Zu=function(t){var e=y(t),n=Ve(t);return{position:function(r){return e({x:r.rect.x,y:r.rect.y})},translate:function(r){return function(u){return e({fillStyle:u.fillStyle,dragOffset:u.dragOffset,rect:{width:u.rect.width,height:u.rect.height,x:u.rect.x+r.translateX,y:u.rect.y+r.translateY}})}},containsPoint:function(r){return function(u){return e(u.rect.x<=r.x&&r.x<=u.rect.x+u.rect.width&&u.rect.y<=r.y&&r.y<=u.rect.y+u.rect.height)}},draw:function(r){return function(u){return function(){return be(r)(u.fillStyle)(),Zi(r)(lu(r)(u.rect))()}}},dragStart:function(r){return function(u){return e({rect:u.rect,fillStyle:u.fillStyle,dragOffset:new c(r)})}},drag:function(r){return function(u){return n(Zu(t))(u.dragOffset)(r)(u)}},dragEnd:function(r){return e({rect:r.rect,fillStyle:r.fillStyle,dragOffset:f.value})}}},hf=function(t){return function(e){return{rect:t,fillStyle:e,dragOffset:f.value}}};var z1=sn(dn),tl=function(t){var e=t.Monad0(),n=e.Bind1(),r=E(n),u=Nt(t),a=z1(n),o=y(e.Applicative0());return function(l){return function(i){return r(u(Xt(i)))(function(d){return r(l(d))(function(s){return a(u(Wr(s)(i)))(function(){return o(s)})})})}}},Rf=function(t){var e=qe(t.Monad0().Bind1().Apply0().Functor0()),n=tl(t);return function(r){return function(u){return e(void 0)(n(r)(u))}}};var G1=pe(Bn),V1=function(t){return t};var va=function(t){var e=t.Monad0().Bind1(),n=pe(e),r=Nt(t),u=qe(e.Apply0().Functor0()),a=tl(t);return function(o){var l=Te(o),i=Ge(o),d=mn(o),s=je(o),m=Ye(o),w=Qe(o),et=Me(o);return{position:function(N){return n(l)(r(Xt(N)))},translate:function(N){return function(Z){return u(Z)(a(i(N))(Z))}},containsPoint:function(N){return function(Z){return n(d(N))(r(Xt(Z)))}},dragStart:function(N){return function(Z){return u(Z)(a(s(N))(Z))}},drag:function(N){return function(Z){return u(Z)(a(m(N))(Z))}},dragEnd:function(N){return u(N)(a(w)(N))},draw:function(N){return function(Z){return G1(et(N))(Xt(Z))}}}}};var Df=function(t){var e=Rf(t);return function(n){return function(r){return e(n)(r)}}};var ma=function(t){var e=p(t.Monad0().Bind1().Apply0().Functor0()),n=Nt(t);return function(r){return e(V1)(n(Yn(r)))}};var G=function(t){return t};var _a=isFinite;function Ff(t,e,n,r){var u=parseFloat(t);return e(u)?n(u):r}var ga=function(t){return Ff(t,_a,c.create,f.value)};function bf(t){return t.split(/\r\n|[\n\v\f\r\u0085\u2028\u2029]/)}function Cf(t){return t.split(/[\u000a-\u000d\u0085\u2028\u2029\u0009\u0020\u00a0\u1680\u2000-\u200a\u202f\u205f\u3000]+/)}var Y4=typeof Array.from=="function",om=typeof Symbol<"u"&&Symbol!=null&&typeof Symbol.iterator<"u"&&typeof String.prototype[Symbol.iterator]=="function",X4=typeof String.prototype.fromCodePoint=="function",am=typeof String.prototype.codePointAt=="function",Tf=function(t){return am?function(e){return e.codePointAt(0)}:t},Ef=function(t){return function(e){return function(n){return function(r){return function(u){return function(a){var o=a.length;if(u<0||u>=o)return n;if(om)for(var l=a[Symbol.iterator](),i=u;;--i){var d=l.next();if(d.done)return n;if(i===0)return e(r(d.value))}return t(u)(a)}}}}}};function tn(t){return t.charCodeAt(0)}function Mf(t){return String.fromCharCode(t)}var If=Oe(xr),Nf=ye(xr);var Ae=function(t){return t.toEnum};var en=function(t){return t.fromEnum};var Mn=function(t){return function(e){return function(n){return t(e(n)+1|0)}}},xn=function(t){return function(e){return function(n){return t(e(n)-1|0)}}};var el=function(t){return t>=tn(If)&&t<=tn(Nf)?new c(Mf(t)):f.value},dm={succ:Mn(el)(tn),pred:xn(el)(tn),Ord0:function(){return Ao}};var lo=function(){return{cardinality:tn(Nf)-tn(If)|0,toEnum:el,fromEnum:tn,Bounded0:function(){return xr},Enum1:function(){return dm}}}();var nl=function(t){return t.join("")};var nn=function(t){return t.length};var Ln=function(t){return function(e){return e.substring(t)}};var rn=function(t){return function(e){if(t>=0&&t<e.length)return e.charAt(t);throw new Error("Data.String.Unsafe.charAt: Invalid index.")}};var Dm=function(t,e,n){var r=0,u;return function(a){if(r===2)return u;if(r===1)throw new ReferenceError(t+" was needed before it finished initializing (module "+e+", line "+a+")",e,a);return r=1,u=n(),r=2,u}},io=en(lo);var ym=H(Ot);var Af=function(t){return function(e){return(((t-55296|0)*1024|0)+(e-56320|0)|0)+65536|0}};var Wf=function(t){return 56320<=t&&t<=57343},Uf=function(t){return 55296<=t&&t<=56319},Ra=function(t){var e=nn(t);if(e===0)return f.value;if(e===1)return new c({head:io(rn(0)(t)),tail:""});var n=io(rn(1)(t)),r=io(rn(0)(t)),u=Uf(r)&&Wf(n);return u?new c({head:Af(r)(n),tail:Ln(2)(t)}):new c({head:r,tail:Ln(1)(t)})};var Fm=function(t){var e=io(rn(0)(t)),n=Uf(e)&&nn(t)>1;if(n){var r=io(rn(1)(t)),u=Wf(r);return u?Af(e)(r):e}return e},Pf=Tf(Fm);var ol={eq:function(t){return function(e){return t===e}}},al={compare:function(t){return function(e){return ym(t)(e)}},Eq0:function(){return ol}};var wm=function(t){return function(e){var n=t,r=!1,u;function a(o,l){var i=Ra(l);if(i instanceof c){var d=o===0;if(d)return r=!0,new c(i.value0.head);n=o-1|0,e=i.value0.tail;return}return r=!0,f.value}for(;!r;)u=a(n,e);return u}},Hf=function(t){return function(e){return t<0?f.value:t===0&&e===""?f.value:t===0?new c(Pf(e)):Ef(wm)(c.create)(f.value)(Pf)(t)(e)}},bm={bottom:0,top:1114111,Ord0:function(){return al}},In=function(){return{cardinality:1114112,fromEnum:function(t){return t},toEnum:function(t){if(t>=0&&t<=1114111)return new c(t);if(Ft)return f.value;throw new Error("Failed pattern match at Data.String.CodePoints (line 63, column 1 - line 68, column 26): "+[t.constructor.name])},Bounded0:function(){return bm},Enum1:function(){return Cm(0)}}}(),Cm=Dm("enumCodePoint","Data.String.CodePoints",function(){return{succ:Mn(Ae(In))(en(In)),pred:xn(Ae(In))(en(In)),Ord0:function(){return al}}});var ya=function(t){return Cf(t)};var dr=function(t){return bf(t)};var Fa=t=>e=>()=>t.measureText(e);var wa=Bt(ge)(xt),Um=ft(_t),Hm=p(Rt),kf=p(S),$m=Yr(Mr)(_t),Of=b(Wo),qm=Qr(xt)(_t);var Jf=function(t){return function(e){return{position:e.position,maxWidth:e.maxWidth,fillStyle:e.fillStyle,fontName:e.fontName,fontSize:e.fontSize,fontStyle:e.fontStyle,fontWeight:e.fontWeight,align:e.align,baseline:e.baseline,lineHeight:e.lineHeight,letterSpacing:e.letterSpacing,dragOffset:e.dragOffset,context:e.context,text:t}}};var co=function(t){return function(e){return function(){var r=Fa(t)(e)();return r.width}}},Om=function(t){return function(e){return function(n){var r=ya(n);return function(){var a=wa(co(t))(r)(),o=co(t)(" ")(),l=function(s){return function(m){if(s.value1.value0.length===0)return new C(s.value0,new C([m.value0],m.value1));var w=s.value1.value1+o+m.value1>e;return w?new C(yt(s.value0)(s.value1.value0),new C([m.value0],m.value1)):new C(s.value0,new C(yt(s.value1.value0)(m.value0),s.value1.value1+o+m.value1))}},i=Um(l)(new C([],new C([],0)))(Ke(r)(a)),d=Hm(fn(" "))(i.value0);return i.value1.value0.length===0?d:yt(d)(fn(" ")(i.value1.value0))}}}},Bf=function(t){return function(e){return function(n){return kf(Ne)(wa(Om(t)(e))(dr(n)))}}},cl=function(t){return function(e){return function(){var r=Fa(t)(e)();return r.actualBoundingBoxAscent+r.actualBoundingBoxDescent}}};var zf=function(t){return function(e){return kf(function(){var n=Mt(0);return function(r){return n($m(r))}}())(wa(cl(t))(e))}},fl=function(t){var e=t.Monad0().Applicative0(),n=y(e),r=Nt(t),u=Ve(e);return{position:function(a){return n(a.position)},translate:function(a){return function(o){return n({text:o.text,maxWidth:o.maxWidth,fillStyle:o.fillStyle,fontName:o.fontName,fontSize:o.fontSize,fontStyle:o.fontStyle,fontWeight:o.fontWeight,align:o.align,baseline:o.baseline,lineHeight:o.lineHeight,letterSpacing:o.letterSpacing,dragOffset:o.dragOffset,context:o.context,position:Qn(a)(o.position)})}},containsPoint:function(a){return function(o){return r(St(o.context)(function(){be(o.context)(o.fillStyle)(),vn(o.context)(o.fontStyle+(" "+(o.fontWeight+(" "+(Of(o.fontSize)+("px "+o.fontName))))))(),Vn(o.context)(o.baseline)(),jn(o.context)(o.align)(),_n(o.context)(o.letterSpacing)();var i=function(){if(o.maxWidth instanceof c)return Bf(o.context)(o.maxWidth.value0)(o.text)();if(o.maxWidth instanceof f)return dr(o.text);throw new Error("Failed pattern match at Template.Layer.Text (line 70, column 14 - line 72, column 44): "+[o.maxWidth.constructor.name])}(),d=wa(co(o.context))(i)(),s=zf(o.context)(i)();return j(ao)(fr(d))(function(m){var w=function(){return o.baseline instanceof ve?o.position.y+s*o.lineHeight*G(m.value0):o.baseline instanceof Ce?o.position.y-s-G((mt(i)-m.value0|0)-1|0)*s*o.lineHeight:o.position.y+s*o.lineHeight*G(m.value0)}();if(o.align instanceof Jn||o.align instanceof re)return o.position.x<=a.x&&a.x<=o.position.x+m.value1&&w<=a.y&&a.y<=w+s;if(o.align instanceof Gn||o.align instanceof zn)return o.position.x-m.value1<=a.x&&a.x<=o.position.x&&w<=a.y&&a.y<=w+s;if(o.align instanceof kn)return o.position.x-m.value1/2<=a.x&&a.x<=o.position.x+m.value1/2&&w<=a.y&&a.y<=w+s;throw new Error("Failed pattern match at Template.Layer.Text (line 84, column 7 - line 99, column 41): "+[o.align.constructor.name])})}))}},dragStart:function(a){return function(o){return n({text:o.text,position:o.position,maxWidth:o.maxWidth,fillStyle:o.fillStyle,fontName:o.fontName,fontSize:o.fontSize,fontStyle:o.fontStyle,fontWeight:o.fontWeight,align:o.align,baseline:o.baseline,lineHeight:o.lineHeight,letterSpacing:o.letterSpacing,context:o.context,dragOffset:new c(a)})}},drag:function(a){return function(o){return u(fl(t))(o.dragOffset)(a)(o)}},dragEnd:function(a){return n({text:a.text,position:a.position,maxWidth:a.maxWidth,fillStyle:a.fillStyle,fontName:a.fontName,fontSize:a.fontSize,fontStyle:a.fontStyle,fontWeight:a.fontWeight,align:a.align,baseline:a.baseline,lineHeight:a.lineHeight,letterSpacing:a.letterSpacing,context:a.context,dragOffset:f.value})},draw:function(a){return function(o){return St(a)(function(){be(a)(o.fillStyle)(),vn(a)(o.fontStyle+(" "+(o.fontWeight+(" "+(Of(o.fontSize)+("px "+o.fontName))))))(),Vn(a)(o.baseline)(),jn(a)(o.align)(),_n(a)(o.letterSpacing)();var i=function(){if(o.maxWidth instanceof c)return Bf(a)(o.maxWidth.value0)(o.text)();if(o.maxWidth instanceof f)return dr(o.text);throw new Error("Failed pattern match at Template.Layer.Text (line 112, column 14 - line 114, column 44): "+[o.maxWidth.constructor.name])}(),d=zf(a)(i)();return qm(fr(i))(function(s){var m=function(){return o.baseline instanceof ve?o.position.y+G(s.value0)*d*o.lineHeight:o.baseline instanceof Ce?o.position.y-G((mt(i)-s.value0|0)-1|0)*d*o.lineHeight:o.position.y+G(s.value0)*d*o.lineHeight}();return Ar(a)(s.value1)(o.position.x)(m)})()})}}}};var Gf=function(t){return t};var Xm=Gf;var dl=function(t){return t};var Xf=function(t){if(mt(t)>0)return new c(Xm(t));if(Ft)return f.value;throw new Error("Failed pattern match at Data.Array.NonEmpty (line 161, column 1 - line 161, column 58): "+[t.constructor.name])};var vr=function(t){var e=null;return function(){return t===void 0||(e=t(),t=void 0),e}},po=function(t){return t()};var a_=function(t,e,n){var r=0,u;return function(a){if(r===2)return u;if(r===1)throw new ReferenceError(t+" was needed before it finished initializing (module "+e+", line "+a+")",e,a);return r=1,u=n(),r=2,u}};var u_=Fn();var We=function(){function t(e,n,r){this.value0=e,this.value1=n,this.value2=r}return t.create=function(e){return function(n){return function(r){return new t(e,n,r)}}},t}(),Ue=function(){function t(e,n){this.value0=e,this.value1=n}return t.create=function(e){return function(n){return new t(e,n)}},t}();var Kf=function(){function t(e){this.value0=e}return t.create=function(e){return new t(e)},t}(),Zf=function(){function t(e){this.value0=e}return t.create=function(e){return new t(e)},t}(),ml=function(){function t(e,n){this.value0=e,this.value1=n}return t.create=function(e){return function(n){return new t(e,n)}},t}();var ts={defer:function(t){var e=vr(t);return function(n,r,u,a,o){var l=po(e);return l(n,r,u,a,o)}}};var Nn={map:function(t){return function(e){return function(n,r,u,a,o){return r(function(l){return e(n,r,u,a,function(i,d){return r(function(s){return o(i,t(d))})})})}}}};var on={alt:function(t){return function(e){return function(n,r,u,a,o){return r(function(l){return t(new We(n.value0,n.value1,!1),r,u,function(i,d){return r(function(s){return i.value2?a(i,d):e(n,r,u,a,o)})},o)})}}},Functor0:function(){return Nn}},l_=function(t){return function(e,n,r,u,a){var o=t(e);return a(o.value1,o.value0)}};var i_=function(t){var e=t.Monad0(),n=p(e.Bind1().Apply0().Functor0()),r=y(e.Applicative0()),u=Le(t);return function(a){return function(o){var l=function(i){var d=!1,s;function m(w){var et=w(void 0);if(et instanceof Kf){i=et.value0;return}if(et instanceof Zf)return d=!0,n(Pt.create)(et.value0);if(et instanceof ml)return d=!0,r(new At(new C(et.value1,et.value0)));throw new Error("Failed pattern match at Parsing (line 160, column 13 - line 166, column 32): "+[et.constructor.name])}for(;!d;)s=m(i);return s};return u(l)(function(i){return o(a,Kf.create,Zf.create,function(d,s){return new ml(d,new st(s))},function(d,s){return new ml(d,new ct(s))})})}}},es=l_(function(t){return new C(t.value1,t)});var c_={index:0,line:1,column:1},f_=function(t){var e=p(t.Monad0().Bind1().Apply0().Functor0()),n=i_(t);return function(r){return function(u){var a=new We(r,c_,!1);return e(Rn)(n(a)(u))}}},s_=f_(dc),ns=function(t){var e=s_(t);return function(n){return u_(e(n))}};var Ca=function(t){return function(e){return t.value2&&!e.value2?new We(e.value0,e.value1,!0):e}},an={apply:function(t){return function(e){return function(n,r,u,a,o){return r(function(l){return t(n,r,u,a,function(i,d){return r(function(s){var m=Ca(n)(i);return e(m,r,u,a,function(w,et){return r(function(N){return o(Ca(m)(w),d(et))})})})})})}}},Functor0:function(){return Nn}};var mr={pure:function(t){return function(e,n,r,u,a){return a(e,t)}},Apply0:function(){return an}};var Sn={bind:function(t){return function(e){return function(n,r,u,a,o){return r(function(l){return t(n,r,u,a,function(i,d){return r(function(s){var m=e(d);return m(Ca(n)(i),r,u,a,o)})})})}}},Apply0:function(){return an}},d_=pe(Sn);var rs={Applicative0:function(){return mr},Bind1:function(){return Sn}};var gl={throwError:function(t){return function(e,n,r,u,a){return u(e,t)}},Monad0:function(){return rs}},p_=gn(gl),v_=function(t){return function(e){return p_(new Ue(t,e))}},_r=function(t){return d_(v_(t))(es)};var Ta={tailRecM:function(t){return function(e){return function(n,r,u,a,o){var l=a_("loop","Parsing",function(){return function(d,s,m){var w=t(s);return w(d,r,u,a,function(et,N){var Z=Ca(d)(et);if(N instanceof Pt){var at=m===0;return at?r(function(ie){return l(288)(Z,N.value0,30)}):l(290)(Z,N.value0,m-1|0)}if(N instanceof At)return o(Z,N.value0);throw new Error("Failed pattern match at Parsing (line 284, column 19 - line 292, column 46): "+[N.constructor.name])})}}),i=l(279);return i(n,e,30)}}},Monad0:function(){return rs}};var he=function(){function t(){}return t.value=new t,t}(),Re=function(){function t(e,n){this.value0=e,this.value1=n}return t.create=function(e){return function(n){return new t(e,n)}},t}();var gr={foldr:function(t){return function(e){var n=function(){var u=function(a){return function(o){var l=a,i=!1,d;function s(m,w){if(w instanceof he)return i=!0,m;if(w instanceof Re){l=new Re(w.value0,m),o=w.value1;return}throw new Error("Failed pattern match at Data.List.Types (line 107, column 7 - line 107, column 23): "+[m.constructor.name,w.constructor.name])}for(;!i;)d=s(l,o);return d}};return u(he.value)}(),r=ft(gr)(j(t))(e);return function(u){return r(n(u))}}},foldl:function(t){var e=function(n){return function(r){var u=n,a=!1,o;function l(i,d){if(d instanceof he)return a=!0,i;if(d instanceof Re){u=t(i)(d.value0),r=d.value1;return}throw new Error("Failed pattern match at Data.List.Types (line 111, column 12 - line 113, column 30): "+[d.constructor.name])}for(;!a;)o=l(u,r);return o}};return e},foldMap:function(t){var e=A(t.Semigroup0()),n=it(t);return function(r){return ft(gr)(function(u){var a=e(u);return function(o){return a(r(o))}})(n)}}};var fs=pt(on),k_=hn(ts);var J_=ee(an);var G_=Zl(an);var ss=function(t){return function(e){return fs(t)(k_(function(n){return _r("Expected "+e(void 0))}))}},hl=function(t){return function(e){return fs(t)(_r("Expected "+e))}};var hr=function(t){return function(e,n,r,u,a){return t(e,n,r,function(o,l){return u(new We(o.value0,o.value1,e.value2),l)},a)}};var _o=function(t){return function(e){return function(n){return G_(J_(t)(n))(e)}}};var Dl=E(Sn),V_=Le(Ta),j_=pt(on),Ea=y(mr),Q_=ju(gr);var Y_=function(t){return Dl(j(V_)(he.value)(function(e){return j_(Dl(t)(function(n){return Ea(new Pt(new Re(n,e)))}))(Ea(new At(e)))}))(function(e){return Ea(rr(Q_(e)))})},yl=function(t){return Dl(Y_(t))(function(e){var n=Xf(e);if(n instanceof f)return _r("Expected at least 1");if(n instanceof c)return Ea(n.value0);throw new Error("Failed pattern match at Parsing.Combinators.Array (line 55, column 3 - line 57, column 25): "+[n.constructor.name])})};var Fl=en(In),K_=Ir(ko),Z_=Be(),tg=Ae(lo);var eg=b(Uo);var wl=function(t){return function(e){return function(n){var r=Fl(e);if(r===10)return{index:t.index+1|0,line:t.line+1|0,column:1};if(r===13){var u=Hf(0)(n);return u instanceof c&&Fl(u.value0)===10?{index:t.index+1|0,line:t.line,column:t.column}:{index:t.index+1|0,line:t.line+1|0,column:1}}return r===9?{index:t.index+1|0,line:t.line,column:(t.column+8|0)-K_(t.column-1|0)(8)|0}:{index:t.index+1|0,line:t.line,column:t.column+1|0}}}},ng=function(t){return function(e){return function(n){var r=t,u=e,a=!1,o;function l(i,d,s){var m=Ra(d);if(m instanceof f)return a=!0,i;if(m instanceof c){var w=function(){if(Oo(m.value0.tail))return wl(i)(m.value0.head)(s);if(Ft)return wl(i)(m.value0.head)(m.value0.tail);throw new Error("Failed pattern match at Parsing.String (line 165, column 7 - line 167, column 52): ")}();r=w,u=m.value0.tail,n=s;return}throw new Error("Failed pattern match at Parsing.String (line 161, column 36 - line 168, column 38): "+[m.constructor.name])}for(;!a;)o=l(r,u,n);return o}}};var bl=function(t){return Xr(function(e){return function(n){return function(r){return function(u){return function(a){var o=Ra(e.value0);if(o instanceof f)return u(e,new Ue("Unexpected EOF",e.value1));if(o instanceof c){var l=Fl(o.value0.head),i=l<0||l>65535;if(i)return u(e,new Ue("Expected Char",e.value1));var d=Z_(tg(l)),s=t(d);return s?a(new We(o.value0.tail,wl(e.value1)(o.value0.head)(o.value0.tail),!0),d):u(e,new Ue("Predicate unsatisfied",e.value1))}throw new Error("Failed pattern match at Parsing.String (line 114, column 7 - line 129, column 75): "+[o.constructor.name])}}}}})};var Cl=Xr(function(t){return function(e){return function(n){return function(r){return function(u){var a=Oo(t.value0);return a?u(new We(t.value0,t.value1,!0),void 0):r(t,new Ue("Expected EOF",t.value1))}}}}}),ps=function(t){return Xr(function(e){return function(n){return function(r){return function(u){return function(a){var o=t(e.value0);if(o instanceof st)return u(e,new Ue(o.value0,e.value1));if(o instanceof ct)return a(new We(o.value0.remainder,ng(e.value1)(o.value0.consumed)(o.value0.remainder),!Oo(o.value0.consumed)),o.value0.value);throw new Error("Failed pattern match at Parsing.String (line 286, column 7 - line 290, column 121): "+[o.constructor.name])}}}}})};var Tl=ps(function(t){return new ct({value:t,consumed:t,remainder:""})});var kt=function(t){return hl(bl(function(e){return e===t}))(eg(t))};var cg=b(Ka(Uo));var fg=Yu(Lo);var _s=function(t){return ss(bl(j(fg)(t)))(function(e){return"none of "+cg(t)})};var ws=b(Wo),Ma=A(se),xa=$e(Rt),bs=ft(_t),xl=p(S),dg=Yr(Mr)(_t),Pn=Bt(ge)(xt),Cs=Nu(_t)(cn),un=p(Rt);var Kt=p(Nn),De=pt(on),Na=ee(an),El=Qr(xt)(_t),Ts=qe(Nn);var Sa=function(){function t(){}return t.value=new t,t}(),Es=function(){function t(){}return t.value=new t,t}(),Pa=function(){function t(){}return t.value=new t,t}(),Ms=function(){function t(){}return t.value=new t,t}();var pg=function(t){return t.text},vg=function(t){return function(e){return function(n){return{line:yt(e.line)(n),width:e.width+t+n.width}}}},Ll=function(t){return function(e){return function(n){var r=function(){if(n.weight instanceof Sa)return e.weight.normal;if(n.weight instanceof Es)return e.weight.bold;throw new Error("Failed pattern match at Template.Layer.Text.Markup (line 285, column 14 - line 287, column 37): "+[n.weight.constructor.name])}(),u=function(){if(n.style instanceof Pa)return e.style.normal;if(n.style instanceof Ms)return e.style.italic;throw new Error("Failed pattern match at Template.Layer.Text.Markup (line 282, column 13 - line 284, column 39): "+[n.style.constructor.name])}();return vn(t)(u+(" "+(r+(" "+(ws(e.size)+("px "+e.name))))))}}},xs=function(t){return function(e){return{text:e.text,position:e.position,maxWidth:e.maxWidth,fillStyle:e.fillStyle,align:e.align,baseline:e.baseline,lineHeight:e.lineHeight,letterSpacing:e.letterSpacing,dragOffset:e.dragOffset,context:e.context,font:{name:e.font.name,style:e.font.style,weight:e.font.weight,size:t}}}};var Ls=function(t){return function(e){var n=function(u){return function(a){var o=no(1)(t(a.text));if(o.before.length===1&&o.before[0]===""&&o.after.length===0)return{splits:u.splits,split:u.split};if(o.before.length===1&&o.after.length===0)return{splits:u.splits,split:yt(u.split)({style:a.style,weight:a.weight,text:o.before[0]})};if(o.before.length===1&&o.before[0]===""){var l=no(mt(o.after)-1|0)(o.after);return l.after.length===1&&l.after[0]===""?{splits:Ma(yt(u.splits)(u.split))(xa(l.before)(function(i){return[{style:a.style,weight:a.weight,text:i}]})),split:[]}:l.after.length===1?{splits:Ma(yt(u.splits)(u.split))(xa(l.before)(function(i){return[{style:a.style,weight:a.weight,text:i}]})),split:[{style:a.style,weight:a.weight,text:l.after[0]}]}:{splits:u.splits,split:u.split}}if(o.before.length===1){var l=no(mt(o.after)-1|0)(o.after);return l.after.length===1&&l.after[0]===""?{splits:Ma(yt(u.splits)(yt(u.split)({style:a.style,weight:a.weight,text:o.before[0]})))(xa(l.before)(function(d){return[{style:a.style,weight:a.weight,text:d}]})),split:[]}:l.after.length===1?{splits:Ma(yt(u.splits)(yt(u.split)({style:a.style,weight:a.weight,text:o.before[0]})))(xa(l.before)(function(d){return[{style:a.style,weight:a.weight,text:d}]})),split:[{style:a.style,weight:a.weight,text:l.after[0]}]}:{splits:u.splits,split:u.split}}return{splits:u.splits,split:u.split}}},r=bs(n)({splits:[],split:[]})(e);return yt(r.splits)(r.split)}},Is=Ls(ya),Il=function(t){return{text:t,style:Pa.value,weight:Sa.value}};var mg=function(t){return function(e){return{fragment:t,width:e}}},Ns=function(t){return function(e){return function(n){return St(t)(function(){return Ll(t)(e)(n)(),co(t)(n.text)()})}}},Nl=function(t){return function(e){return Ns(t)(e)({style:Pa.value,weight:Sa.value,text:" "})}},_g=function(t){return function(e){return function(n){return St(t)(function(){return Ll(t)(e)(n)(),cl(t)(n.text)()})}}},gs=function(t){return function(e){return function(n){return xl(function(){var r=Mt(0);return function(u){return r(dg(u))}}())(Pn(_g(t)(e))(n))}}},gg=function(t){return function(e){return function(n){return xl(mg(n))(Ns(t)(e)(n))}}},Ss=function(t){return function(e){return function(n){return function(){var u=Pn(gg(t)(e))(n)(),a=Cs(un(function(o){return o.width})(u));return{word:u,width:a}}}}},hs=function(t){return function(e){return function(n){var r=Is(n);return function(){var a=Pn(Ss(t)(e))(r)(),o=Nl(t)(e)(),l=o*G(mt(a)-1|0)+Cs(un(function(i){return i.width})(a));return{line:a,width:l}}}}},hg=function(t){return function(e){return function(n){return function(r){var u=Is(r);return function(){var o=Pn(Ss(t)(e))(u)(),l=Nl(t)(e)(),i=function(s){return function(m){if(s.value1.line.length===0)return new C(s.value0,{line:[m],width:m.width});var w=s.value1.width+l+m.width>n;return w?new C(yt(s.value0)(s.value1),{line:[m],width:m.width}):new C(s.value0,vg(l)(s.value1)(m))}},d=bs(i)(new C([],{line:[],width:0}))(o);return d.value1.line.length===0?d.value0:yt(d.value0)(d.value1)}}}}};var go=function(){var t=Kt(dl);return function(e){return t(yl(e))}}(),ho=Kt(function(t){return Il(nl(t))})(go(_s(["_","*"]))),Ml=Ls(dr),Rs=function(t){return function(e){return function(n){return function(r){return xl(Ne)(Pn(hg(t)(e)(n))(Ml(r)))}}}},La=function(t){return{text:t.text,weight:t.weight,style:Ms.value}},Ds=De(hr(_o(kt("_"))(kt("_"))(Kt(La)(ho))))(De(ho)(Na(kt("_"))(Kt(function(t){return La(Il(t))})(Tl)))),Rg=function(t){return t.fragment},Dg=function(t){return un(Rg)(t.word)},ys=function(t){return un(Dg)(t.line)},Sl=function(t){var e=t.Monad0().Applicative0(),n=y(e),r=Nt(t),u=Ve(e);return{position:function(a){return n(a.position)},translate:function(a){return function(o){return n({text:o.text,maxWidth:o.maxWidth,fillStyle:o.fillStyle,font:o.font,align:o.align,baseline:o.baseline,lineHeight:o.lineHeight,letterSpacing:o.letterSpacing,dragOffset:o.dragOffset,context:o.context,position:Qn(a)(o.position)})}},containsPoint:function(a){return function(o){return r(St(o.context)(function(){be(o.context)(o.fillStyle)(),vn(o.context)(o.font.style.normal+(" "+(o.font.weight.normal+(" "+(ws(o.font.size)+("px "+o.font.name))))))(),Vn(o.context)(o.baseline)(),jn(o.context)(o.align)(),_n(o.context)(o.letterSpacing)();var i=function(){if(o.maxWidth instanceof c)return Rs(o.context)(o.font)(o.maxWidth.value0)(o.text)();if(o.maxWidth instanceof f)return Pn(hs(o.context)(o.font))(Ml(o.text))();throw new Error("Failed pattern match at Template.Layer.Text.Markup (line 199, column 14 - line 201, column 89): "+[o.maxWidth.constructor.name])}(),d=gs(o.context)(o.font)(Ne(Xu(ys)(i)))();return j(ao)(fr(i))(function(s){var m=function(){return o.baseline instanceof ve?o.position.y+d*o.lineHeight*G(s.value0):o.baseline instanceof Ce?o.position.y-d-G((mt(i)-s.value0|0)-1|0)*d*o.lineHeight:o.position.y+d*o.lineHeight*G(s.value0)}();if(o.align instanceof Jn||o.align instanceof re)return o.position.x<=a.x&&a.x<=o.position.x+s.value1.width&&m<=a.y&&a.y<=m+d;if(o.align instanceof Gn||o.align instanceof zn)return o.position.x-s.value1.width<=a.x&&a.x<=o.position.x&&m<=a.y&&a.y<=m+d;if(o.align instanceof kn)return o.position.x-s.value1.width/2<=a.x&&a.x<=o.position.x+s.value1.width/2&&m<=a.y&&a.y<=m+d;throw new Error("Failed pattern match at Template.Layer.Text.Markup (line 212, column 7 - line 232, column 41): "+[o.align.constructor.name])})}))}},dragStart:function(a){return function(o){return n({text:o.text,position:o.position,maxWidth:o.maxWidth,fillStyle:o.fillStyle,font:o.font,align:o.align,baseline:o.baseline,lineHeight:o.lineHeight,letterSpacing:o.letterSpacing,context:o.context,dragOffset:new c(a)})}},drag:function(a){return function(o){return u(Sl(t))(o.dragOffset)(a)(o)}},dragEnd:function(a){return n({text:a.text,position:a.position,maxWidth:a.maxWidth,fillStyle:a.fillStyle,font:a.font,align:a.align,baseline:a.baseline,lineHeight:a.lineHeight,letterSpacing:a.letterSpacing,context:a.context,dragOffset:f.value})},draw:function(a){return function(o){return St(a)(function(){be(a)(o.fillStyle)(),Vn(a)(o.baseline)(),jn(a)(re.value)(),_n(a)(o.letterSpacing)();var i=function(){if(o.maxWidth instanceof c)return Rs(a)(o.font)(o.maxWidth.value0)(o.text)();if(o.maxWidth instanceof f)return Pn(hs(a)(o.font))(Ml(o.text))();throw new Error("Failed pattern match at Template.Layer.Text.Markup (line 245, column 14 - line 247, column 83): "+[o.maxWidth.constructor.name])}(),d=gs(a)(o.font)(Ne(Xu(ys)(i)))();return El(fr(i))(function(s){var m=function(){return o.baseline instanceof ve?o.position.y+G(s.value0)*d*o.lineHeight:o.baseline instanceof Ce?o.position.y-G((mt(i)-s.value0|0)-1|0)*d*o.lineHeight:o.position.y+G(s.value0)*d*o.lineHeight}(),w=function(){if(o.align instanceof Jn||o.align instanceof re)return o.position.x;if(o.align instanceof Gn||o.align instanceof zn)return o.position.x-s.value1.width;if(o.align instanceof kn)return o.position.x-s.value1.width/2;throw new Error("Failed pattern match at Template.Layer.Text.Markup (line 263, column 16 - line 268, column 57): "+[o.align.constructor.name])}();return function(){var N=Nl(a)(o.font)(),Z=oo(0)(pa(function(at){return function(ie){return at+N+ie.width}})(0)(s.value1.line));return El(Ke(s.value1.line)(Z))(function(at){var ie=oo(0)(pa(function(Ut){return function(ut){return Ut+ut.width}})(0)(at.value0.word));return El(Ke(at.value0.word)(ie))(function(Ut){return function(){return Ll(a)(o.font)(Ut.value0.fragment)(),Ar(a)(pg(Ut.value0.fragment))(w+at.value1+Ut.value1)(m)()}})})()}})()})}}}},Ia=function(t){return{text:t.text,style:t.style,weight:Es.value}},yg=De(hr(_o(kt("*"))(kt("*"))(Kt(un(Ia))(go(Ds)))))(Na(kt("*"))(De(Ts([])(Cl))(Kt(un(Ia))(go(Ds))))),Fs=De(hr(_o(kt("*"))(kt("*"))(Kt(Ia)(ho))))(De(ho)(Na(kt("*"))(Kt(function(t){return Ia(Il(t))})(Tl)))),Fg=De(hr(_o(kt("_"))(kt("_"))(Kt(un(La))(go(Fs)))))(Na(kt("_"))(De(Ts([])(Cl))(Kt(un(La))(go(Fs))))),wg=Kt(function(t){return Ne(dl(t))})(yl(De(Fg)(De(yg)(Kt(Ju)(ho)))));var Pl=function(t){return function(e){var n=ns(t)(wg);if(n instanceof ct)return{position:e.position,maxWidth:e.maxWidth,fillStyle:e.fillStyle,font:e.font,align:e.align,baseline:e.baseline,lineHeight:e.lineHeight,letterSpacing:e.letterSpacing,dragOffset:e.dragOffset,context:e.context,text:n.value0};if(n instanceof st)return{position:e.position,maxWidth:e.maxWidth,fillStyle:e.fillStyle,font:e.font,align:e.align,baseline:e.baseline,lineHeight:e.lineHeight,letterSpacing:e.letterSpacing,dragOffset:e.dragOffset,context:e.context,text:[{text:t,style:Pa.value,weight:Sa.value}]};throw new Error("Failed pattern match at Template.Layer.Text.Markup (line 176, column 37 - line 178, column 106): "+[n.constructor.name])}};var As=function(t){return t};var bg={mapLayerWrapper:function(t){return function(e){var n=p(e.Bind1().Apply0().Functor0());return function(r){return function(u){return n(As)(r(u))}}}}},Cg=ec(bg);var Ws=function(t){var e=y(t.Applicative0());return function(n){var r=Te(n),u=mn(n),a=Me(n);return{position:function(o){return r(o)},translate:function(){var o=Cg(n)(t),l=Ge(n);return function(i){return o(l(i))}}(),containsPoint:function(o){return function(l){return u(o)(l)}},dragStart:Q(e),drag:Q(e),dragEnd:e,draw:function(o){return function(l){return a(o)(l)}}}}};var Us=As;function Aa(t,e){var n={};for(var r in e)({}).hasOwnProperty.call(e,r)&&(n[r]=e[r]);for(var u in t)({}).hasOwnProperty.call(t,u)&&(n[u]=t[u]);return n}var Hs=function(){return function(){return function(t){return function(e){return Aa(t,e)}}}};var An=function(t){return function(e){return function(){return e[t]}}},Lg=An("URL"),Ig=An("documentURI"),Ng=An("origin"),Sg=An("compatMode"),Pg=An("characterSet"),Ag=An("contentType");var Wg=An("documentElement");function Al(t){return function(e){return function(){return e.createElement(t)}}}function $s(t,e,n){return t==null?e:n(t)}var tt=function(t){return $s(t,f.value,c.create)};function qs(t,e,n,r){if(typeof window<"u"){var u=window[n];if(u!=null&&r instanceof u)return e(r)}for(var a=r;a!=null;){var o=Object.getPrototypeOf(a),l=o.constructor.name;if(l===n)return e(r);if(l==="Object")return t;a=o}return t}var h=function(t){return function(e){return qs(f.value,c.create,t,e)}};var Wa=function(t){return function(e){return e[t]}},zg=Wa("namespaceURI"),kg=Wa("prefix"),Jg=Wa("localName"),Gg=Wa("tagName");function Ua(t){return function(e){return function(n){return function(){n.setAttribute(t,e)}}}}function Wl(t){return function(){var e=t.getBoundingClientRect();return{top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.width,height:e.height,x:e.x,y:e.y}}}var Ha=function(t){return function(e){return function(){return e[t]}}},jg=Ha("children"),Qg=Ha("firstElementChild"),Yg=Ha("lastElementChild"),Xg=Ha("childElementCount");var ue=v;var le=function(t){return function(e){return function(){return e[t]}}};var nh=le("baseURI"),rh=le("ownerDocument"),oh=le("parentNode"),ah=le("parentElement");var uh=le("childNodes"),lh=le("firstChild"),ih=le("lastChild"),ch=le("previousSibling"),fh=le("nextSibling"),sh=le("nodeValue");var dh=le("textContent");function Bs(t){return function(e){return function(){return e.getElementById(t)}}}var Rh=p(S),Rr=function(t){var e=Rh(tt),n=Bs(t);return function(r){return e(n(r))}};function Jt(t){return function(){return function(e){return t(e)()}}}function Gt(t){return function(e){return function(n){return function(r){return function(){return r.addEventListener(t,e,n)}}}}}var Ul=function(){return window};var Dr=v;var zs=v,ks=v;function Js(t,e,n){var r=Object.prototype.toString.call(n);return r.indexOf("[object HTML")===0&&r.indexOf("Element]")===r.length-8?e(n):t}function Hl(t){return function(){return t.click()}}function $l(t){return function(){return t.offsetWidth}}function ql(t){return function(){return t.offsetHeight}}var Gs=v;var Ol=function(t){return Js(f.value,c.create,t)};function yr(t){return function(){return t.value}}var Bl=h("HTMLInputElement");function $a(t){return function(){return t.value}}var Ys=h("HTMLTextAreaElement");function zl(t){return function(){return t.document}}function Ro(t){return t.clientX}function Do(t){return t.clientY}function yo(t){return t.touches}var qa=h("TouchEvent");function Xs(t,e){return e.item(t)}var Oa=function(t){return function(e){return tt(Xs(t,e))}};function Fo(t){return t.clientX}function wo(t){return t.clientY}var Ba=h("MouseEvent");var He=y(xt),O0=sn(dn),bo=va(ne)(jo(S)),B0=Me(bo),br=Te(bo),Ks=je(bo),ka=Ye(bo),Zs=Qe(bo),Jl=yn(It),Fr=E(Jl),kl=pe(Jl),za=nr(It),Wn=oe(er)(It),td=O0(Jl),z0=pe(Bn),ed=y(zr(It)),k0=ma(ne),J0=Hs()(),wr=Df(ne);var Cr=function(t){return function(e){return function(n){return function(){var u=Wl(Gs(e))(),a=$l(e)(),o=ql(e)(),l=Sr(t)(),i=Pr(t)();return{x:(n.x-u.left)*l/a,y:(n.y-u.top)*i/o}}}}},Zt=function(t){return function(){var n=Nr(t.canvas)(),r=Ki(t.canvas)();return iu(n)({x:0,y:0,width:r.width,height:r.height})(),St(n)(B0(n)(t.layer))()}},G0=function(t){return Jt(function(e){var n=qa(e);if(n instanceof f)return He(void 0);if(n instanceof c){var r=Oa(0)(yo(n.value0));if(r instanceof f)return Zt(t);if(r instanceof c)return function(){var a=br(t.layer)(),o=Cr(t.canvas)(t.canvasHtmlElement)({x:G(Ro(r.value0)),y:G(Do(r.value0))})(),l={offsetX:o.x-a.x,offsetY:o.y-a.y};return Ks(l)(t.layer)(),Zt(t)()};throw new Error("Failed pattern match at Template.Main (line 194, column 22 - line 204, column 22): "+[r.constructor.name])}throw new Error("Failed pattern match at Template.Main (line 192, column 63 - line 204, column 22): "+[n.constructor.name])})},V0=function(t){return Jt(function(e){var n=qa(e);if(n instanceof f)return He(void 0);if(n instanceof c){var r=Oa(0)(yo(n.value0));if(r instanceof f)return Zt(t);if(r instanceof c)return function(){var a=br(t.layer)(),o=Cr(t.canvas)(t.canvasHtmlElement)({x:G(Ro(r.value0)),y:G(Do(r.value0))})(),l={translateX:o.x-a.x,translateY:o.y-a.y};return ka(l)(t.layer)(),Zt(t)()};throw new Error("Failed pattern match at Template.Main (line 222, column 22 - line 232, column 22): "+[r.constructor.name])}throw new Error("Failed pattern match at Template.Main (line 220, column 62 - line 232, column 22): "+[n.constructor.name])})},j0=function(t){return Jt(function(e){var n=qa(e);if(n instanceof f)return He(void 0);if(n instanceof c){var r=Oa(0)(yo(n.value0));if(r instanceof f)return Zt(t);if(r instanceof c)return function(){var a=br(t.layer)(),o=Cr(t.canvas)(t.canvasHtmlElement)({x:G(Ro(r.value0)),y:G(Do(r.value0))})(),l={translateX:o.x-a.x,translateY:o.y-a.y};return ka(l)(t.layer)(),Zs(t.layer)(),Zt(t)()};throw new Error("Failed pattern match at Template.Main (line 251, column 22 - line 262, column 22): "+[r.constructor.name])}throw new Error("Failed pattern match at Template.Main (line 249, column 61 - line 262, column 22): "+[n.constructor.name])})},nd=function(t){return function(e){return Dn(Fr(kl(za)(Wn(Xi(t))))(function(n){return td(Wn(Yi(n)(e)))(function(){return Fr(Wn(z0(zl)(Ul)))(function(r){return Fr(kl(za)(Wn(Rr("canvas")(Dr(r)))))(function(u){return Fr(za(Ol(u)))(function(a){return ed({canvas:n,canvasElement:u,canvasHtmlElement:a,document:r})})})})})}))}},rd=function(t){var e=Ee(t);return function(n){return function(r){return function(){var a=k0(e(r))();return J0(n)({layer:a})}}}},Q0=function(t){return Jt(function(e){var n=Ba(e);if(n instanceof f)return He(void 0);if(n instanceof c)return function(){var u=br(t.layer)(),a=Cr(t.canvas)(t.canvasHtmlElement)({x:G(Fo(n.value0)),y:G(wo(n.value0))})(),o={translateX:a.x-u.x,translateY:a.y-u.y};return ka(o)(t.layer)(),Zs(t.layer)(),Zt(t)()};throw new Error("Failed pattern match at Template.Main (line 235, column 60 - line 246, column 20): "+[n.constructor.name])})},Y0=function(t){return Jt(function(e){var n=Ba(e);if(n instanceof f)return He(void 0);if(n instanceof c)return function(){var u=br(t.layer)(),a=Cr(t.canvas)(t.canvasHtmlElement)({x:G(Fo(n.value0)),y:G(wo(n.value0))})(),o={translateX:a.x-u.x,translateY:a.y-u.y};return ka(o)(t.layer)(),Zt(t)()};throw new Error("Failed pattern match at Template.Main (line 207, column 62 - line 217, column 20): "+[n.constructor.name])})},X0=function(t){return Jt(function(e){var n=Ba(e);if(n instanceof f)return He(void 0);if(n instanceof c)return function(){var u=br(t.layer)(),a=Cr(t.canvas)(t.canvasHtmlElement)({x:G(Fo(n.value0)),y:G(wo(n.value0))})(),o={offsetX:a.x-u.x,offsetY:a.y-u.y};return Ks(o)(t.layer)(),Zt(t)()};throw new Error("Failed pattern match at Template.Main (line 179, column 62 - line 189, column 20): "+[n.constructor.name])})},K0=function(t){return Jt(function(e){return Zt(t)})};var od=function(t){return function(e){return function(n){return Dn(function(){var r=Dr(n.document);return Fr(kl(za)(Wn(Rr(t)(r))))(function(u){return Fr(Wn(Jt(function(a){return function(){var l=ou(n.canvas)(),i=Al("a")(ks(n.document))();Ua("href")(l)(i)(),Ua("download")(e)(i)();var d=Ol(i);if(d instanceof c)return Hl(d.value0)();throw new Error("Failed pattern match at Template.Main (line 144, column 9 - line 144, column 53): "+[d.constructor.name])}})))(function(a){return td(Wn(Gt("click")(a)(!1)(ue(u))))(function(){return ed(u)})})})}())}}},Z0=function(t){return function(e){return function(n){return function(r){return function(){var a=Rr(e)(Dr(t.document))();if(a instanceof c){var o=Ys(a.value0);if(o instanceof c){var l=$a(o.value0)();wr(r(l))(n)();var i=Jt(function(d){return function(){var m=$a(o.value0)();return wr(r(m))(n)()}})();return Gt("input")(i)(!1)(ue(a.value0))()}throw new Error("Failed pattern match at Template.Main (line 298, column 7 - line 298, column 55): "+[o.constructor.name])}throw new Error("Failed pattern match at Template.Main (line 297, column 3 - line 297, column 79): "+[a.constructor.name])}}}}},Gl=function(t){return function(e){return function(n){return function(r){return Z0(t)(e)(n)(function(u){return function(a){return function(o){return He(a(o))}}(r(u))})}}}},t2=function(t){return function(e){return function(n){return function(r){return function(){var a=Rr(e)(Dr(t.document))();if(a instanceof c){var o=Bl(a.value0);if(o instanceof c){var l=yr(o.value0)();(function(){var d=ga(l);if(d instanceof c)return wr(r(d.value0))(n)();if(d instanceof f)return void 0;throw new Error("Failed pattern match at Template.Main (line 317, column 3 - line 319, column 25): "+[d.constructor.name])})();var i=Jt(function(d){return function(){var m=yr(o.value0)(),w=ga(m);if(w instanceof c)return wr(r(w.value0))(n)();if(w instanceof f)return void 0;throw new Error("Failed pattern match at Template.Main (line 323, column 5 - line 325, column 27): "+[w.constructor.name])}})();return Gt("input")(i)(!1)(ue(a.value0))()}throw new Error("Failed pattern match at Template.Main (line 314, column 7 - line 314, column 52): "+[o.constructor.name])}throw new Error("Failed pattern match at Template.Main (line 313, column 3 - line 313, column 79): "+[a.constructor.name])}}}}},e2=function(t){return function(e){return function(n){return function(r){return t2(t)(e)(n)(function(u){return function(a){return function(o){return He(a(o))}}(r(u))})}}}};var ad=function(t){return function(e){return function(n){return e2(t)(e)(n)(xs)}}},n2=function(t){return function(e){return function(n){return function(r){return function(){var a=Rr(e)(Dr(t.document))();if(a instanceof c){var o=Bl(a.value0);if(o instanceof c){var l=yr(o.value0)();wr(r(l))(n)();var i=Jt(function(d){return function(){var m=yr(o.value0)();return wr(r(m))(n)()}})();return Gt("input")(i)(!1)(ue(a.value0))()}throw new Error("Failed pattern match at Template.Main (line 282, column 7 - line 282, column 52): "+[o.constructor.name])}throw new Error("Failed pattern match at Template.Main (line 281, column 3 - line 281, column 79): "+[a.constructor.name])}}}}},ud=function(t){return function(e){return function(n){return function(r){return n2(t)(e)(n)(function(u){return function(a){return function(o){return He(a(o))}}(r(u))})}}}};var ld=function(t){return function(){var n=X0(t)(),r=Y0(t)(),u=Q0(t)(),a=G0(t)(),o=V0(t)(),l=j0(t)(),i=K0(t)();return Gt("mousedown")(n)(!1)(ue(t.canvasElement))(),Gt("mousemove")(r)(!1)(ue(t.canvasElement))(),Gt("mouseup")(u)(!1)(ue(t.canvasElement))(),Gt("touchstart")(a)(!1)(ue(t.canvasElement))(),Gt("touchmove")(o)(!1)(ue(t.canvasElement))(),Gt("touchend")(l)(!1)(ue(t.canvasElement))(),Gt("input")(i)(!1)(zs(t.document))()}};var id=ic(ne),Vl=ma(ne),cd=Ee(vu(ne)),sd=va(ne),o2=Ee(sd(fl(ne))),fd=Ee(sd(Sl(ne))),a2=Ee(Zu(xt)),u2=rd(Ws(It)(_f(It))),gt=2,l2={scaleX:gt,scaleY:gt},i2=function(){return{width:1080,height:1080*5/4}}(),jl=$t(So()(Er({reflectSymbol:function(){return"height"}})()(Er({reflectSymbol:function(){return"width"}})()(Io)(cn))(cn)))({width:gt,height:gt})(i2),Ja=function(){return jl.height}(),Ga=function(){return jl.width}(),dd=ht(S)(function(){var e=nd("canvas")(jl)();if(e instanceof c){var n=Nr(e.value0.canvas)(),r=id("./img/guillotine.svg")({x:60*gt,y:60*gt})(l2)(Go.value)(),u=id("./img/jacobinlogo80x200.png")({x:Ga-100*gt,y:Ja-160*gt})({scaleX:1,scaleY:1})(Go.value)(),a=Vl({text:[],lineHeight:.95,position:{x:60*gt,y:150*gt},fillStyle:"#f00",font:{name:"Oswald",style:{normal:"normal",italic:"italic"},weight:{normal:"500",bold:"700"},size:90*gt},align:re.value,baseline:ve.value,letterSpacing:"-3px",dragOffset:f.value,maxWidth:new c(Ga-2*60*gt),context:n})();Gl(e.value0)("bodytext")(a)(Pl)(),ad(e.value0)("bodytext-size")(a)();var o=Vl({text:"AUTEUR",lineHeight:.95,position:{x:60*gt,y:Ja-160*gt},fillStyle:"#f00",fontName:"Oswald",fontStyle:"normal",fontWeight:"400",fontSize:50*gt,align:re.value,baseline:Ce.value,letterSpacing:"-3px",dragOffset:f.value,maxWidth:f.value,context:n})();ud(e.value0)("author")(o)(function(m){return Jf(qo(m))})();var l=Vl({text:[],lineHeight:.9,position:{x:60*gt,y:Ja-160*gt},maxWidth:new c(Ga-4*60*gt),fillStyle:"#f00",font:{name:"Oswald",style:{normal:"normal",italic:"italic"},weight:{normal:"700",bold:"700"},size:50*gt},align:re.value,baseline:ve.value,letterSpacing:"-2px",dragOffset:f.value,context:n})();Gl(e.value0)("title")(l)(Pl)();var i=Us(gf([cd(r),cd(u),o2(o),fd(l),fd(a),a2(hf({x:0,y:0,width:Ga,height:Ja})("#fff"))])),d=u2(e.value0)(i)();Zt(d)(),ld(d)();var s=od("download")("jacobin-tekst.png")(d)();if(s instanceof c)return void 0;throw new Error("Failed pattern match at Jacobin.TextSlide (line 130, column 3 - line 130, column 69): "+[s.constructor.name])}throw new Error("Failed pattern match at Jacobin.TextSlide (line 42, column 3 - line 42, column 72): "+[e.constructor.name])});dd();})();

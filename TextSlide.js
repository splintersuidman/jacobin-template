/* Generated by Spago v0.93.44 */
(()=>{var ui=typeof Array.prototype.flatMap=="function"?function(t){return function(e){return t.flatMap(e)}}:function(t){return function(e){for(var n=[],r=t.length,u=0;u<r;u++)for(var a=e(t[u]),o=a.length,l=0;l<o;l++)n.push(a[l]);return n}};var li=function(t){return function(e){for(var n=t.length,r=e.length,u=new Array(n*r),a=0,o=0;o<n;o++)for(var l=t[o],i=0;i<r;i++)u[a++]=l(e[i]);return u}};var No={compose:function(t){return function(e){return function(n){return t(e(n))}}}};var q=function(t){return t.identity},k={identity:function(t){return t},Semigroupoid0:function(){return No}};var yt=!0;var Q=function(t){return function(e){return function(n){return t(n)(e)}}},j=function(t){return function(e){return t}};var ii=function(t){return function(e){for(var n=e.length,r=new Array(n),u=0;u<n;u++)r[u]=t(e[u]);return r}};var J=function(){function t(){}return t.value=new t,t}();var p=function(t){return t.map},Je=function(t){var e=p(t);return function(n){return function(r){return e(r)(n)}}},_t=function(t){return p(t)(j(void 0))};var Ge=function(t){var e=p(t);return function(n){return e(j(n))}};var gt={map:ii};var Od=q(k);var Po={apply:li,Functor0:function(){return gt}},at=function(t){return t.apply},ci=function(t){var e=at(t),n=p(t.Functor0());return function(r){return function(u){return e(n(j)(r))(u)}}},oe=function(t){var e=at(t),n=p(t.Functor0());return function(r){return function(u){return e(n(j(Od))(r))(u)}}};var F=function(t){return t.pure};var Ir=function(t){var e=at(t.Apply0()),n=F(t);return function(r){return function(u){return e(n(r))(u)}}};var Ve=function(t){return t.discard};var Wo={bind:ui,Apply0:function(){return Po}},x=function(t){return t.bind},Yt=function(t){return Q(x(t))};var je={discard:function(t){return x(t)}};var si=function(t){return function(e){return t.length===0?e:e.length===0?t:t.concat(e)}};var kt=function(t){return t.reflectSymbol};var ae=function(t){return function(e){return e[t]}},Kt=function(t){return function(e){return function(n){var r={};for(var u in n)({}).hasOwnProperty.call(n,u)&&(r[u]=n[u]);return r[t]=e,r}}};var pe={append:si};var W=function(t){return t.append};var dt=function(t){return t.alt};var pi="\uFFFF",vi="\0",Vd=Number.POSITIVE_INFINITY,jd=Number.NEGATIVE_INFINITY;var nu=function(t){return function(e){return function(n){return function(r){return function(u){return r<u?t:r===u?e:n}}}}};var mi=nu,_i=nu;var gi=nu;var ru=function(t){return function(e){return t===e}};var hi=ru,Ri=ru,Di=ru;var yi={eq:Ri},Uo={eq:hi},Ho={eq:Di};var z=function(t){return t.eq};var H=function(){function t(){}return t.value=new t,t}(),S=function(){function t(){}return t.value=new t,t}(),Y=function(){function t(){}return t.value=new t,t}();var jn={eq:function(t){return function(e){return t instanceof H&&e instanceof H||t instanceof S&&e instanceof S||t instanceof Y&&e instanceof Y}}};var Fi=function(t){return function(e){return t-e|0}};var wi=function(t){return function(e){return t+e|0}},bi=function(t){return function(e){return t*e|0}},Ci=function(t){return function(e){return t+e}},Ti=function(t){return function(e){return t*e}};var Ei=function(t){return t.zeroRecord},Zt=function(t){return t.zero};var Nr={addRecord:function(t){return function(e){return function(n){return{}}}},mulRecord:function(t){return function(e){return function(n){return{}}}},oneRecord:function(t){return function(e){return{}}},zeroRecord:function(t){return function(e){return{}}}};var Te={add:Ci,zero:0,mul:Ti,one:1},$o={add:wi,zero:0,mul:bi,one:1},Mi=function(t){return t.oneRecord},ve=function(t){return t.one},xi=function(t){return t.mulRecord},Nt=function(t){return t.mul},Li=function(t){return t.addRecord},Sr=function(){return function(t){return{add:Li(t)(J.value),mul:xi(t)(J.value),one:Mi(t)(J.value)(J.value),zero:Ei(t)(J.value)(J.value)}}},Jt=function(t){return t.add};var Rn=function(t){var e=kt(t);return function(){return function(n){var r=Li(n),u=xi(n),a=Mi(n),o=Ei(n);return function(l){var i=Jt(l),s=Nt(l),d=ve(l),m=Zt(l);return{addRecord:function(y){return function(C){return function(b){var et=r(J.value)(C)(b),Dt=e(J.value),ke=Kt(Dt),Bt=ae(Dt);return ke(i(Bt(C))(Bt(b)))(et)}}},mulRecord:function(y){return function(C){return function(b){var et=u(J.value)(C)(b),Dt=e(J.value),ke=Kt(Dt),Bt=ae(Dt);return ke(s(Bt(C))(Bt(b)))(et)}}},oneRecord:function(y){return function(C){var b=a(J.value)(J.value),et=e(J.value),Dt=Kt(et);return Dt(d)(b)}},zeroRecord:function(y){return function(C){var b=o(J.value)(J.value),et=e(J.value),Dt=Kt(et);return Dt(m)(b)}}}}}}};var Ii={sub:Fi,Semiring0:function(){return $o}};var Pr=function(){return{compare:_i(H.value)(Y.value)(S.value),Eq0:function(){return yi}}}(),Gt=function(){return{compare:mi(H.value)(Y.value)(S.value),Eq0:function(){return Uo}}}(),Oo=function(){return{compare:gi(H.value)(Y.value)(S.value),Eq0:function(){return Ho}}}();var $=function(t){return t.compare};var Ee=function(t){return t.top};var Ar={top:pi,bottom:vi,Ord0:function(){return Oo}};var Qe=function(t){return t.bottom};var Pi=function(t){var e=t.toString();return isNaN(e+".0")?e:e+".0"},Ai=function(t){var e=t.charCodeAt(0);if(e<32||e===127){switch(t){case"\x07":return"'\\a'";case"\b":return"'\\b'";case"\f":return"'\\f'";case`
`:return"'\\n'";case"\r":return"'\\r'";case"	":return"'\\t'";case"\v":return"'\\v'"}return"'\\"+e.toString(10)+"'"}return t==="'"||t==="\\"?"'\\"+t+"'":"'"+t+"'"};var Wi=function(t){return function(e){for(var n=[],r=0,u=e.length;r<u;r++)n[r]=t(e[r]);return"["+n.join(",")+"]"}};var Bo={show:Pi};var zo={show:Ai};var T=function(t){return t.show},au=function(t){return{show:Wi(T(t))}};var cp=q(k),f=function(){function t(){}return t.value=new t,t}(),c=function(){function t(e){this.value0=e}return t.create=function(e){return new t(e)},t}();var te=function(t){return function(e){return function(n){if(n instanceof f)return t;if(n instanceof c)return e(n.value0);throw new Error("Failed pattern match at Data.Maybe (line 237, column 1 - line 237, column 51): "+[t.constructor.name,e.constructor.name,n.constructor.name])}}},Ye=te(!0)(j(!1));var lt={map:function(t){return function(e){return e instanceof c?new c(t(e.value0)):f.value}}};var Lt=function(t){return te(t)(cp)},me=function(){return function(t){if(t instanceof c)return t.value0;throw new Error("Failed pattern match at Data.Maybe (line 288, column 1 - line 288, column 46): "+[t.constructor.name])}};var Go=function(t){return t.toUpperCase()};var Dn=function(t){return function(e){return e.join(t)}};var Yn=function(t){return t===""};var $i=function(t){return function(){return t}},qi=function(t){return function(e){return function(){return e(t())()}}};var Bi=function(t){var e=x(t.Bind1()),n=F(t.Applicative0());return function(r){return function(u){return e(u)(function(a){return n(r(a))})}}},Fn=function(t){var e=x(t.Bind1()),n=F(t.Applicative0());return function(r){return function(u){return e(r)(function(a){return e(u)(function(o){return n(a(o))})})}}};var zi=function(t){return Math.min(Math.abs(t),2147483647)},ki=function(t){return function(e){return e===0?0:e>0?Math.floor(t/e):-Math.floor(t/-e)}},Ji=function(t){return function(e){if(e===0)return 0;var n=Math.abs(e);return(t%n+n)%n}};var Gi={Ring0:function(){return Ii}};var Ur=function(t){return t.mod};var Vo={degree:zi,div:ki,mod:Ji,CommutativeRing0:function(){return Gi}};var it=function(t){return t.mempty};var ji=function(t,e,n){var r=0,u;return function(a){if(r===2)return u;if(r===1)throw new ReferenceError(t+" was needed before it finished initializing (module "+e+", line "+a+")",e,a);return r=1,u=n(),r=2,u}},St={Applicative0:function(){return wt},Bind1:function(){return Ze}},Ze={bind:qi,Apply0:function(){return lu(0)}},wt={pure:$i,Apply0:function(){return lu(0)}},Qi=ji("functorEffect","Effect",function(){return{map:Ir(wt)}}),lu=ji("applyEffect","Effect",function(){return{apply:Fn(St),Functor0:function(){return Qi(0)}}}),P=Qi(20),Yi=lu(23);var Pt={liftEffect:q(k),Monad0:function(){return St}},Ct=function(t){return t.liftEffect};function Xi(t){return function(e){return function(n){return function(){var r=new Image;r.src=t,r.addEventListener("load",function(){n(r)()},!1),r.addEventListener("error",function(){e()},!1)}}}}function Ki(t,e,n){return function(){var r=document.getElementById(t);return r&&r instanceof HTMLCanvasElement?e(r):n}}function Hr(t){return function(){return t.getContext("2d")}}function $r(t){return function(){return t.width}}function qr(t){return function(){return t.height}}function iu(t){return function(e){return function(){t.width=e}}}function cu(t){return function(e){return function(){t.height=e}}}function fu(t){return function(){return t.toDataURL()}}function Le(t){return function(e){return function(){t.fillStyle=e}}}function Zi(t){return function(e){return function(){t.globalCompositeOperation=e}}}function su(t){return function(){t.beginPath()}}function du(t){return function(){t.fill()}}function pu(t){return function(e){return function(){t.rect(e.x,e.y,e.width,e.height)}}}function vu(t){return function(e){return function(){t.clearRect(e.x,e.y,e.width,e.height)}}}function tc(t){return function(e){return function(){t.textAlign=e}}}function ec(t){return function(e){return function(){t.textBaseline=e}}}function Xn(t){return function(e){return function(){t.font=e}}}function Or(t){return function(e){return function(n){return function(r){return function(){t.fillText(e,n,r)}}}}}function mu(t){return function(){t.save()}}function _u(t){return function(){t.restore()}}function gu(t){return function(e){return function(n){return function(r){return function(u){return function(a){return function(){t.drawImage(e,n,r,u,a)}}}}}}}var st=function(){function t(e){this.value0=e}return t.create=function(e){return new t(e)},t}(),ct=function(){function t(e){this.value0=e}return t.create=function(e){return new t(e)},t}();var bp=oe(Yi),_e=function(){function t(){}return t.value=new t,t}(),Cp=function(){function t(){}return t.value=new t,t}(),Tp=function(){function t(){}return t.value=new t,t}(),Ep=function(){function t(){}return t.value=new t,t}(),Mp=function(){function t(){}return t.value=new t,t}(),Ie=function(){function t(){}return t.value=new t,t}(),ue=function(){function t(){}return t.value=new t,t}(),Kn=function(){function t(){}return t.value=new t,t}(),Zn=function(){function t(){}return t.value=new t,t}(),tr=function(){function t(){}return t.value=new t,t}(),er=function(){function t(){}return t.value=new t,t}();var Br=function(){function t(){}return t.value=new t,t}(),xp=function(){function t(){}return t.value=new t,t}(),Lp=function(){function t(){}return t.value=new t,t}(),Ip=function(){function t(){}return t.value=new t,t}(),Np=function(){function t(){}return t.value=new t,t}(),Sp=function(){function t(){}return t.value=new t,t}(),Pp=function(){function t(){}return t.value=new t,t}(),Ap=function(){function t(){}return t.value=new t,t}(),Wp=function(){function t(){}return t.value=new t,t}(),Up=function(){function t(){}return t.value=new t,t}(),Hp=function(){function t(){}return t.value=new t,t}(),$p=function(){function t(){}return t.value=new t,t}(),qp=function(){function t(){}return t.value=new t,t}(),Op=function(){function t(){}return t.value=new t,t}(),Bp=function(){function t(){}return t.value=new t,t}(),zp=function(){function t(){}return t.value=new t,t}(),kp=function(){function t(){}return t.value=new t,t}(),Jp=function(){function t(){}return t.value=new t,t}(),Gp=function(){function t(){}return t.value=new t,t}(),Vp=function(){function t(){}return t.value=new t,t}(),jp=function(){function t(){}return t.value=new t,t}(),Qp=function(){function t(){}return t.value=new t,t}(),Yp=function(){function t(){}return t.value=new t,t}(),Xp=function(){function t(){}return t.value=new t,t}(),Kp=function(){function t(){}return t.value=new t,t}(),Zp=function(){function t(){}return t.value=new t,t}(),At=function(t){return function(e){return function(){mu(t)();var r=e();return _u(t)(),r}}},Ru=function(t){return function(e){return Xi(t)(e(f.value))(function(n){return e(c.create(n))})}};var nr=function(t){return function(e){var n=function(r){if(r instanceof _e)return"top";if(r instanceof Cp)return"hanging";if(r instanceof Tp)return"middle";if(r instanceof Ep)return"alphabetic";if(r instanceof Mp)return"ideographic";if(r instanceof Ie)return"bottom";throw new Error("Failed pattern match at Graphics.Canvas (line 577, column 5 - line 577, column 33): "+[r.constructor.name])};return ec(t)(n(e))}},rr=function(t){return function(e){var n=function(r){if(r instanceof ue)return"left";if(r instanceof Kn)return"right";if(r instanceof Zn)return"center";if(r instanceof tr)return"start";if(r instanceof er)return"end";throw new Error("Failed pattern match at Graphics.Canvas (line 531, column 5 - line 531, column 32): "+[r.constructor.name])};return tc(t)(n(e))}};var ac=function(t){return function(e){var n=function(r){if(r instanceof Br)return"source-over";if(r instanceof xp)return"source-in";if(r instanceof Lp)return"source-out";if(r instanceof Ip)return"source-atop";if(r instanceof Np)return"destination-over";if(r instanceof Sp)return"destination-in";if(r instanceof Pp)return"destination-out";if(r instanceof Ap)return"destination-atop";if(r instanceof Wp)return"lighter";if(r instanceof Up)return"copy";if(r instanceof Hp)return"xor";if(r instanceof $p)return"multiply";if(r instanceof qp)return"screen";if(r instanceof Op)return"overlay";if(r instanceof Bp)return"darken";if(r instanceof zp)return"lighten";if(r instanceof kp)return"color-dodge";if(r instanceof Jp)return"color-burn";if(r instanceof Gp)return"hard-light";if(r instanceof Vp)return"soft-light";if(r instanceof jp)return"difference";if(r instanceof Qp)return"exclusion";if(r instanceof Yp)return"hue";if(r instanceof Xp)return"saturation";if(r instanceof Kp)return"color";if(r instanceof Zp)return"luminosity";throw new Error("Failed pattern match at Graphics.Canvas (line 326, column 5 - line 326, column 45): "+[r.constructor.name])};return Zi(t)(n(e))}},uc=function(t){return function(e){return bp(cu(t)(e.height))(iu(t)(e.width))}},lc=function(t){return Ki(t,c.create,f.value)},ic=function(t){return function(){var n=$r(t)(),r=qr(t)();return{width:n,height:r}}},cc=function(t){return function(e){return function(){su(t)();var r=e();return du(t)(),r}}};var Qo=function(t){return function(e){return e(function(n){return t(n)})}},or=function(t){return function(e){return{x:e.x+t.translateX,y:e.y+t.translateY}}};var en=function(t){return t.translate},fc=function(t){return function(e){return{width:e.width*t.scaleX,height:e.height*t.scaleY}}},Du=function(t){return t.scale},sc=function(t){var e=Du(t);return function(n){return e({scaleX:n,scaleY:n})}},Ne=function(t){return t.position},ge=function(t){return function(e){return function(n){return n(t)(e)}}},tv=function(t){var e=p(t);return function(n){return Qo(function(r){var u=e(ge(r)),a=n(r);return function(o){return u(a(o))}})}};var dc=function(t){return t.mapLayerWrapper},Se=function(t){return t.draw},ev=function(t){var e=en(t);return function(n){return function(r){return function(u){var a={translateX:r.translateX-n.offsetX,translateY:r.translateY-n.offsetY};return e(a)(u)}}}},nn=function(t){var e=F(t);return function(n){var r=ev(n);return function(u){return function(a){return function(o){if(u instanceof f)return e(o);if(u instanceof c)return r(u.value0)(a)(o);throw new Error("Failed pattern match at Template.Layer (line 61, column 1 - line 61, column 115): "+[u.constructor.name,a.constructor.name,o.constructor.name])}}}}},rn=function(t){return t.dragStart},on=function(t){return t.dragEnd},an=function(t){return t.drag},wn=function(t){return t.containsPoint},Yo=function(t){var e=tv(t);return{position:Qo(function(n){return Ne(n)}),translate:function(n){return e(function(r){return en(r)(n)})},containsPoint:function(n){return Qo(function(r){return wn(r)(n)})},draw:function(n){return Qo(function(r){return Se(r)(n)})},dragStart:function(n){return e(function(r){return rn(r)(n)})},drag:function(n){return e(function(r){return an(r)(n)})},dragEnd:e(function(n){return on(n)})}};var pc=function(t){return function(){return{value:t}}};var Vt=function(t){return function(){return t.value}},vc=function(t){return function(e){return function(){var n=t(e.value);return e.value=n.state,n.value}}},ar=function(t){return function(e){return function(){e.value=t}}};var rv=_t(P),un=pc,ov=vc,mc=function(t){return ov(function(e){var n=t(e);return{state:n,value:n}})},yu=function(t){return function(e){return rv(mc(t)(e))}};var kr=t=>t.width,Jr=t=>t.height;var bn=t=>e=>()=>t.letterSpacing=e;var _c=function(t){return function(e){return function(n){return function(r){return gu(t)(e)(n.x)(n.y)(r.width)(r.height)}}}};var gc=function(t){return{width:kr(t),height:Jr(t)}};var uv=Nt(Sr()(Rn({reflectSymbol:function(){return"scaleX"}})()(Rn({reflectSymbol:function(){return"scaleY"}})()(Nr)(Te))(Te))),lv=Ve(je);var hc=function(t){var e=F(t.Monad0().Applicative0());return{scale:function(n){return function(r){return e({image:r.image,position:r.position,composite:r.composite,dragOffset:r.dragOffset,scale:uv(n)(r.scale)})}}}},wu=function(t){var e=t.Monad0(),n=e.Applicative0(),r=F(n),u=x(e.Bind1()),a=Ct(t),o=nn(n);return{position:function(l){return r(l.position)},translate:function(l){return function(i){return r({image:i.image,scale:i.scale,composite:i.composite,dragOffset:i.dragOffset,position:or(l)(i.position)})}},containsPoint:function(l){return function(i){return u(a(Vt(i.image)))(function(s){if(s instanceof f)return r(!1);if(s instanceof c)return r(i.position.x<=l.x&&l.x<=i.position.x+kr(s.value0)*i.scale.scaleX&&i.position.y<=l.y&&l.y<=i.position.y+Jr(s.value0)*i.scale.scaleY);throw new Error("Failed pattern match at Template.Layer.Image (line 74, column 5 - line 80, column 90): "+[s.constructor.name])})}},dragStart:function(l){return function(i){return r({image:i.image,position:i.position,scale:i.scale,composite:i.composite,dragOffset:new c(l)})}},drag:function(l){return function(i){return o(wu(t))(i.dragOffset)(l)(i)}},dragEnd:function(l){return r({image:l.image,position:l.position,scale:l.scale,composite:l.composite,dragOffset:f.value})},draw:function(l){return function(i){return function(){var d=Vt(i.image)();if(d instanceof f)return void 0;if(d instanceof c)return At(l)(function(){return ac(l)(i.composite)(),_c(l)(d.value0)(i.position)(fc(i.scale)(gc(d.value0)))()})();throw new Error("Failed pattern match at Template.Layer.Image (line 88, column 5 - line 94, column 54): "+[d.constructor.name])}}}}};var Rc=function(t){var e=Ct(t);return function(n){return function(r){return function(u){return function(a){return e(function(){var l=un(f.value)();return Ru(n)(function(){var i=Q(yu)(l);return function(s){return i(j(s))}}())(),{image:l,position:r,scale:u,composite:a,dragOffset:f.value}})}}}}},Dc=function(t){var e=Ct(t);return function(n){return function(r){return function(u){return e(function(){var o=un(f.value)();return{image:o,position:n,scale:r,composite:u,dragOffset:f.value}})}}}},yc=function(t){var e=t.Monad0(),n=lv(e.Bind1()),r=Ct(t),u=F(e.Applicative0());return function(a){return function(o){return n(r(Ru(a)(function(){var l=Q(yu)(o.image);return function(i){return l(j(i))}}())))(function(){return u(o)})}}};var Cn=function(t){return t.throwError};var ur=function(t){return t};var Eu={map:function(t){return function(e){return t(e)}}};var wc={apply:function(t){return function(e){return t(e)}},Functor0:function(){return Eu}},sv={bind:function(t){return function(e){return e(t)}},Apply0:function(){return wc}},dv={pure:ur,Apply0:function(){return wc}},bc={Applicative0:function(){return dv},Bind1:function(){return sv}};var Wt=function(){function t(e){this.value0=e}return t.create=function(e){return new t(e)},t}(),Ut=function(){function t(e){this.value0=e}return t.create=function(e){return new t(e)},t}(),Ae=function(t){return t.tailRecM};var pv=function(t){var e=function(n){var r=!1,u;function a(o){if(o instanceof Wt){n=t(o.value0);return}if(o instanceof Ut)return r=!0,o.value0;throw new Error("Failed pattern match at Control.Monad.Rec.Class (line 103, column 3 - line 103, column 25): "+[o.constructor.name])}for(;!r;)u=a(n);return u};return function(n){return e(t(n))}};var Cc={tailRecM:function(t){var e=function(r){return r},n=pv(function(r){return e(t(r))});return function(r){return ur(n(r))}},Monad0:function(){return bc}};var v=function(t){return t};var Tn=function(t){return t.defer};var Lc=function(t){return function(e){return t&&e}},Ic=function(t){return function(e){return t||e}},Nc=function(t){return!t};var Ko=function(t){return t.not};var jr=function(t){return t.ff};var ir=function(t){return t.disj},ln={ff:!1,tt:!0,implies:function(t){return function(e){return ir(ln)(Ko(ln)(t))(e)}},conj:Lc,disj:Ic,not:Nc};var E=function(){function t(e,n){this.value0=e,this.value1=n}return t.create=function(e){return function(n){return new t(e,n)}},t}();var Ue=function(t){return t.value1};var He=function(t){return t.value0};var le=function(t){return t.lift};var Tv=p(lt);var ta=function(t){return t},En=function(t){return t};var fr={lift:function(t){var e=Bi(t)(c.create);return function(n){return ta(e(n))}}};var Ev=function(t){var e=p(t);return{map:function(n){return function(r){return e(Tv(n))(r)}}}},Mv=function(t){return{Applicative0:function(){return Qr(t)},Bind1:function(){return Mn(t)}}},Mn=function(t){var e=x(t.Bind1()),n=F(t.Applicative0());return{bind:function(r){return function(u){return e(r)(function(a){if(a instanceof f)return n(f.value);if(a instanceof c){var o=u(a.value0);return o}throw new Error("Failed pattern match at Control.Monad.Maybe.Trans (line 55, column 11 - line 57, column 42): "+[a.constructor.name])})}},Apply0:function(){return Uc(t)}}},Uc=function(t){var e=Ev(t.Bind1().Apply0().Functor0());return{apply:Fn(Mv(t)),Functor0:function(){return e}}},Qr=function(t){return{pure:function(){var e=F(t.Applicative0());return function(n){return ta(e(c.create(n)))}}(),Apply0:function(){return Uc(t)}}};var sr=function(t){var e=F(t.Applicative0());return function(n){return ta(e(n))}};var Hc=function(t,e){for(var n=t>e?-1:1,r=new Array(n*(e-t)+1),u=t,a=0;u!==e;)r[a++]=u,u+=n;return r[a]=u,r},xv=function(t,e){if(t<1)return[];var n=new Array(t);return n.fill(e)},Lv=function(t,e){for(var n=[],r=0,u=0;u<t;u++)n[r++]=e;return n},Iv=typeof Array.prototype.fill=="function"?xv:Lv,$c=function(){function t(u,a){this.head=u,this.tail=a}var e={};function n(u){return function(a){return new t(u,a)}}function r(u){for(var a=[],o=0,l=u;l!==e;)a[o++]=l.head,l=l.tail;return a}return function(u,a){return r(u(n)(e)(a))}}(),vt=function(t){return t.length};var qc=function(t,e,n,r){return r<0||r>=n.length?e:t(n[r])};var Oc=function(t,e,n,r){for(var u=0,a=r.length;u<a;u++)if(n(r[u]))return t(u);return e};var Bc=function(t,e,n,r,u){if(n<0||n>=u.length)return e;var a=u.slice();return a[n]=r,t(a)},dr=function(t){return t.slice().reverse()},cn=function(t){if(t.length<=1e4)return Array.prototype.concat.apply([],t);for(var e=[],n=0,r=t.length;n<r;n++)for(var u=t[n],a=0,o=u.length;a<o;a++)e.push(u[a]);return e};var zc=function(t,e,n){for(var r=n.length,u=e,a=new Array(r),o=0;o<r;o++)u=t(u)(n[o]),a[o]=u;return a};var kc=function(t,e,n){return n.slice(t,e)},Jc=function(t,e,n){for(var r=e.length<n.length?e.length:n.length,u=new Array(r),a=0;a<r;a++)u[a]=t(e[a])(n[a]);return u},Gc=function(t,e){for(var n=e.length,r=0;r<n;r++)if(t(e[r]))return!0;return!1},Vc=function(t,e){for(var n=e.length,r=0;r<n;r++)if(!t(e[r]))return!1;return!0};function Sv(t){return t}var jc=Sv;function Pv(t){return t.slice()}var Qc=Pv;var Yc=function(t,e){return e.push(t)};var na=function(e){return function(n){return function(){return e(n)}}},Nu=function(e){return function(n){return function(r){return function(){return e(n,r)}}}};var Xc=na(jc);var Ov=na(Qc),Kc=function(t){return function(e){return function(){var r=Ov(e)();return t(r)(),Xc(r)()}}};var Su=Nu(Yc);var tf=function(t){return function(e){return function(n){for(var r=e,u=n.length,a=u-1;a>=0;a--)r=t(n[a])(r);return r}}},ef=function(t){return function(e){return function(n){for(var r=e,u=n.length,a=0;a<u;a++)r=t(r)(n[a]);return r}}};var aa=function(t){return t};var r1=function(t){var e=ir(t);return{append:function(n){return function(r){return e(n)(r)}}}};var Uu=function(t){var e=r1(t);return{mempty:jr(t),Semigroup0:function(){return e}}};var Hu=function(){return v};var uf=Hu();var xn=function(){return uf};var $u=function(){return function(){return function(){return function(){return function(t){return uf}}}}};var i1=q(k),c1=z(jn);var f1=$u()()()(),Tt=function(t){return t.foldr};var to=function(t){var e=oe(t.Apply0()),n=F(t);return function(r){var u=Tt(r);return function(a){return u(function(o){return e(a(o))})(n(void 0))}}},eo=function(t){var e=to(t);return function(n){return Q(e(n))}};var ft=function(t){return t.foldl};var cf=function(t){var e=ft(t);return function(n){var r=function(u){return function(a){if(u instanceof f)return new c(a);if(u instanceof c)return new c(function(){var o=c1(n(u.value0)(a))(S.value);return o?u.value0:a}());throw new Error("Failed pattern match at Data.Foldable (line 441, column 3 - line 441, column 27): "+[u.constructor.name,a.constructor.name])}};return e(r)(f.value)}},no=function(t){var e=$(t);return function(n){return cf(n)(e)}};var Ou=function(t){var e=ft(t);return function(n){return e(Jt(n))(Zt(n))}};var ff=function(t){var e=Tt(t);return function(n){var r=W(n.Semigroup0()),u=it(n);return function(a){return e(function(o){return function(l){return r(a(o))(l)}})(u)}}},mt={foldr:tf,foldl:ef,foldMap:function(t){return ff(mt)(t)}};var Re=function(t){return t.foldMap};var In=function(t){var e=Re(t);return function(n){return f1(aa)(e(Uu(n)))}};var Bu=function(t){var e=In(t);return function(n){return e(n)(i1)}};var ro=function(t){return function(e,n,r,u,a){return t(e)(n)(r)(u)(a)}};var fn=function(t){return function(e){return function(n){return t(e,n)}}},oo=function(t){return function(e){return function(n){return function(r){return t(e,n,r)}}}},ia=function(t){return function(e){return function(n){return function(r){return function(u){return t(e,n,r,u)}}}}},zu=function(t){return function(e){return function(n){return function(r){return function(u){return function(a){return t(e,n,r,u,a)}}}}}};var gf=function(){function t(u){return[u]}function e(u){return function(a){return[u,a]}}function n(u){return function(a){return function(o){return[u,a,o]}}}function r(u){return function(a){return u.concat(a)}}return function(u){return function(a){return function(o){return function(l){return function(i){function s(d,m){switch(m-d){case 0:return o([]);case 1:return a(t)(l(i[d]));case 2:return u(a(e)(l(i[d])))(l(i[d+1]));case 3:return u(u(a(n)(l(i[d])))(l(i[d+1])))(l(i[d+2]));default:var y=d+Math.floor((m-d)/4)*2;return u(a(r)(s(d,y)))(s(y,m))}}return s(0,i.length)}}}}}}();var G1=q(k),Ht=function(t){return t.traverse};var V1=function(t){var e=Ht(t);return function(n){return e(n)(G1)}},ie={traverse:function(t){var e=t.Apply0();return gf(at(e))(p(e.Functor0()))(F(t))},sequence:function(t){return V1(ie)(t)},Functor0:function(){return gt},Foldable1:function(){return mt}};var wf=function(t){return function(e){var n=Ht(e)(t);return function(r){return function(u){return n(u)(r)}}}};var bf=function(t){return function(e){return function(n){return function(r){return function(u){return function(a){for(var o=[],l=a;;){var i=u(l);if(t(i))return o;var s=e(i);o.push(n(s)),l=r(s)}}}}}}};var Cf=function(t){return function(e){return function(n){return function(r){return function(u){return function(a){for(var o=[],l=a;;){var i=u(l);o.push(n(i));var s=r(i);if(t(s))return o;l=e(s)}}}}}}};var rm=me();var Xu={unfoldr1:Cf(Ye)(rm)(He)(Ue)};var um=me(),$e=function(t){return t.unfoldr};var Zu={unfoldr:bf(Ye)(um)(He)(Ue),Unfoldable10:function(){return Xu}};var lm=W(pe);var Lf=oo(Jc);var De=function(){return Lf(E.create)}();var If=function(){return zu(Bc)(c.create)(f.value)}();var Rt=function(t){return function(e){return Kc(Su(e))(t)()}},tl=oo(kc),io=function(t){return function(e){return t<=0?{before:[],after:e}:{before:tl(0)(t)(e),after:tl(t)(vt(e))(e)}}};var nl=function(t){return[t]};var hr=oo(zc);var rl=fn(Hc);var ye=function(){return ia(qc)(c.create)(f.value)}();var ol=function(t){return function(e){return function(n){var r=function(u){return If(t)(e(u))(n)};return te(f.value)(r)(ye(n)(t))}}};var al=function(t){return fn($c)(Tt(t))};var co=function(){return ia(Oc)(c.create)(f.value)}();var ul=function(t){var e=z(t);return function(n){return co(function(r){return e(r)(n)})}},ll=function(t){var e=ul(t);return function(n){return function(r){return Ye(e(n)(r))}}};var Sn=function(t){return function(e){return lm([t])(e)}};var Nf=Q(x(Wo));var fo=fn(Gc);var ma=fn(Vc);var im=le(fr);var Sf=function(t){var e=x(Mn(t)),n=sr(t),r=im(t);return function(u){return function(a){return function(o){return e(n(ye(o)(u)))(function(l){return e(r(a(l)))(function(i){return n(ol(u)(j(i))(o))})})}}}};var il=function(t){return De(rl(0)(vt(t)))(t)};var cm=Ht(ie),fm=Bu(mt)(ln),sm=to(wt)(mt),dm=le(fr),pm=q(k);var Af=function(t){var e=t.Applicative0(),n=t.Bind1().Apply0().Functor0(),r=Je(n),u=cm(e),a=Yo(n),o=en(a),l=p(n),i=wn(a),s=Se(a),d=x(Mn(t)),m=dm(t),y=sr(t),C=Ne(a),b=Sf(t),et=rn(a),Dt=F(Qr(t)),ke=an(a),Bt=on(a);return{position:j(F(e)({x:0,y:0})),translate:function(ut){return function(rt){return r(u(o(ut))(rt.layers))(function(zt){return{dragIndex:rt.dragIndex,layers:zt}})}},containsPoint:function(ut){return function(rt){return l(fm)(u(i(ut))(rt.layers))}},draw:function(ut){return function(rt){return sm(function(){var zt=At(ut),hn=s(ut);return function(Vn){return zt(hn(Vn))}}())(dr(rt.layers))}},dragStart:function(ut){return function(rt){return l(Lt(rt))(En(d(m(u(i({x:ut.offsetX,y:ut.offsetY}))(rt.layers)))(function(zt){return d(y(co(pm)(zt)))(function(hn){return d(y(ye(rt.layers)(hn)))(function(Vn){return d(m(C(Vn)))(function(Io){return d(b(hn)(et({offsetX:ut.offsetX-Io.x,offsetY:ut.offsetY-Io.y}))(rt.layers))(function(Ud){return Dt({dragIndex:new c(hn),layers:Ud})})})})})})))}},drag:function(ut){return function(rt){return l(Lt(rt))(En(d(y(rt.dragIndex))(function(zt){return d(y(ye(rt.layers)(zt)))(function(hn){return d(m(C(hn)))(function(Vn){return d(b(zt)(ke({translateX:ut.translateX-Vn.x,translateY:ut.translateY-Vn.y}))(rt.layers))(function(Io){return Dt({dragIndex:rt.dragIndex,layers:Io})})})})})))}},dragEnd:function(ut){return l(Lt({layers:ut.layers,dragIndex:f.value}))(En(d(y(ut.dragIndex))(function(rt){return d(b(rt)(Bt)(ut.layers))(function(zt){return Dt({dragIndex:f.value,layers:zt})})})))}}},Wf=function(t){return{layers:t,dragIndex:f.value}};var cl=function(t){var e=F(t),n=nn(t);return{position:function(r){return e({x:r.rect.x,y:r.rect.y})},translate:function(r){return function(u){return e({fillStyle:u.fillStyle,dragOffset:u.dragOffset,rect:{width:u.rect.width,height:u.rect.height,x:u.rect.x+r.translateX,y:u.rect.y+r.translateY}})}},containsPoint:function(r){return function(u){return e(u.rect.x<=r.x&&r.x<=u.rect.x+u.rect.width&&u.rect.y<=r.y&&r.y<=u.rect.y+u.rect.height)}},draw:function(r){return function(u){return function(){return Le(r)(u.fillStyle)(),cc(r)(pu(r)(u.rect))()}}},dragStart:function(r){return function(u){return e({rect:u.rect,fillStyle:u.fillStyle,dragOffset:new c(r)})}},drag:function(r){return function(u){return n(cl(t))(u.dragOffset)(r)(u)}},dragEnd:function(r){return e({rect:r.rect,fillStyle:r.fillStyle,dragOffset:f.value})}}},Uf=function(t){return function(e){return{rect:t,fillStyle:e,dragOffset:f.value}}};var _m=Ve(je),fl=function(t){var e=t.Monad0(),n=e.Bind1(),r=x(n),u=Ct(t),a=_m(n),o=F(e.Applicative0());return function(l){return function(i){return r(u(Vt(i)))(function(s){return r(l(s))(function(d){return a(u(ar(d)(i)))(function(){return o(d)})})})}}},Hf=function(t){var e=Ge(t.Monad0().Bind1().Apply0().Functor0()),n=fl(t);return function(r){return function(u){return e(void 0)(n(r)(u))}}};var hm=Yt(Ze),Rm=function(t){return t};var _a=function(t){var e=t.Monad0().Bind1(),n=Yt(e),r=Ct(t),u=Ge(e.Apply0().Functor0()),a=fl(t);return function(o){var l=Ne(o),i=en(o),s=wn(o),d=rn(o),m=an(o),y=on(o),C=Se(o);return{position:function(b){return n(l)(r(Vt(b)))},translate:function(b){return function(et){return u(et)(a(i(b))(et))}},containsPoint:function(b){return function(et){return n(s(b))(r(Vt(et)))}},dragStart:function(b){return function(et){return u(et)(a(d(b))(et))}},drag:function(b){return function(et){return u(et)(a(m(b))(et))}},dragEnd:function(b){return u(b)(a(y)(b))},draw:function(b){return function(et){return hm(C(b))(Vt(et))}}}}};var $f=function(t){var e=Hf(t);return function(n){return function(r){return e(n)(r)}}};var ga=function(t){var e=p(t.Monad0().Bind1().Apply0().Functor0()),n=Ct(t);return function(r){return e(Rm)(n(un(r)))}};var tt=function(t){return t};var ha=isFinite;function Of(t,e,n,r){var u=parseFloat(t);return e(u)?n(u):r}var Ra=function(t){return Of(t,ha,c.create,f.value)};function zf(t){return t.split(/\r\n|[\n\v\f\r\u0085\u2028\u2029]/)}function kf(t){return t.split(/[\u000a-\u000d\u0085\u2028\u2029\u0009\u0020\u00a0\u1680\u2000-\u200a\u202f\u205f\u3000]+/)}var W8=typeof Array.from=="function",Lm=typeof Symbol<"u"&&Symbol!=null&&typeof Symbol.iterator<"u"&&typeof String.prototype[Symbol.iterator]=="function",U8=typeof String.prototype.fromCodePoint=="function",Im=typeof String.prototype.codePointAt=="function",Jf=function(t){return Im?function(e){return e.codePointAt(0)}:t},Gf=function(t){return function(e){return function(n){return function(r){return function(u){return function(a){var o=a.length;if(u<0||u>=o)return n;if(Lm)for(var l=a[Symbol.iterator](),i=u;;--i){var s=l.next();if(s.done)return n;if(i===0)return e(r(s.value))}return t(u)(a)}}}}}};function dn(t){return t.charCodeAt(0)}function Vf(t){return String.fromCharCode(t)}var Yf=Qe(Ar),Xf=Ee(Ar);var Oe=function(t){return t.toEnum};var pn=function(t){return t.fromEnum};var Pn=function(t){return function(e){return function(n){return t(e(n)+1|0)}}},An=function(t){return function(e){return function(n){return t(e(n)-1|0)}}};var sl=function(t){return t>=dn(Yf)&&t<=dn(Xf)?new c(Vf(t)):f.value},Hm={succ:Pn(sl)(dn),pred:An(sl)(dn),Ord0:function(){return Oo}};var po=function(){return{cardinality:dn(Xf)-dn(Yf)|0,toEnum:sl,fromEnum:dn,Bounded0:function(){return Ar},Enum1:function(){return Hm}}}();var dl=function(t){return t.join("")};var vn=function(t){return t.length};var Wn=function(t){return function(e){return e.substring(t)}};var mn=function(t){return function(e){if(t>=0&&t<e.length)return e.charAt(t);throw new Error("Data.String.Unsafe.charAt: Invalid index.")}};var Jm=function(t,e,n){var r=0,u;return function(a){if(r===2)return u;if(r===1)throw new ReferenceError(t+" was needed before it finished initializing (module "+e+", line "+a+")",e,a);return r=1,u=n(),r=2,u}},vo=pn(po);var Gm=$(Gt);var ts=function(t){return function(e){return(((t-55296|0)*1024|0)+(e-56320|0)|0)+65536|0}};var es=function(t){return 56320<=t&&t<=57343},ns=function(t){return 55296<=t&&t<=56319},ya=function(t){var e=vn(t);if(e===0)return f.value;if(e===1)return new c({head:vo(mn(0)(t)),tail:""});var n=vo(mn(1)(t)),r=vo(mn(0)(t)),u=ns(r)&&es(n);return u?new c({head:ts(r)(n),tail:Wn(2)(t)}):new c({head:r,tail:Wn(1)(t)})};var Vm=function(t){var e=vo(mn(0)(t)),n=ns(e)&&vn(t)>1;if(n){var r=vo(mn(1)(t)),u=es(r);return u?ts(e)(r):e}return e},Zf=Jf(Vm);var vl={eq:function(t){return function(e){return t===e}}},ml={compare:function(t){return function(e){return Gm(t)(e)}},Eq0:function(){return vl}};var jm=function(t){return function(e){var n=t,r=!1,u;function a(o,l){var i=ya(l);if(i instanceof c){var s=o===0;if(s)return r=!0,new c(i.value0.head);n=o-1|0,e=i.value0.tail;return}return r=!0,f.value}for(;!r;)u=a(n,e);return u}},rs=function(t){return function(e){return t<0?f.value:t===0&&e===""?f.value:t===0?new c(Zf(e)):Gf(jm)(c.create)(f.value)(Zf)(t)(e)}},Qm={bottom:0,top:1114111,Ord0:function(){return ml}},Un=function(){return{cardinality:1114112,fromEnum:function(t){return t},toEnum:function(t){if(t>=0&&t<=1114111)return new c(t);if(yt)return f.value;throw new Error("Failed pattern match at Data.String.CodePoints (line 63, column 1 - line 68, column 26): "+[t.constructor.name])},Bounded0:function(){return Qm},Enum1:function(){return Ym(0)}}}(),Ym=Jm("enumCodePoint","Data.String.CodePoints",function(){return{succ:Pn(Oe(Un))(pn(Un)),pred:An(Oe(Un))(pn(Un)),Ord0:function(){return ml}}});var wa=function(t){return kf(t)};var Dr=function(t){return zf(t)};var ba=t=>e=>()=>t.measureText(e);var Ca=Ht(ie)(wt),i_=ft(mt),c_=p(gt),cs=p(P),f_=no(Pr)(mt),us=T(Bo),s_=eo(wt)(mt);var fs=function(t){return function(e){return{position:e.position,maxWidth:e.maxWidth,fillStyle:e.fillStyle,fontName:e.fontName,fontSize:e.fontSize,fontStyle:e.fontStyle,fontWeight:e.fontWeight,align:e.align,baseline:e.baseline,lineHeight:e.lineHeight,letterSpacing:e.letterSpacing,dragOffset:e.dragOffset,context:e.context,text:t}}};var mo=function(t){return function(e){return function(){var r=ba(t)(e)();return r.width}}},d_=function(t){return function(e){return function(n){var r=wa(n);return function(){var a=Ca(mo(t))(r)(),o=mo(t)(" ")(),l=function(d){return function(m){if(d.value1.value0.length===0)return new E(d.value0,new E([m.value0],m.value1));var y=d.value1.value1+o+m.value1>e;return y?new E(Rt(d.value0)(d.value1.value0),new E([m.value0],m.value1)):new E(d.value0,new E(Rt(d.value1.value0)(m.value0),d.value1.value1+o+m.value1))}},i=i_(l)(new E([],new E([],0)))(De(r)(a)),s=c_(Dn(" "))(i.value0);return i.value1.value0.length===0?s:Rt(s)(Dn(" ")(i.value1.value0))}}}},ls=function(t){return function(e){return function(n){return cs(cn)(Ca(d_(t)(e))(Dr(n)))}}},Rl=function(t){return function(e){return function(){var r=ba(t)(e)();return r.actualBoundingBoxAscent+r.actualBoundingBoxDescent}}};var is=function(t){return function(e){return cs(function(){var n=Lt(0);return function(r){return n(f_(r))}}())(Ca(Rl(t))(e))}},Dl=function(t){var e=t.Monad0().Applicative0(),n=F(e),r=Ct(t),u=nn(e);return{position:function(a){return n(a.position)},translate:function(a){return function(o){return n({text:o.text,maxWidth:o.maxWidth,fillStyle:o.fillStyle,fontName:o.fontName,fontSize:o.fontSize,fontStyle:o.fontStyle,fontWeight:o.fontWeight,align:o.align,baseline:o.baseline,lineHeight:o.lineHeight,letterSpacing:o.letterSpacing,dragOffset:o.dragOffset,context:o.context,position:or(a)(o.position)})}},containsPoint:function(a){return function(o){return r(At(o.context)(function(){Le(o.context)(o.fillStyle)(),Xn(o.context)(o.fontStyle+(" "+(o.fontWeight+(" "+(us(o.fontSize)+("px "+o.fontName))))))(),nr(o.context)(o.baseline)(),rr(o.context)(o.align)(),bn(o.context)(o.letterSpacing)();var i=function(){if(o.maxWidth instanceof c)return ls(o.context)(o.maxWidth.value0)(o.text)();if(o.maxWidth instanceof f)return Dr(o.text);throw new Error("Failed pattern match at Template.Layer.Text (line 75, column 14 - line 77, column 44): "+[o.maxWidth.constructor.name])}(),s=Ca(mo(o.context))(i)(),d=is(o.context)(i)();return Q(fo)(il(s))(function(m){var y=function(){return o.baseline instanceof _e?o.position.y+d*o.lineHeight*tt(m.value0):o.baseline instanceof Ie?o.position.y-d-tt((vt(i)-m.value0|0)-1|0)*d*o.lineHeight:o.position.y+d*o.lineHeight*tt(m.value0)}();if(o.align instanceof tr||o.align instanceof ue)return o.position.x<=a.x&&a.x<=o.position.x+m.value1&&y<=a.y&&a.y<=y+d;if(o.align instanceof er||o.align instanceof Kn)return o.position.x-m.value1<=a.x&&a.x<=o.position.x&&y<=a.y&&a.y<=y+d;if(o.align instanceof Zn)return o.position.x-m.value1/2<=a.x&&a.x<=o.position.x+m.value1/2&&y<=a.y&&a.y<=y+d;throw new Error("Failed pattern match at Template.Layer.Text (line 89, column 7 - line 104, column 41): "+[o.align.constructor.name])})}))}},dragStart:function(a){return function(o){return n({text:o.text,position:o.position,maxWidth:o.maxWidth,fillStyle:o.fillStyle,fontName:o.fontName,fontSize:o.fontSize,fontStyle:o.fontStyle,fontWeight:o.fontWeight,align:o.align,baseline:o.baseline,lineHeight:o.lineHeight,letterSpacing:o.letterSpacing,context:o.context,dragOffset:new c(a)})}},drag:function(a){return function(o){return u(Dl(t))(o.dragOffset)(a)(o)}},dragEnd:function(a){return n({text:a.text,position:a.position,maxWidth:a.maxWidth,fillStyle:a.fillStyle,fontName:a.fontName,fontSize:a.fontSize,fontStyle:a.fontStyle,fontWeight:a.fontWeight,align:a.align,baseline:a.baseline,lineHeight:a.lineHeight,letterSpacing:a.letterSpacing,context:a.context,dragOffset:f.value})},draw:function(a){return function(o){return At(a)(function(){Le(a)(o.fillStyle)(),Xn(a)(o.fontStyle+(" "+(o.fontWeight+(" "+(us(o.fontSize)+("px "+o.fontName))))))(),nr(a)(o.baseline)(),rr(a)(o.align)(),bn(a)(o.letterSpacing)();var i=function(){if(o.maxWidth instanceof c)return ls(a)(o.maxWidth.value0)(o.text)();if(o.maxWidth instanceof f)return Dr(o.text);throw new Error("Failed pattern match at Template.Layer.Text (line 117, column 14 - line 119, column 44): "+[o.maxWidth.constructor.name])}(),s=is(a)(i)();return s_(il(i))(function(d){var m=function(){return o.baseline instanceof _e?o.position.y+tt(d.value0)*s*o.lineHeight:o.baseline instanceof Ie?o.position.y-tt((vt(i)-d.value0|0)-1|0)*s*o.lineHeight:o.position.y+tt(d.value0)*s*o.lineHeight}();return Or(a)(d.value1)(o.position.x)(m)})()})}}}};var ss=function(t){return t};var F_=ss;var Fl=function(t){return t};var _s=function(t){if(vt(t)>0)return new c(F_(t));if(yt)return f.value;throw new Error("Failed pattern match at Data.Array.NonEmpty (line 161, column 1 - line 161, column 58): "+[t.constructor.name])};var Fr=function(t){var e=null;return function(){return t===void 0||(e=t(),t=void 0),e}},ho=function(t){return t()};var L_=function(t,e,n){var r=0,u;return function(a){if(r===2)return u;if(r===1)throw new ReferenceError(t+" was needed before it finished initializing (module "+e+", line "+a+")",e,a);return r=1,u=n(),r=2,u}};var I_=xn();var Be=function(){function t(e,n,r){this.value0=e,this.value1=n,this.value2=r}return t.create=function(e){return function(n){return function(r){return new t(e,n,r)}}},t}(),ze=function(){function t(e,n){this.value0=e,this.value1=n}return t.create=function(e){return function(n){return new t(e,n)}},t}();var gs=function(){function t(e){this.value0=e}return t.create=function(e){return new t(e)},t}(),hs=function(){function t(e){this.value0=e}return t.create=function(e){return new t(e)},t}(),Cl=function(){function t(e,n){this.value0=e,this.value1=n}return t.create=function(e){return function(n){return new t(e,n)}},t}();var Rs={defer:function(t){var e=Fr(t);return function(n,r,u,a,o){var l=ho(e);return l(n,r,u,a,o)}}};var Hn={map:function(t){return function(e){return function(n,r,u,a,o){return r(function(l){return e(n,r,u,a,function(i,s){return r(function(d){return o(i,t(s))})})})}}}};var _n={alt:function(t){return function(e){return function(n,r,u,a,o){return r(function(l){return t(new Be(n.value0,n.value1,!1),r,u,function(i,s){return r(function(d){return i.value2?a(i,s):e(n,r,u,a,o)})},o)})}}},Functor0:function(){return Hn}},N_=function(t){return function(e,n,r,u,a){var o=t(e);return a(o.value1,o.value0)}};var S_=function(t){var e=t.Monad0(),n=p(e.Bind1().Apply0().Functor0()),r=F(e.Applicative0()),u=Ae(t);return function(a){return function(o){var l=function(i){var s=!1,d;function m(y){var C=y(void 0);if(C instanceof gs){i=C.value0;return}if(C instanceof hs)return s=!0,n(Wt.create)(C.value0);if(C instanceof Cl)return s=!0,r(new Ut(new E(C.value1,C.value0)));throw new Error("Failed pattern match at Parsing (line 160, column 13 - line 166, column 32): "+[C.constructor.name])}for(;!s;)d=m(i);return d};return u(l)(function(i){return o(a,gs.create,hs.create,function(s,d){return new Cl(s,new st(d))},function(s,d){return new Cl(s,new ct(d))})})}}},Ds=N_(function(t){return new E(t.value1,t)});var P_={index:0,line:1,column:1},A_=function(t){var e=p(t.Monad0().Bind1().Apply0().Functor0()),n=S_(t);return function(r){return function(u){var a=new Be(r,P_,!1);return e(He)(n(a)(u))}}},W_=A_(Cc),ys=function(t){var e=W_(t);return function(n){return I_(e(n))}};var Ea=function(t){return function(e){return t.value2&&!e.value2?new Be(e.value0,e.value1,!0):e}},gn={apply:function(t){return function(e){return function(n,r,u,a,o){return r(function(l){return t(n,r,u,a,function(i,s){return r(function(d){var m=Ea(n)(i);return e(m,r,u,a,function(y,C){return r(function(b){return o(Ea(m)(y),s(C))})})})})})}}},Functor0:function(){return Hn}};var wr={pure:function(t){return function(e,n,r,u,a){return a(e,t)}},Apply0:function(){return gn}};var $n={bind:function(t){return function(e){return function(n,r,u,a,o){return r(function(l){return t(n,r,u,a,function(i,s){return r(function(d){var m=e(s);return m(Ea(n)(i),r,u,a,o)})})})}}},Apply0:function(){return gn}},U_=Yt($n);var Fs={Applicative0:function(){return wr},Bind1:function(){return $n}};var El={throwError:function(t){return function(e,n,r,u,a){return u(e,t)}},Monad0:function(){return Fs}},H_=Cn(El),$_=function(t){return function(e){return H_(new ze(t,e))}},br=function(t){return U_($_(t))(Ds)};var Ma={tailRecM:function(t){return function(e){return function(n,r,u,a,o){var l=L_("loop","Parsing",function(){return function(s,d,m){var y=t(d);return y(s,r,u,a,function(C,b){var et=Ea(s)(C);if(b instanceof Wt){var Dt=m===0;return Dt?r(function(ke){return l(288)(et,b.value0,30)}):l(290)(et,b.value0,m-1|0)}if(b instanceof Ut)return o(et,b.value0);throw new Error("Failed pattern match at Parsing (line 284, column 19 - line 292, column 46): "+[b.constructor.name])})}}),i=l(279);return i(n,e,30)}}},Monad0:function(){return Fs}};var Fe=function(){function t(){}return t.value=new t,t}(),we=function(){function t(e,n){this.value0=e,this.value1=n}return t.create=function(e){return function(n){return new t(e,n)}},t}();var Cr={foldr:function(t){return function(e){var n=function(){var u=function(a){return function(o){var l=a,i=!1,s;function d(m,y){if(y instanceof Fe)return i=!0,m;if(y instanceof we){l=new we(y.value0,m),o=y.value1;return}throw new Error("Failed pattern match at Data.List.Types (line 107, column 7 - line 107, column 23): "+[m.constructor.name,y.constructor.name])}for(;!i;)s=d(l,o);return s}};return u(Fe.value)}(),r=ft(Cr)(Q(t))(e);return function(u){return r(n(u))}}},foldl:function(t){var e=function(n){return function(r){var u=n,a=!1,o;function l(i,s){if(s instanceof Fe)return a=!0,i;if(s instanceof we){u=t(i)(s.value0),r=s.value1;return}throw new Error("Failed pattern match at Data.List.Types (line 111, column 12 - line 113, column 30): "+[s.constructor.name])}for(;!a;)o=l(u,r);return o}};return e},foldMap:function(t){var e=W(t.Semigroup0()),n=it(t);return function(r){return ft(Cr)(function(u){var a=e(u);return function(o){return a(r(o))}})(n)}}};var xs=dt(_n),mg=Tn(Rs);var _g=oe(gn);var gg=ci(gn);var Ls=function(t){return function(e){return xs(t)(mg(function(n){return br("Expected "+e(void 0))}))}},Ml=function(t){return function(e){return xs(t)(br("Expected "+e))}};var Tr=function(t){return function(e,n,r,u,a){return t(e,n,r,function(o,l){return u(new Be(o.value0,o.value1,e.value2),l)},a)}};var yo=function(t){return function(e){return function(n){return gg(_g(t)(n))(e)}}};var Ll=x($n),hg=Ae(Ma),Rg=dt(_n),xa=F(wr),Dg=al(Cr);var yg=function(t){return Ll(Q(hg)(Fe.value)(function(e){return Rg(Ll(t)(function(n){return xa(new Wt(new we(n,e)))}))(xa(new Ut(e)))}))(function(e){return xa(dr(Dg(e)))})},Il=function(t){return Ll(yg(t))(function(e){var n=_s(e);if(n instanceof f)return br("Expected at least 1");if(n instanceof c)return xa(n.value0);throw new Error("Failed pattern match at Parsing.Combinators.Array (line 55, column 3 - line 57, column 25): "+[n.constructor.name])})};var Nl=pn(Un),wg=Ur(Vo),bg=me(),Cg=Oe(po);var Tg=T(zo);var Sl=function(t){return function(e){return function(n){var r=Nl(e);if(r===10)return{index:t.index+1|0,line:t.line+1|0,column:1};if(r===13){var u=rs(0)(n);return u instanceof c&&Nl(u.value0)===10?{index:t.index+1|0,line:t.line,column:t.column}:{index:t.index+1|0,line:t.line+1|0,column:1}}return r===9?{index:t.index+1|0,line:t.line,column:(t.column+8|0)-wg(t.column-1|0)(8)|0}:{index:t.index+1|0,line:t.line,column:t.column+1|0}}}},Eg=function(t){return function(e){return function(n){var r=t,u=e,a=!1,o;function l(i,s,d){var m=ya(s);if(m instanceof f)return a=!0,i;if(m instanceof c){var y=function(){if(Yn(m.value0.tail))return Sl(i)(m.value0.head)(d);if(yt)return Sl(i)(m.value0.head)(m.value0.tail);throw new Error("Failed pattern match at Parsing.String (line 165, column 7 - line 167, column 52): ")}();r=y,u=m.value0.tail,n=d;return}throw new Error("Failed pattern match at Parsing.String (line 161, column 36 - line 168, column 38): "+[m.constructor.name])}for(;!a;)o=l(r,u,n);return o}}};var Pl=function(t){return ro(function(e){return function(n){return function(r){return function(u){return function(a){var o=ya(e.value0);if(o instanceof f)return u(e,new ze("Unexpected EOF",e.value1));if(o instanceof c){var l=Nl(o.value0.head),i=l<0||l>65535;if(i)return u(e,new ze("Expected Char",e.value1));var s=bg(Cg(l)),d=t(s);return d?a(new Be(o.value0.tail,Sl(e.value1)(o.value0.head)(o.value0.tail),!0),s):u(e,new ze("Predicate unsatisfied",e.value1))}throw new Error("Failed pattern match at Parsing.String (line 114, column 7 - line 129, column 75): "+[o.constructor.name])}}}}})};var Al=ro(function(t){return function(e){return function(n){return function(r){return function(u){var a=Yn(t.value0);return a?u(new Be(t.value0,t.value1,!0),void 0):r(t,new ze("Expected EOF",t.value1))}}}}}),Ns=function(t){return ro(function(e){return function(n){return function(r){return function(u){return function(a){var o=t(e.value0);if(o instanceof st)return u(e,new ze(o.value0,e.value1));if(o instanceof ct)return a(new Be(o.value0.remainder,Eg(e.value1)(o.value0.consumed)(o.value0.remainder),!Yn(o.value0.consumed)),o.value0.value);throw new Error("Failed pattern match at Parsing.String (line 286, column 7 - line 290, column 121): "+[o.constructor.name])}}}}})};var Wl=Ns(function(t){return new ct({value:t,consumed:t,remainder:""})});var Qt=function(t){return Ml(Pl(function(e){return e===t}))(Tg(t))};var Pg=T(au(zo));var Ag=ll(Ho);var As=function(t){return Ls(Pl(Q(Ag)(t)))(function(e){return"none of "+Pg(t)})};function La(t,e){var n={};for(var r in e)({}).hasOwnProperty.call(e,r)&&(n[r]=e[r]);for(var u in t)({}).hasOwnProperty.call(t,u)&&(n[u]=t[u]);return n}var Ia=function(){return function(){return function(t){return function(e){return La(t,e)}}}};var $g=T(Bo),Na=W(pe),Fo=Je(gt),Bs=ft(mt),$l=p(P),qg=no(Pr)(mt),qn=Ht(ie)(wt),Sa=Ou(mt)(Te),be=p(gt),Og=F(wt);var ee=p(Hn),Ce=dt(_n),Wa=oe(gn),Bg=Ia()(),zg=wf(wt)(ie),kg=q(k),Ul=eo(wt)(mt),zs=Ge(Hn);var Ua=function(){function t(){}return t.value=new t,t}(),ks=function(){function t(){}return t.value=new t,t}(),Ha=function(){function t(){}return t.value=new t,t}(),Js=function(){function t(){}return t.value=new t,t}();var Gs=function(t){return t.text},Jg=function(t){return function(e){return function(n){return{line:Rt(e.line)(n),width:e.width+t+n.width}}}},ql=function(t){return function(e){return function(n){var r=function(){if(n.weight instanceof Ua)return e.weight.normal;if(n.weight instanceof ks)return e.weight.bold;throw new Error("Failed pattern match at Template.Layer.Text.Markup (line 300, column 14 - line 302, column 37): "+[n.weight.constructor.name])}(),u=function(){if(n.style instanceof Ha)return e.style.normal;if(n.style instanceof Js)return e.style.italic;throw new Error("Failed pattern match at Template.Layer.Text.Markup (line 297, column 13 - line 299, column 39): "+[n.style.constructor.name])}();return Xn(t)(u+(" "+(r+(" "+($g(e.size)+("px "+e.name))))))}}},Vs=function(t){return function(e){return{text:e.text,position:e.position,maxWidth:e.maxWidth,fillStyle:e.fillStyle,align:e.align,baseline:e.baseline,lineHeight:e.lineHeight,emptyLineHeight:e.emptyLineHeight,letterSpacing:e.letterSpacing,dragOffset:e.dragOffset,context:e.context,font:{name:e.font.name,style:e.font.style,weight:e.font.weight,size:t}}}};var Gg=function(t){return Yn(Gs(t.fragment))},Vg=function(t){return ma(Gg)(t.word)},jg=function(t){return ma(Vg)(t.line)};var js=function(t){return function(e){var n=function(u){return function(a){var o=io(1)(t(a.text));if(o.before.length===1&&o.before[0]===""&&o.after.length===0)return{splits:u.splits,split:u.split};if(o.before.length===1&&o.after.length===0)return{splits:u.splits,split:Rt(u.split)({style:a.style,weight:a.weight,text:o.before[0]})};if(o.before.length===1&&o.before[0]===""){var l=io(vt(o.after)-1|0)(o.after);return l.after.length===1&&l.after[0]===""?{splits:Na(Rt(u.splits)(u.split))(Fo(l.before)(function(i){return[{style:a.style,weight:a.weight,text:i}]})),split:[]}:l.after.length===1?{splits:Na(Rt(u.splits)(u.split))(Fo(l.before)(function(i){return[{style:a.style,weight:a.weight,text:i}]})),split:[{style:a.style,weight:a.weight,text:l.after[0]}]}:{splits:u.splits,split:u.split}}if(o.before.length===1){var l=io(vt(o.after)-1|0)(o.after);return l.after.length===1&&l.after[0]===""?{splits:Na(Rt(u.splits)(Rt(u.split)({style:a.style,weight:a.weight,text:o.before[0]})))(Fo(l.before)(function(s){return[{style:a.style,weight:a.weight,text:s}]})),split:[]}:l.after.length===1?{splits:Na(Rt(u.splits)(Rt(u.split)({style:a.style,weight:a.weight,text:o.before[0]})))(Fo(l.before)(function(s){return[{style:a.style,weight:a.weight,text:s}]})),split:[{style:a.style,weight:a.weight,text:l.after[0]}]}:{splits:u.splits,split:u.split}}return{splits:u.splits,split:u.split}}},r=Bs(n)({splits:[],split:[]})(e);return Rt(r.splits)(r.split)}},Qs=js(wa),Ol=function(t){return{text:t,style:Ha.value,weight:Ua.value}};var Qg=function(t){return function(e){return{fragment:t,width:e}}},Ys=function(t){return function(e){return function(n){return At(t)(function(){return ql(t)(e)(n)(),mo(t)(n.text)()})}}},Bl=function(t){return function(e){return Ys(t)(e)({style:Ha.value,weight:Ua.value,text:" "})}},Yg=function(t){return function(e){return function(n){return At(t)(function(){return ql(t)(e)(n)(),Rl(t)(n.text)()})}}},Xg=function(t){return function(e){return function(n){return $l(function(){var r=Lt(0);return function(u){return r(qg(u))}}())(qn(Yg(t)(e))(n))}}},Kg=function(t){return function(e){return function(n){return $l(Qg(n))(Ys(t)(e)(n))}}},Xs=function(t){return function(e){return function(n){return function(){var u=qn(Kg(t)(e))(n)(),a=Sa(be(function(o){return o.width})(u));return{word:u,width:a}}}}},Us=function(t){return function(e){return function(n){var r=Qs(n);return function(){var a=qn(Xs(t)(e))(r)(),o=Bl(t)(e)(),l=o*tt(vt(a)-1|0)+Sa(be(function(i){return i.width})(a));return{line:a,width:l}}}}},Zg=function(t){return function(e){return function(n){return function(r){var u=Qs(r);return function(){var o=qn(Xs(t)(e))(u)(),l=Bl(t)(e)(),i=function(d){return function(m){if(d.value1.line.length===0)return new E(d.value0,{line:[m],width:m.width});var y=d.value1.width+l+m.width>n;return y?new E(Rt(d.value0)(d.value1),{line:[m],width:m.width}):new E(d.value0,Jg(l)(d.value1)(m))}},s=Bs(i)(new E([],{line:[],width:0}))(o);return s.value1.line.length===0?s.value0:Rt(s.value0)(s.value1)}}}}};var wo=function(){var t=ee(Fl);return function(e){return t(Il(e))}}(),bo=ee(function(t){return Ol(dl(t))})(wo(As(["_","*"]))),Hl=js(Dr),Hs=function(t){return function(e){return function(n){return function(r){return $l(cn)(qn(Zg(t)(e)(n))(Hl(r)))}}}},Pa=function(t){return{text:t.text,weight:t.weight,style:Js.value}},$s=Ce(Tr(yo(Qt("_"))(Qt("_"))(ee(Pa)(bo))))(Ce(bo)(Wa(Qt("_"))(ee(function(t){return Pa(Ol(t))})(Wl)))),th=function(t){return t.fragment},eh=function(t){return be(th)(t.word)},nh=function(t){return be(eh)(t.line)},qs=function(t){return function(e){return function(n){return function(r){return function(){var a=Xg(t)(e)(cn(Nf(nh)(r)))();return Fo(r)(function(o){return Bg(o)({height:function(){var l=jg(o);return l?n*e.size:a}()})})}}}}},zl=function(t){var e=t.Monad0().Applicative0(),n=F(e),r=Ct(t),u=nn(e);return{position:function(a){return n(a.position)},translate:function(a){return function(o){return n({text:o.text,maxWidth:o.maxWidth,fillStyle:o.fillStyle,font:o.font,align:o.align,baseline:o.baseline,lineHeight:o.lineHeight,emptyLineHeight:o.emptyLineHeight,letterSpacing:o.letterSpacing,dragOffset:o.dragOffset,context:o.context,position:or(a)(o.position)})}},containsPoint:function(a){return function(o){return r(At(o.context)(function(){Le(o.context)(o.fillStyle)(),nr(o.context)(o.baseline)(),rr(o.context)(o.align)(),bn(o.context)(o.letterSpacing)();var i=function(){if(o.maxWidth instanceof c)return Hs(o.context)(o.font)(o.maxWidth.value0)(o.text)();if(o.maxWidth instanceof f)return qn(Us(o.context)(o.font))(Hl(o.text))();throw new Error("Failed pattern match at Template.Layer.Text.Markup (line 204, column 15 - line 206, column 89): "+[o.maxWidth.constructor.name])}(),s=qs(o.context)(o.font)(o.emptyLineHeight)(i)(),d=Sa(be(function(C){return C.height})(s))+(o.lineHeight-1)*o.font.size*tt(vt(s)-1|0),m=Sn(0)(hr(function(C){return function(b){return C+b.height+(o.lineHeight-1)*o.font.size}})(0)(s)),y=zg(De(s)(m))(function(C){var b=function(){return o.baseline instanceof _e?o.position.y+C.value1:o.baseline instanceof Ie?o.position.y+C.value1-d:o.position.y+C.value1}();return Og(function(){if(o.align instanceof tr||o.align instanceof ue)return o.position.x<=a.x&&a.x<=o.position.x+C.value0.width&&b<=a.y&&a.y<=b+C.value0.height;if(o.align instanceof er||o.align instanceof Kn)return o.position.x-C.value0.width<=a.x&&a.x<=o.position.x&&b<=a.y&&a.y<=b+C.value0.height;if(o.align instanceof Zn)return o.position.x-C.value0.width/2<=a.x&&a.x<=o.position.x+C.value0.width/2&&b<=a.y&&a.y<=b+C.value0.height;throw new Error("Failed pattern match at Template.Layer.Text.Markup (line 222, column 14 - line 242, column 33): "+[o.align.constructor.name])}())})();return fo(kg)(y)}))}},dragStart:function(a){return function(o){return n({text:o.text,position:o.position,maxWidth:o.maxWidth,fillStyle:o.fillStyle,font:o.font,align:o.align,baseline:o.baseline,lineHeight:o.lineHeight,emptyLineHeight:o.emptyLineHeight,letterSpacing:o.letterSpacing,context:o.context,dragOffset:new c(a)})}},drag:function(a){return function(o){return u(zl(t))(o.dragOffset)(a)(o)}},dragEnd:function(a){return n({text:a.text,position:a.position,maxWidth:a.maxWidth,fillStyle:a.fillStyle,font:a.font,align:a.align,baseline:a.baseline,lineHeight:a.lineHeight,emptyLineHeight:a.emptyLineHeight,letterSpacing:a.letterSpacing,context:a.context,dragOffset:f.value})},draw:function(a){return function(o){return At(a)(function(){Le(a)(o.fillStyle)(),nr(a)(o.baseline)(),rr(a)(ue.value)(),bn(a)(o.letterSpacing)();var i=function(){if(o.maxWidth instanceof c)return Hs(a)(o.font)(o.maxWidth.value0)(o.text)();if(o.maxWidth instanceof f)return qn(Us(a)(o.font))(Hl(o.text))();throw new Error("Failed pattern match at Template.Layer.Text.Markup (line 257, column 15 - line 259, column 83): "+[o.maxWidth.constructor.name])}(),s=qs(a)(o.font)(o.emptyLineHeight)(i)(),d=Sa(be(function(y){return y.height})(s))+(o.lineHeight-1)*o.font.size*tt(vt(s)-1|0),m=Sn(0)(hr(function(y){return function(C){return y+C.height+(o.lineHeight-1)*o.font.size}})(0)(s));return Ul(De(s)(m))(function(y){var C=function(){return o.baseline instanceof _e?o.position.y+y.value1:o.baseline instanceof Ie?o.position.y+y.value1-d+y.value0.height:o.position.y+y.value1}(),b=function(){if(o.align instanceof tr||o.align instanceof ue)return o.position.x;if(o.align instanceof er||o.align instanceof Kn)return o.position.x-y.value0.width;if(o.align instanceof Zn)return o.position.x-y.value0.width/2;throw new Error("Failed pattern match at Template.Layer.Text.Markup (line 278, column 16 - line 283, column 57): "+[o.align.constructor.name])}();return function(){var Dt=Bl(a)(o.font)(),ke=Sn(0)(hr(function(Bt){return function(ut){return Bt+Dt+ut.width}})(0)(y.value0.line));return Ul(De(y.value0.line)(ke))(function(Bt){var ut=Sn(0)(hr(function(rt){return function(zt){return rt+zt.width}})(0)(Bt.value0.word));return Ul(De(Bt.value0.word)(ut))(function(rt){return function(){return ql(a)(o.font)(rt.value0.fragment)(),Or(a)(Gs(rt.value0.fragment))(b+Bt.value1+rt.value1)(C)()}})})()}})()})}}}},Aa=function(t){return{text:t.text,style:t.style,weight:ks.value}},rh=Ce(Tr(yo(Qt("*"))(Qt("*"))(ee(be(Aa))(wo($s)))))(Wa(Qt("*"))(Ce(zs([])(Al))(ee(be(Aa))(wo($s))))),Os=Ce(Tr(yo(Qt("*"))(Qt("*"))(ee(Aa)(bo))))(Ce(bo)(Wa(Qt("*"))(ee(function(t){return Aa(Ol(t))})(Wl)))),oh=Ce(Tr(yo(Qt("_"))(Qt("_"))(ee(be(Pa))(wo(Os)))))(Wa(Qt("_"))(Ce(zs([])(Al))(ee(be(Pa))(wo(Os))))),ah=ee(function(t){return cn(Fl(t))})(Il(Ce(oh)(Ce(rh)(ee(nl)(bo)))));var kl=function(t){return function(e){var n=ys(t)(ah);if(n instanceof ct)return{position:e.position,maxWidth:e.maxWidth,fillStyle:e.fillStyle,font:e.font,align:e.align,baseline:e.baseline,lineHeight:e.lineHeight,emptyLineHeight:e.emptyLineHeight,letterSpacing:e.letterSpacing,dragOffset:e.dragOffset,context:e.context,text:n.value0};if(n instanceof st)return{position:e.position,maxWidth:e.maxWidth,fillStyle:e.fillStyle,font:e.font,align:e.align,baseline:e.baseline,lineHeight:e.lineHeight,emptyLineHeight:e.emptyLineHeight,letterSpacing:e.letterSpacing,dragOffset:e.dragOffset,context:e.context,text:[{text:t,style:Ha.value,weight:Ua.value}]};throw new Error("Failed pattern match at Template.Layer.Text.Markup (line 179, column 37 - line 181, column 106): "+[n.constructor.name])}};var Zs=function(t){return t};var uh={mapLayerWrapper:function(t){return function(e){var n=p(e.Bind1().Apply0().Functor0());return function(r){return function(u){return n(Zs)(r(u))}}}}},lh=dc(uh);var td=function(t){var e=F(t.Applicative0());return function(n){var r=Ne(n),u=wn(n),a=Se(n);return{position:function(o){return r(o)},translate:function(){var o=lh(n)(t),l=en(n);return function(i){return o(l(i))}}(),containsPoint:function(o){return function(l){return u(o)(l)}},dragStart:j(e),drag:j(e),dragEnd:e,draw:function(o){return function(l){return a(o)(l)}}}}};var On=Zs;var Bn=function(t){return function(e){return function(){return e[t]}}},ch=Bn("URL"),fh=Bn("documentURI"),sh=Bn("origin"),dh=Bn("compatMode"),ph=Bn("characterSet"),vh=Bn("contentType");var mh=Bn("documentElement");function Jl(t){return function(e){return function(){return e.createElement(t)}}}function ed(t,e,n){return t==null?e:n(t)}var Z=function(t){return ed(t,f.value,c.create)};function nd(t,e,n,r){if(typeof window<"u"){var u=window[n];if(u!=null&&r instanceof u)return e(r)}for(var a=r;a!=null;){var o=Object.getPrototypeOf(a),l=o.constructor.name;if(l===n)return e(r);if(l==="Object")return t;a=o}return t}var h=function(t){return function(e){return nd(f.value,c.create,t,e)}};var $a=function(t){return function(e){return e[t]}},Fh=$a("namespaceURI"),wh=$a("prefix"),bh=$a("localName"),Ch=$a("tagName");function qa(t){return function(e){return function(n){return function(){n.setAttribute(t,e)}}}}function Gl(t){return function(){var e=t.getBoundingClientRect();return{top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.width,height:e.height,x:e.x,y:e.y}}}var Oa=function(t){return function(e){return function(){return e[t]}}},Eh=Oa("children"),Mh=Oa("firstElementChild"),xh=Oa("lastElementChild"),Lh=Oa("childElementCount");var ne=v;var fe=function(t){return function(e){return function(){return e[t]}}};var Ah=fe("baseURI"),Wh=fe("ownerDocument"),Uh=fe("parentNode"),Hh=fe("parentElement");var $h=fe("childNodes"),qh=fe("firstChild"),Oh=fe("lastChild"),Bh=fe("previousSibling"),zh=fe("nextSibling"),kh=fe("nodeValue");var Jh=fe("textContent");function od(t){return function(e){return function(){return e.getElementById(t)}}}var Kh=p(P),zn=function(t){var e=Kh(Z),n=od(t);return function(r){return e(n(r))}};function qt(t){return function(){return function(e){return t(e)()}}}function Ot(t){return function(e){return function(n){return function(r){return function(){return r.addEventListener(t,e,n)}}}}}var ad=v;function ud(t){return function(e){return e.item(t)}}var l0=p(lt),i0=function(t){var e=ud(t);return function(n){return Z(e(n))}},ld=function(t){var e=$e(t);return function(n){return e(function(r){return l0(Q(E.create)(r+1|0))(i0(r)(n))})(0)}};function Vl(t){return function(){return URL.createObjectURL(t)}}var jl=function(){return window};var kn=v;var id=v,cd=v;function fd(t,e,n){var r=Object.prototype.toString.call(n);return r.indexOf("[object HTML")===0&&r.indexOf("Element]")===r.length-8?e(n):t}function Ql(t){return function(){return t.click()}}function Yl(t){return function(){return t.offsetWidth}}function Xl(t){return function(){return t.offsetHeight}}var sd=v;var Kl=function(t){return fd(f.value,c.create,t)};function vd(t){return function(){return t.files}}function Er(t){return function(){return t.value}}var j0=p(P);var Ba=h("HTMLInputElement");var Zl=function(){var t=j0(Z);return function(e){return t(vd(e))}}();function za(t){return function(){return t.value}}var _d=h("HTMLTextAreaElement");function ti(t){return function(){return t.document}}function Co(t){return t.clientX}function To(t){return t.clientY}function Eo(t){return t.touches}var ka=h("TouchEvent");function gd(t,e){return e.item(t)}var Ja=function(t){return function(e){return Z(gd(t,e))}};function Mo(t){return t.clientX}function xo(t){return t.clientY}var Ga=h("MouseEvent");var se=F(wt),CR=Ve(je),Lo=_a(Pt)(Yo(P)),TR=Se(Lo),xr=Ne(Lo),hd=rn(Lo),ja=an(Lo),Rd=on(Lo),ni=Mn(St),Mr=x(ni),ei=Yt(ni),Va=sr(St),Jn=le(fr)(St),Dd=CR(ni),yd=Yt(Ze),Fd=F(Qr(St)),ER=ga(Pt),MR=Ia()(),Gn=$f(Pt),xR=ld(Zu),Lr=function(t){return function(e){return function(n){return function(){var u=Gl(sd(e))(),a=Yl(e)(),o=Xl(e)(),l=$r(t)(),i=qr(t)();return{x:(n.x-u.left)*l/a,y:(n.y-u.top)*i/o}}}}},re=function(t){return function(){var n=Hr(t.canvas)(),r=ic(t.canvas)();return vu(n)({x:0,y:0,width:r.width,height:r.height})(),At(n)(TR(n)(t.layer))()}},LR=function(t){return qt(function(e){var n=ka(e);if(n instanceof f)return se(void 0);if(n instanceof c){var r=Ja(0)(Eo(n.value0));if(r instanceof f)return re(t);if(r instanceof c)return function(){var a=xr(t.layer)(),o=Lr(t.canvas)(t.canvasHtmlElement)({x:tt(Co(r.value0)),y:tt(To(r.value0))})(),l={offsetX:o.x-a.x,offsetY:o.y-a.y};return hd(l)(t.layer)(),re(t)()};throw new Error("Failed pattern match at Template.Main (line 199, column 22 - line 209, column 22): "+[r.constructor.name])}throw new Error("Failed pattern match at Template.Main (line 197, column 63 - line 209, column 22): "+[n.constructor.name])})},IR=function(t){return qt(function(e){var n=ka(e);if(n instanceof f)return se(void 0);if(n instanceof c){var r=Ja(0)(Eo(n.value0));if(r instanceof f)return re(t);if(r instanceof c)return function(){var a=xr(t.layer)(),o=Lr(t.canvas)(t.canvasHtmlElement)({x:tt(Co(r.value0)),y:tt(To(r.value0))})(),l={translateX:o.x-a.x,translateY:o.y-a.y};return ja(l)(t.layer)(),re(t)()};throw new Error("Failed pattern match at Template.Main (line 227, column 22 - line 237, column 22): "+[r.constructor.name])}throw new Error("Failed pattern match at Template.Main (line 225, column 62 - line 237, column 22): "+[n.constructor.name])})},NR=function(t){return qt(function(e){var n=ka(e);if(n instanceof f)return se(void 0);if(n instanceof c){var r=Ja(0)(Eo(n.value0));if(r instanceof f)return re(t);if(r instanceof c)return function(){var a=xr(t.layer)(),o=Lr(t.canvas)(t.canvasHtmlElement)({x:tt(Co(r.value0)),y:tt(To(r.value0))})(),l={translateX:o.x-a.x,translateY:o.y-a.y};return ja(l)(t.layer)(),Rd(t.layer)(),re(t)()};throw new Error("Failed pattern match at Template.Main (line 256, column 22 - line 267, column 22): "+[r.constructor.name])}throw new Error("Failed pattern match at Template.Main (line 254, column 61 - line 267, column 22): "+[n.constructor.name])})},wd=function(t){return function(e){return En(Mr(ei(Va)(Jn(lc(t))))(function(n){return Dd(Jn(uc(n)(e)))(function(){return Mr(Jn(yd(ti)(jl)))(function(r){return Mr(ei(Va)(Jn(zn(t)(kn(r)))))(function(u){return Mr(Va(Kl(u)))(function(a){return Fd({canvas:n,canvasElement:u,canvasHtmlElement:a,document:r})})})})})}))}},bd=function(t){var e=ge(t);return function(n){return function(r){return function(){var a=ER(e(r))();return MR(n)({layer:a})}}}},SR=function(t){return qt(function(e){var n=Ga(e);if(n instanceof f)return se(void 0);if(n instanceof c)return function(){var u=xr(t.layer)(),a=Lr(t.canvas)(t.canvasHtmlElement)({x:tt(Mo(n.value0)),y:tt(xo(n.value0))})(),o={translateX:a.x-u.x,translateY:a.y-u.y};return ja(o)(t.layer)(),Rd(t.layer)(),re(t)()};throw new Error("Failed pattern match at Template.Main (line 240, column 60 - line 251, column 20): "+[n.constructor.name])})},PR=function(t){return qt(function(e){var n=Ga(e);if(n instanceof f)return se(void 0);if(n instanceof c)return function(){var u=xr(t.layer)(),a=Lr(t.canvas)(t.canvasHtmlElement)({x:tt(Mo(n.value0)),y:tt(xo(n.value0))})(),o={translateX:a.x-u.x,translateY:a.y-u.y};return ja(o)(t.layer)(),re(t)()};throw new Error("Failed pattern match at Template.Main (line 212, column 62 - line 222, column 20): "+[n.constructor.name])})},AR=function(t){return qt(function(e){var n=Ga(e);if(n instanceof f)return se(void 0);if(n instanceof c)return function(){var u=xr(t.layer)(),a=Lr(t.canvas)(t.canvasHtmlElement)({x:tt(Mo(n.value0)),y:tt(xo(n.value0))})(),o={offsetX:a.x-u.x,offsetY:a.y-u.y};return hd(o)(t.layer)(),re(t)()};throw new Error("Failed pattern match at Template.Main (line 184, column 62 - line 194, column 20): "+[n.constructor.name])})},WR=function(t){return qt(function(e){return re(t)})};var Cd=function(t){return function(e){return function(n){return En(function(){var r=kn(n.document);return Mr(ei(Va)(Jn(zn(t)(r))))(function(u){return Mr(Jn(qt(function(a){return function(){var l=fu(n.canvas)(),i=Jl("a")(cd(n.document))();qa("href")(l)(i)(),qa("download")(e)(i)();var s=Kl(i);if(s instanceof c)return Ql(s.value0)();throw new Error("Failed pattern match at Template.Main (line 149, column 9 - line 149, column 53): "+[s.constructor.name])}})))(function(a){return Dd(Jn(Ot("click")(a)(!1)(ne(u))))(function(){return Fd(u)})})})}())}}},UR=function(t){return function(e){return function(n){return function(r){return function(){var a=zn(e)(kn(t.document))();if(a instanceof c){var o=_d(a.value0);if(o instanceof c){var l=za(o.value0)();Gn(r(l))(n)();var i=qt(function(s){return function(){var m=za(o.value0)();return Gn(r(m))(n)()}})();return Ot("input")(i)(!1)(ne(a.value0))()}throw new Error("Failed pattern match at Template.Main (line 303, column 7 - line 303, column 55): "+[o.constructor.name])}throw new Error("Failed pattern match at Template.Main (line 302, column 3 - line 302, column 79): "+[a.constructor.name])}}}}},ri=function(t){return function(e){return function(n){return function(r){return UR(t)(e)(n)(function(u){return function(a){return function(o){return se(a(o))}}(r(u))})}}}};var Td=function(t){return function(e){return function(n){return function(r){return function(){var a=zn(e)(kn(t.document))();if(a instanceof c){var o=Ba(a.value0);if(o instanceof c){var l=Er(o.value0)();(function(){var s=Ra(l);if(s instanceof c)return Gn(r(s.value0))(n)();if(s instanceof f)return void 0;throw new Error("Failed pattern match at Template.Main (line 354, column 3 - line 356, column 25): "+[s.constructor.name])})();var i=qt(function(s){return function(){var m=Er(o.value0)(),y=Ra(m);if(y instanceof c)return Gn(r(y.value0))(n)();if(y instanceof f)return void 0;throw new Error("Failed pattern match at Template.Main (line 360, column 5 - line 362, column 27): "+[y.constructor.name])}})();return Ot("input")(i)(!1)(ne(a.value0))()}throw new Error("Failed pattern match at Template.Main (line 351, column 7 - line 351, column 52): "+[o.constructor.name])}throw new Error("Failed pattern match at Template.Main (line 350, column 3 - line 350, column 79): "+[a.constructor.name])}}}}},HR=function(t){return function(e){return function(n){return function(r){return Td(t)(e)(n)(function(u){return function(a){return function(o){return se(a(o))}}(r(u))})}}}};var Ed=function(t){var e=sc(t);return function(n){return function(r){return function(u){return function(){var o=un(1)();return Td(n)(r)(u)(function(l){return function(i){return function(){var d=Vt(o)();return ar(l)(o)(),e(l/d)(i)()}}})()}}}}},Md=function(t){return function(e){return function(n){return HR(t)(e)(n)(Vs)}}},$R=function(t){return function(e){return function(n){return function(r){return function(){var a=zn(e)(kn(t.document))();if(a instanceof c){var o=Ba(a.value0);if(o instanceof c){var l=Er(o.value0)();Gn(r(l))(n)();var i=qt(function(s){return function(){var m=Er(o.value0)();return Gn(r(m))(n)()}})();return Ot("input")(i)(!1)(ne(a.value0))()}throw new Error("Failed pattern match at Template.Main (line 287, column 7 - line 287, column 52): "+[o.constructor.name])}throw new Error("Failed pattern match at Template.Main (line 286, column 3 - line 286, column 79): "+[a.constructor.name])}}}}},xd=function(t){return function(e){return function(n){return function(r){return $R(t)(e)(n)(function(u){return function(a){return function(o){return se(a(o))}}(r(u))})}}}},qR=function(t){return function(e){return function(n){return function(r){return function(){var a=zn(e)(kn(t.document))();if(a instanceof c){var o=Ba(a.value0);if(o instanceof c){var l=function(d){if(d instanceof f)return se(void 0);if(d instanceof c){var m=ye(xR(d.value0))(0);if(m instanceof f)return se(void 0);if(m instanceof c)return Gn(r(m.value0))(n);throw new Error("Failed pattern match at Template.Main (line 390, column 24 - line 392, column 54): "+[m.constructor.name])}throw new Error("Failed pattern match at Template.Main (line 388, column 26 - line 392, column 54): "+[d.constructor.name])},i=Zl(o.value0)();l(i)();var s=qt(function(d){return yd(l)(Zl(o.value0))})();return Ot("change")(s)(!1)(ne(a.value0))()}throw new Error("Failed pattern match at Template.Main (line 385, column 7 - line 385, column 52): "+[o.constructor.name])}throw new Error("Failed pattern match at Template.Main (line 384, column 3 - line 384, column 79): "+[a.constructor.name])}}}}};var OR=function(t){return function(e){return function(n){return function(r){return qR(t)(e)(n)(function(u){return r(ad(u))})}}}};var Ld=function(t){return function(e){return function(n){return function(r){return OR(t)(e)(n)(function(u){return function(a){return function(){var l=Vl(u)();return r(l)(a)()}}})}}}},Id=function(t){return function(){var n=AR(t)(),r=PR(t)(),u=SR(t)(),a=LR(t)(),o=IR(t)(),l=NR(t)(),i=WR(t)();return Ot("mousedown")(n)(!1)(ne(t.canvasElement))(),Ot("mousemove")(r)(!1)(ne(t.canvasElement))(),Ot("mouseup")(u)(!1)(ne(t.canvasElement))(),Ot("touchstart")(a)(!1)(ne(t.canvasElement))(),Ot("touchmove")(o)(!1)(ne(t.canvasElement))(),Ot("touchend")(l)(!1)(ne(t.canvasElement))(),Ot("input")(i)(!1)(id(t.document))()}};var Nd=Rc(Pt),zR=Yt(Ze),Qa=ga(Pt),kR=Dc(Pt),JR=yc(Pt),GR=Ed(hc(Pt)),Ka=td(St),Ad=wu(Pt),Sd=ge(Ka(Ad)),oi=_a(Pt),VR=ge(Ka(oi(Dl(Pt)))),Pd=ge(Ka(oi(zl(Pt)))),jR=ge(oi(Ad)),QR=ge(Ka(cl(wt))),YR=bd(Af(St)),bt=2;var XR=function(){return{width:1080,height:1080*5/4}}(),ai=Nt(Sr()(Rn({reflectSymbol:function(){return"height"}})()(Rn({reflectSymbol:function(){return"width"}})()(Nr)(Te))(Te)))({width:bt,height:bt})(XR),Ya=function(){return ai.height}(),Xa=function(){return ai.width}(),Wd=_t(P)(function(){var e=wd("canvas")(ai)();if(e instanceof c){var n=Hr(e.value0.canvas)(),r=Nd("./img/guillotine2x.png")({x:60*bt,y:60*bt})({scaleX:(1560+2*60)/1560,scaleY:1})(Br.value)(),u=Nd("./img/jacobinlogo80x200.png")({x:Xa-100*bt,y:Ya-160*bt})({scaleX:1,scaleY:1})(Br.value)(),a=zR(Qa)(kR({x:0,y:0})({scaleX:1,scaleY:1})(Br.value))();Ld(e.value0)("image")(a)(JR)(),GR(e.value0)("image-size")(a)();var o=Qa({text:[],lineHeight:1.1,position:{x:60*bt,y:150*bt},fillStyle:"#f00",font:{name:"Oswald",style:{normal:"normal",italic:"italic"},weight:{normal:"500",bold:"700"},size:90*bt},align:ue.value,baseline:_e.value,letterSpacing:"-3px",emptyLineHeight:.25,dragOffset:f.value,maxWidth:new c(Xa-2*60*bt),context:n})();ri(e.value0)("bodytext")(o)(kl)(),Md(e.value0)("bodytext-size")(o)();var l=Qa({text:"AUTEUR",lineHeight:.95,position:{x:60*bt,y:Ya-160*bt},fillStyle:"#f00",fontName:"Oswald",fontStyle:"normal",fontWeight:"400",fontSize:50*bt,align:ue.value,baseline:Ie.value,letterSpacing:"-3px",dragOffset:f.value,maxWidth:f.value,context:n})();xd(e.value0)("author")(l)(function(y){return fs(Go(y))})();var i=Qa({text:[],lineHeight:.9,position:{x:60*bt,y:Ya-160*bt},maxWidth:new c(Xa-4*60*bt),fillStyle:"#f00",font:{name:"Oswald",style:{normal:"normal",italic:"italic"},weight:{normal:"700",bold:"700"},size:50*bt},align:ue.value,baseline:_e.value,letterSpacing:"-2px",emptyLineHeight:.25,dragOffset:f.value,context:n})();ri(e.value0)("title")(i)(kl)();var s=Wf([Sd(On(r)),Sd(On(u)),VR(On(l)),Pd(On(i)),Pd(On(o)),jR(a),QR(On(Uf({x:0,y:0,width:Xa,height:Ya})("#fff")))]),d=YR(e.value0)(s)();re(d)(),Id(d)();var m=Cd("download")("jacobin-tekst.png")(d)();if(m instanceof c)return void 0;throw new Error("Failed pattern match at Jacobin.TextSlide (line 138, column 3 - line 138, column 69): "+[m.constructor.name])}throw new Error("Failed pattern match at Jacobin.TextSlide (line 43, column 3 - line 43, column 72): "+[e.constructor.name])});Wd();})();

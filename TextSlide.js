/* Generated by Spago v0.93.44 */
(()=>{var Yl=function(t){return function(e){for(var n=e.length,r=new Array(n),u=0;u<n;u++)r[u]=t(e[u]);return r}};var Mo={compose:function(t){return function(e){return function(n){return t(e(n))}}}};var q=function(t){return t.identity},k={identity:function(t){return t},Semigroupoid0:function(){return Mo}};var Ft=!0;var K=function(t){return function(e){return function(n){return t(n)(e)}}},j=function(t){return function(e){return t}};var J=function(){function t(){}return t.value=new t,t}();var s=function(t){return t.map},qe=function(t){var e=s(t);return function(n){return function(r){return e(r)(n)}}},gt=function(t){return s(t)(j(void 0))};var Oe=function(t){var e=s(t);return function(n){return e(j(n))}};var ht={map:Yl};var Xl=function(t){return function(e){return t.length===0?e:e.length===0?t:t.concat(e)}};var qt=function(t){return t.reflectSymbol};var ee=function(t){return function(e){return e[t]}},Qt=function(t){return function(e){return function(n){var r={};for(var u in n)({}).hasOwnProperty.call(n,u)&&(r[u]=n[u]);return r[t]=e,r}}};var se={append:Xl};var W=function(t){return t.append};var dt=function(t){return t.alt};var Zl=function(t){return function(e){for(var n=t.length,r=e.length,u=new Array(n*r),a=0,o=0;o<n;o++)for(var l=t[o],c=0;c<r;c++)u[a++]=l(e[c]);return u}};var wd=q(k);var Lo={apply:Zl,Functor0:function(){return ht}},at=function(t){return t.apply},ti=function(t){var e=at(t),n=s(t.Functor0());return function(r){return function(u){return e(n(j)(r))(u)}}},ne=function(t){var e=at(t),n=s(t.Functor0());return function(r){return function(u){return e(n(j(wd))(r))(u)}}};var F=function(t){return t.pure};var Mr=function(t){var e=at(t.Apply0()),n=F(t);return function(r){return function(u){return e(n(r))(u)}}};var ni="\uFFFF",ri="\0",Cd=Number.POSITIVE_INFINITY,Td=Number.NEGATIVE_INFINITY;var Xa=function(t){return function(e){return function(n){return function(r){return function(u){return r<u?t:r===u?e:n}}}}};var oi=Xa,ai=Xa;var ui=Xa;var Ka=function(t){return function(e){return t===e}};var li=Ka,ii=Ka,ci=Ka;var fi={eq:ii},Io={eq:li},No={eq:ci};var z=function(t){return t.eq};var H=function(){function t(){}return t.value=new t,t}(),S=function(){function t(){}return t.value=new t,t}(),Q=function(){function t(){}return t.value=new t,t}();var $n={eq:function(t){return function(e){return t instanceof H&&e instanceof H||t instanceof S&&e instanceof S||t instanceof Q&&e instanceof Q}}};var si=function(t){return function(e){return t-e|0}};var di=function(t){return function(e){return t+e|0}},pi=function(t){return function(e){return t*e|0}},vi=function(t){return function(e){return t+e}},mi=function(t){return function(e){return t*e}};var _i=function(t){return t.zeroRecord},Yt=function(t){return t.zero};var So={addRecord:function(t){return function(e){return function(n){return{}}}},mulRecord:function(t){return function(e){return function(n){return{}}}},oneRecord:function(t){return function(e){return{}}},zeroRecord:function(t){return function(e){return{}}}};var fn={add:vi,zero:0,mul:mi,one:1},Po={add:di,zero:0,mul:pi,one:1},gi=function(t){return t.oneRecord},de=function(t){return t.one},hi=function(t){return t.mulRecord},Ot=function(t){return t.mul},Ri=function(t){return t.addRecord},Ao=function(){return function(t){return{add:Ri(t)(J.value),mul:hi(t)(J.value),one:gi(t)(J.value)(J.value),zero:_i(t)(J.value)(J.value)}}},Bt=function(t){return t.add};var xr=function(t){var e=qt(t);return function(){return function(n){var r=Ri(n),u=hi(n),a=gi(n),o=_i(n);return function(l){var c=Bt(l),d=Ot(l),p=de(l),g=Yt(l);return{addRecord:function(y){return function(C){return function(b){var tt=r(J.value)(C)(b),yt=e(J.value),$e=Qt(yt),Ht=ee(yt);return $e(c(Ht(C))(Ht(b)))(tt)}}},mulRecord:function(y){return function(C){return function(b){var tt=u(J.value)(C)(b),yt=e(J.value),$e=Qt(yt),Ht=ee(yt);return $e(d(Ht(C))(Ht(b)))(tt)}}},oneRecord:function(y){return function(C){var b=a(J.value)(J.value),tt=e(J.value),yt=Qt(tt);return yt(p)(b)}},zeroRecord:function(y){return function(C){var b=o(J.value)(J.value),tt=e(J.value),yt=Qt(tt);return yt(g)(b)}}}}}}};var Di={sub:si,Semiring0:function(){return Po}};var Lr=function(){return{compare:ai(H.value)(Q.value)(S.value),Eq0:function(){return fi}}}(),zt=function(){return{compare:oi(H.value)(Q.value)(S.value),Eq0:function(){return Io}}}(),Uo=function(){return{compare:ui(H.value)(Q.value)(S.value),Eq0:function(){return No}}}();var $=function(t){return t.compare};var Fe=function(t){return t.top};var Ir={top:ni,bottom:ri,Ord0:function(){return Uo}};var Be=function(t){return t.bottom};var wi=function(t){var e=t.toString();return isNaN(e+".0")?e:e+".0"},bi=function(t){var e=t.charCodeAt(0);if(e<32||e===127){switch(t){case"\x07":return"'\\a'";case"\b":return"'\\b'";case"\f":return"'\\f'";case`
`:return"'\\n'";case"\r":return"'\\r'";case"	":return"'\\t'";case"\v":return"'\\v'"}return"'\\"+e.toString(10)+"'"}return t==="'"||t==="\\"?"'\\"+t+"'":"'"+t+"'"};var Ci=function(t){return function(e){for(var n=[],r=0,u=e.length;r<u;r++)n[r]=t(e[r]);return"["+n.join(",")+"]"}};var Ho={show:wi};var $o={show:bi};var T=function(t){return t.show},tu=function(t){return{show:Ci(T(t))}};var Od=q(k),f=function(){function t(){}return t.value=new t,t}(),i=function(){function t(e){this.value0=e}return t.create=function(e){return new t(e)},t}();var Xt=function(t){return function(e){return function(n){if(n instanceof f)return t;if(n instanceof i)return e(n.value0);throw new Error("Failed pattern match at Data.Maybe (line 237, column 1 - line 237, column 51): "+[t.constructor.name,e.constructor.name,n.constructor.name])}}},On=Xt(!0)(j(!1));var lt={map:function(t){return function(e){return e instanceof i?new i(t(e.value0)):f.value}}};var xt=function(t){return Xt(t)(Od)},ze=function(){return function(t){if(t instanceof i)return t.value0;throw new Error("Failed pattern match at Data.Maybe (line 288, column 1 - line 288, column 46): "+[t.constructor.name])}};var Bo=function(t){return t.toUpperCase()};var sn=function(t){return function(e){return e.join(t)}};var Bn=function(t){return t===""};var Mi=function(t){return function(){return t}},xi=function(t){return function(e){return function(){return e(t())()}}};var Li=typeof Array.prototype.flatMap=="function"?function(t){return function(e){return t.flatMap(e)}}:function(t){return function(e){for(var n=[],r=t.length,u=0;u<r;u++)for(var a=e(t[u]),o=a.length,l=0;l<o;l++)n.push(a[l]);return n}};var pn=function(t){return t.discard};var ko={bind:Li,Apply0:function(){return Lo}},x=function(t){return t.bind},pe=function(t){return K(x(t))};var vn={discard:function(t){return x(t)}};var Ni=function(t){var e=x(t.Bind1()),n=F(t.Applicative0());return function(r){return function(u){return e(u)(function(a){return n(r(a))})}}},mn=function(t){var e=x(t.Bind1()),n=F(t.Applicative0());return function(r){return function(u){return e(r)(function(a){return e(u)(function(o){return n(a(o))})})}}};var Si=function(t){return Math.min(Math.abs(t),2147483647)},Pi=function(t){return function(e){return e===0?0:e>0?Math.floor(t/e):-Math.floor(t/-e)}},Ai=function(t){return function(e){if(e===0)return 0;var n=Math.abs(e);return(t%n+n)%n}};var Wi={Ring0:function(){return Di}};var Sr=function(t){return t.mod};var Jo={degree:Si,div:Pi,mod:Ai,CommutativeRing0:function(){return Wi}};var it=function(t){return t.mempty};var Hi=function(t,e,n){var r=0,u;return function(a){if(r===2)return u;if(r===1)throw new ReferenceError(t+" was needed before it finished initializing (module "+e+", line "+a+")",e,a);return r=1,u=n(),r=2,u}},It={Applicative0:function(){return bt},Bind1:function(){return zn}},zn={bind:xi,Apply0:function(){return ru(0)}},bt={pure:Mi,Apply0:function(){return ru(0)}},$i=Hi("functorEffect","Effect",function(){return{map:Mr(bt)}}),ru=Hi("applyEffect","Effect",function(){return{apply:mn(It),Functor0:function(){return $i(0)}}}),P=$i(20),qi=ru(23);var re={liftEffect:q(k),Monad0:function(){return It}},Nt=function(t){return t.liftEffect};function Oi(t){return function(e){return function(n){return function(){var r=new Image;r.src=t,r.addEventListener("load",function(){n(r)()},!1),r.addEventListener("error",function(){e()},!1)}}}}function Bi(t,e,n){return function(){var r=document.getElementById(t);return r&&r instanceof HTMLCanvasElement?e(r):n}}function Pr(t){return function(){return t.getContext("2d")}}function Ar(t){return function(){return t.width}}function Wr(t){return function(){return t.height}}function ou(t){return function(e){return function(){t.width=e}}}function au(t){return function(e){return function(){t.height=e}}}function uu(t){return function(){return t.toDataURL()}}function Ce(t){return function(e){return function(){t.fillStyle=e}}}function zi(t){return function(e){return function(){t.globalCompositeOperation=e}}}function lu(t){return function(){t.beginPath()}}function iu(t){return function(){t.fill()}}function cu(t){return function(e){return function(){t.rect(e.x,e.y,e.width,e.height)}}}function fu(t){return function(e){return function(){t.clearRect(e.x,e.y,e.width,e.height)}}}function ki(t){return function(e){return function(){t.textAlign=e}}}function Ji(t){return function(e){return function(){t.textBaseline=e}}}function kn(t){return function(e){return function(){t.font=e}}}function Ur(t){return function(e){return function(n){return function(r){return function(){t.fillText(e,n,r)}}}}}function su(t){return function(){t.save()}}function du(t){return function(){t.restore()}}function pu(t){return function(e){return function(n){return function(r){return function(u){return function(a){return function(){t.drawImage(e,n,r,u,a)}}}}}}}var st=function(){function t(e){this.value0=e}return t.create=function(e){return new t(e)},t}(),ct=function(){function t(e){this.value0=e}return t.create=function(e){return new t(e)},t}();var rp=ne(qi),ve=function(){function t(){}return t.value=new t,t}(),op=function(){function t(){}return t.value=new t,t}(),ap=function(){function t(){}return t.value=new t,t}(),up=function(){function t(){}return t.value=new t,t}(),lp=function(){function t(){}return t.value=new t,t}(),Te=function(){function t(){}return t.value=new t,t}(),oe=function(){function t(){}return t.value=new t,t}(),Jn=function(){function t(){}return t.value=new t,t}(),Gn=function(){function t(){}return t.value=new t,t}(),Vn=function(){function t(){}return t.value=new t,t}(),jn=function(){function t(){}return t.value=new t,t}();var Vo=function(){function t(){}return t.value=new t,t}(),ip=function(){function t(){}return t.value=new t,t}(),cp=function(){function t(){}return t.value=new t,t}(),fp=function(){function t(){}return t.value=new t,t}(),sp=function(){function t(){}return t.value=new t,t}(),dp=function(){function t(){}return t.value=new t,t}(),pp=function(){function t(){}return t.value=new t,t}(),vp=function(){function t(){}return t.value=new t,t}(),mp=function(){function t(){}return t.value=new t,t}(),_p=function(){function t(){}return t.value=new t,t}(),gp=function(){function t(){}return t.value=new t,t}(),hp=function(){function t(){}return t.value=new t,t}(),Rp=function(){function t(){}return t.value=new t,t}(),Dp=function(){function t(){}return t.value=new t,t}(),yp=function(){function t(){}return t.value=new t,t}(),Fp=function(){function t(){}return t.value=new t,t}(),wp=function(){function t(){}return t.value=new t,t}(),bp=function(){function t(){}return t.value=new t,t}(),Cp=function(){function t(){}return t.value=new t,t}(),Tp=function(){function t(){}return t.value=new t,t}(),Ep=function(){function t(){}return t.value=new t,t}(),Mp=function(){function t(){}return t.value=new t,t}(),xp=function(){function t(){}return t.value=new t,t}(),Lp=function(){function t(){}return t.value=new t,t}(),Ip=function(){function t(){}return t.value=new t,t}(),Np=function(){function t(){}return t.value=new t,t}(),St=function(t){return function(e){return function(){su(t)();var r=e();return du(t)(),r}}},Qi=function(t){return function(e){return Oi(t)(e(f.value))(function(n){return e(i.create(n))})}};var Qn=function(t){return function(e){var n=function(r){if(r instanceof ve)return"top";if(r instanceof op)return"hanging";if(r instanceof ap)return"middle";if(r instanceof up)return"alphabetic";if(r instanceof lp)return"ideographic";if(r instanceof Te)return"bottom";throw new Error("Failed pattern match at Graphics.Canvas (line 577, column 5 - line 577, column 33): "+[r.constructor.name])};return Ji(t)(n(e))}},Yn=function(t){return function(e){var n=function(r){if(r instanceof oe)return"left";if(r instanceof Jn)return"right";if(r instanceof Gn)return"center";if(r instanceof Vn)return"start";if(r instanceof jn)return"end";throw new Error("Failed pattern match at Graphics.Canvas (line 531, column 5 - line 531, column 32): "+[r.constructor.name])};return ki(t)(n(e))}};var Yi=function(t){return function(e){var n=function(r){if(r instanceof Vo)return"source-over";if(r instanceof ip)return"source-in";if(r instanceof cp)return"source-out";if(r instanceof fp)return"source-atop";if(r instanceof sp)return"destination-over";if(r instanceof dp)return"destination-in";if(r instanceof pp)return"destination-out";if(r instanceof vp)return"destination-atop";if(r instanceof mp)return"lighter";if(r instanceof _p)return"copy";if(r instanceof gp)return"xor";if(r instanceof hp)return"multiply";if(r instanceof Rp)return"screen";if(r instanceof Dp)return"overlay";if(r instanceof yp)return"darken";if(r instanceof Fp)return"lighten";if(r instanceof wp)return"color-dodge";if(r instanceof bp)return"color-burn";if(r instanceof Cp)return"hard-light";if(r instanceof Tp)return"soft-light";if(r instanceof Ep)return"difference";if(r instanceof Mp)return"exclusion";if(r instanceof xp)return"hue";if(r instanceof Lp)return"saturation";if(r instanceof Ip)return"color";if(r instanceof Np)return"luminosity";throw new Error("Failed pattern match at Graphics.Canvas (line 326, column 5 - line 326, column 45): "+[r.constructor.name])};return zi(t)(n(e))}},Xi=function(t){return function(e){return rp(au(t)(e.height))(ou(t)(e.width))}},Ki=function(t){return Bi(t,i.create,f.value)},Zi=function(t){return function(){var n=Ar(t)(),r=Wr(t)();return{width:n,height:r}}},tc=function(t){return function(e){return function(){lu(t)();var r=e();return iu(t)(),r}}};var jo=function(t){return function(e){return e(function(n){return t(n)})}},Xn=function(t){return function(e){return{x:e.x+t.translateX,y:e.y+t.translateY}}};var Ve=function(t){return t.translate},ec=function(t){return function(e){return{width:e.width*t.scaleX,height:e.height*t.scaleY}}};var Ee=function(t){return t.position},Me=function(t){return function(e){return function(n){return n(t)(e)}}},Sp=function(t){var e=s(t);return function(n){return jo(function(r){var u=e(Me(r)),a=n(r);return function(o){return u(a(o))}})}};var nc=function(t){return t.mapLayerWrapper},xe=function(t){return t.draw},Pp=function(t){var e=Ve(t);return function(n){return function(r){return function(u){var a={translateX:r.translateX-n.offsetX,translateY:r.translateY-n.offsetY};return e(a)(u)}}}},je=function(t){var e=F(t);return function(n){var r=Pp(n);return function(u){return function(a){return function(o){if(u instanceof f)return e(o);if(u instanceof i)return r(u.value0)(a)(o);throw new Error("Failed pattern match at Template.Layer (line 61, column 1 - line 61, column 115): "+[u.constructor.name,a.constructor.name,o.constructor.name])}}}}},Qe=function(t){return t.dragStart},Ye=function(t){return t.dragEnd},Xe=function(t){return t.drag},_n=function(t){return t.containsPoint},Qo=function(t){var e=Sp(t);return{position:jo(function(n){return Ee(n)}),translate:function(n){return e(function(r){return Ve(r)(n)})},containsPoint:function(n){return jo(function(r){return _n(r)(n)})},draw:function(n){return jo(function(r){return xe(r)(n)})},dragStart:function(n){return e(function(r){return Qe(r)(n)})},drag:function(n){return e(function(r){return Xe(r)(n)})},dragEnd:e(function(n){return Ye(n)})}};var rc=function(t){return function(){return{value:t}}};var Kt=function(t){return function(){return t.value}},oc=function(t){return function(e){return function(){var n=t(e.value);return e.value=n.state,n.value}}},Hr=function(t){return function(e){return function(){e.value=t}}};var Wp=gt(P),Kn=rc,Up=oc,ac=function(t){return Up(function(e){var n=t(e);return{state:n,value:n}})},uc=function(t){return function(e){return Wp(ac(t)(e))}};var qr=t=>t.width,Or=t=>t.height;var gn=t=>e=>()=>t.letterSpacing=e;var lc=function(t){return function(e){return function(n){return function(r){return pu(t)(e)(n.x)(n.y)(r.width)(r.height)}}}};var ic=function(t){return{width:qr(t),height:Or(t)}};var _u=function(t){var e=t.Monad0(),n=e.Applicative0(),r=F(n),u=x(e.Bind1()),a=Nt(t),o=je(n);return{position:function(l){return r(l.position)},translate:function(l){return function(c){return r({image:c.image,scale:c.scale,composite:c.composite,dragOffset:c.dragOffset,position:Xn(l)(c.position)})}},containsPoint:function(l){return function(c){return u(a(Kt(c.image)))(function(d){if(d instanceof f)return r(!1);if(d instanceof i)return r(c.position.x<=l.x&&l.x<=c.position.x+qr(d.value0)*c.scale.scaleX&&c.position.y<=l.y&&l.y<=c.position.y+Or(d.value0)*c.scale.scaleY);throw new Error("Failed pattern match at Template.Layer.Image (line 74, column 5 - line 80, column 90): "+[d.constructor.name])})}},dragStart:function(l){return function(c){return r({image:c.image,position:c.position,scale:c.scale,composite:c.composite,dragOffset:new i(l)})}},drag:function(l){return function(c){return o(_u(t))(c.dragOffset)(l)(c)}},dragEnd:function(l){return r({image:l.image,position:l.position,scale:l.scale,composite:l.composite,dragOffset:f.value})},draw:function(l){return function(c){return function(){var p=Kt(c.image)();if(p instanceof f)return void 0;if(p instanceof i)return St(l)(function(){return Yi(l)(c.composite)(),lc(l)(p.value0)(c.position)(ec(c.scale)(ic(p.value0)))()})();throw new Error("Failed pattern match at Template.Layer.Image (line 88, column 5 - line 94, column 54): "+[p.constructor.name])}}}}};var cc=function(t){var e=Nt(t);return function(n){return function(r){return function(u){return function(a){return e(function(){var l=Kn(f.value)();return Qi(n)(function(){var c=K(uc)(l);return function(d){return c(j(d))}}())(),{image:l,position:r,scale:u,composite:a,dragOffset:f.value}})}}}}};var hn=function(t){return t.throwError};var Zn=function(t){return t};var Du={map:function(t){return function(e){return t(e)}}};var sc={apply:function(t){return function(e){return t(e)}},Functor0:function(){return Du}},Bp={bind:function(t){return function(e){return e(t)}},Apply0:function(){return sc}},zp={pure:Zn,Apply0:function(){return sc}},dc={Applicative0:function(){return zp},Bind1:function(){return Bp}};var Pt=function(){function t(e){this.value0=e}return t.create=function(e){return new t(e)},t}(),At=function(){function t(e){this.value0=e}return t.create=function(e){return new t(e)},t}(),Ie=function(t){return t.tailRecM};var kp=function(t){var e=function(n){var r=!1,u;function a(o){if(o instanceof Pt){n=t(o.value0);return}if(o instanceof At)return r=!0,o.value0;throw new Error("Failed pattern match at Control.Monad.Rec.Class (line 103, column 3 - line 103, column 25): "+[o.constructor.name])}for(;!r;)u=a(n);return u};return function(n){return e(t(n))}};var pc={tailRecM:function(t){var e=function(r){return r},n=kp(function(r){return e(t(r))});return function(r){return Zn(n(r))}},Monad0:function(){return dc}};var v=function(t){return t};var Rn=function(t){return t.defer};var hc=function(t){return function(e){return t&&e}},Rc=function(t){return function(e){return t||e}},Dc=function(t){return!t};var Xo=function(t){return t.not};var kr=function(t){return t.ff};var er=function(t){return t.disj},Ke={ff:!1,tt:!0,implies:function(t){return function(e){return er(Ke)(Xo(Ke)(t))(e)}},conj:hc,disj:Rc,not:Dc};var E=function(){function t(e,n){this.value0=e,this.value1=n}return t.create=function(e){return function(n){return new t(e,n)}},t}();var Dn=function(t){return t.value0};var ae=function(t){return t.lift};var rv=s(lt);var Zo=function(t){return t},yn=function(t){return t};var rr={lift:function(t){var e=Ni(t)(i.create);return function(n){return Zo(e(n))}}};var ov=function(t){var e=s(t);return{map:function(n){return function(r){return e(rv(n))(r)}}}},av=function(t){return{Applicative0:function(){return Jr(t)},Bind1:function(){return Fn(t)}}},Fn=function(t){var e=x(t.Bind1()),n=F(t.Applicative0());return{bind:function(r){return function(u){return e(r)(function(a){if(a instanceof f)return n(f.value);if(a instanceof i){var o=u(a.value0);return o}throw new Error("Failed pattern match at Control.Monad.Maybe.Trans (line 55, column 11 - line 57, column 42): "+[a.constructor.name])})}},Apply0:function(){return Cc(t)}}},Cc=function(t){var e=ov(t.Bind1().Apply0().Functor0());return{apply:mn(av(t)),Functor0:function(){return e}}},Jr=function(t){return{pure:function(){var e=F(t.Applicative0());return function(n){return Zo(e(i.create(n)))}}(),Apply0:function(){return Cc(t)}}};var or=function(t){var e=F(t.Applicative0());return function(n){return Zo(e(n))}};var Tc=function(t,e){for(var n=t>e?-1:1,r=new Array(n*(e-t)+1),u=t,a=0;u!==e;)r[a++]=u,u+=n;return r[a]=u,r},uv=function(t,e){if(t<1)return[];var n=new Array(t);return n.fill(e)},lv=function(t,e){for(var n=[],r=0,u=0;u<t;u++)n[r++]=e;return n},iv=typeof Array.prototype.fill=="function"?uv:lv,Ec=function(){function t(u,a){this.head=u,this.tail=a}var e={};function n(u){return function(a){return new t(u,a)}}function r(u){for(var a=[],o=0,l=u;l!==e;)a[o++]=l.head,l=l.tail;return a}return function(u,a){return r(u(n)(e)(a))}}(),vt=function(t){return t.length};var Mc=function(t,e,n,r){return r<0||r>=n.length?e:t(n[r])};var xc=function(t,e,n,r){for(var u=0,a=r.length;u<a;u++)if(n(r[u]))return t(u);return e};var Lc=function(t,e,n,r,u){if(n<0||n>=u.length)return e;var a=u.slice();return a[n]=r,t(a)},ar=function(t){return t.slice().reverse()},Ze=function(t){if(t.length<=1e4)return Array.prototype.concat.apply([],t);for(var e=[],n=0,r=t.length;n<r;n++)for(var u=t[n],a=0,o=u.length;a<o;a++)e.push(u[a]);return e};var Ic=function(t,e,n){for(var r=n.length,u=e,a=new Array(r),o=0;o<r;o++)u=t(u)(n[o]),a[o]=u;return a};var Nc=function(t,e,n){return n.slice(t,e)},Sc=function(t,e,n){for(var r=e.length<n.length?e.length:n.length,u=new Array(r),a=0;a<r;a++)u[a]=t(e[a])(n[a]);return u},Pc=function(t,e){for(var n=e.length,r=0;r<n;r++)if(t(e[r]))return!0;return!1},Ac=function(t,e){for(var n=e.length,r=0;r<n;r++)if(!t(e[r]))return!1;return!0};function fv(t){return t}var Wc=fv;function sv(t){return t.slice()}var Uc=sv;var Hc=function(t,e){return e.push(t)};var ea=function(e){return function(n){return function(){return e(n)}}},Cu=function(e){return function(n){return function(r){return function(){return e(n,r)}}}};var $c=ea(Wc);var hv=ea(Uc),qc=function(t){return function(e){return function(){var r=hv(e)();return t(r)(),$c(r)()}}};var Tu=Cu(Hc);var Bc=function(t){return function(e){return function(n){for(var r=e,u=n.length,a=u-1;a>=0;a--)r=t(n[a])(r);return r}}},zc=function(t){return function(e){return function(n){for(var r=e,u=n.length,a=0;a<u;a++)r=t(r)(n[a]);return r}}};var oa=function(t){return t};var Pv=function(t){var e=er(t);return{append:function(n){return function(r){return e(n)(r)}}}};var Lu=function(t){var e=Pv(t);return{mempty:kr(t),Semigroup0:function(){return e}}};var Iu=function(){return v};var jc=Iu();var wn=function(){return jc};var Nu=function(){return function(){return function(){return function(){return function(t){return jc}}}}};var $v=q(k),qv=z($n);var Ov=Nu()()()(),Ct=function(t){return t.foldr};var Yr=function(t){var e=ne(t.Apply0()),n=F(t);return function(r){var u=Ct(r);return function(a){return u(function(o){return e(a(o))})(n(void 0))}}},Xr=function(t){var e=Yr(t);return function(n){return K(e(n))}};var ft=function(t){return t.foldl};var Yc=function(t){var e=ft(t);return function(n){var r=function(u){return function(a){if(u instanceof f)return new i(a);if(u instanceof i)return new i(function(){var o=qv(n(u.value0)(a))(S.value);return o?u.value0:a}());throw new Error("Failed pattern match at Data.Foldable (line 441, column 3 - line 441, column 27): "+[u.constructor.name,a.constructor.name])}};return e(r)(f.value)}},Kr=function(t){var e=$(t);return function(n){return Yc(n)(e)}};var Pu=function(t){var e=ft(t);return function(n){return e(Bt(n))(Yt(n))}};var Xc=function(t){var e=Ct(t);return function(n){var r=W(n.Semigroup0()),u=it(n);return function(a){return e(function(o){return function(l){return r(a(o))(l)}})(u)}}},mt={foldr:Bc,foldl:zc,foldMap:function(t){return Xc(mt)(t)}};var _e=function(t){return t.foldMap};var Cn=function(t){var e=_e(t);return function(n){return Ov(oa)(e(Lu(n)))}};var Au=function(t){var e=Cn(t);return function(n){return e(n)($v)}};var Zr=function(t){return function(e,n,r,u,a){return t(e)(n)(r)(u)(a)}};var tn=function(t){return function(e){return function(n){return t(e,n)}}},to=function(t){return function(e){return function(n){return function(r){return t(e,n,r)}}}},la=function(t){return function(e){return function(n){return function(r){return function(u){return t(e,n,r,u)}}}}},Wu=function(t){return function(e){return function(n){return function(r){return function(u){return function(a){return t(e,n,r,u,a)}}}}}};var of=function(){function t(u){return[u]}function e(u){return function(a){return[u,a]}}function n(u){return function(a){return function(o){return[u,a,o]}}}function r(u){return function(a){return u.concat(a)}}return function(u){return function(a){return function(o){return function(l){return function(c){function d(p,g){switch(g-p){case 0:return o([]);case 1:return a(t)(l(c[p]));case 2:return u(a(e)(l(c[p])))(l(c[p+1]));case 3:return u(u(a(n)(l(c[p])))(l(c[p+1])))(l(c[p+2]));default:var y=p+Math.floor((g-p)/4)*2;return u(a(r)(d(p,y)))(d(y,g))}}return d(0,c.length)}}}}}}();var w1=q(k),Wt=function(t){return t.traverse};var b1=function(t){var e=Wt(t);return function(n){return e(n)(w1)}},ue={traverse:function(t){var e=t.Apply0();return of(at(e))(s(e.Functor0()))(F(t))},sequence:function(t){return b1(ue)(t)},Functor0:function(){return ht},Foldable1:function(){return mt}};var sf=function(t){return function(e){var n=Wt(e)(t);return function(r){return function(u){return n(u)(r)}}}};var U1=W(se);var _f=to(Sc);var ge=function(){return _f(E.create)}();var gf=function(){return Wu(Lc)(i.create)(f.value)}();var Dt=function(t){return function(e){return qc(Tu(e))(t)()}},Ju=to(Nc),oo=function(t){return function(e){return t<=0?{before:[],after:e}:{before:Ju(0)(t)(e),after:Ju(t)(vt(e))(e)}}};var Vu=function(t){return[t]};var dr=to(Ic);var ju=tn(Tc);var Pe=function(){return la(Mc)(i.create)(f.value)}();var Qu=function(t){return function(e){return function(n){var r=function(u){return gf(t)(e(u))(n)};return Xt(f.value)(r)(Pe(n)(t))}}};var Yu=function(t){return tn(Ec)(Ct(t))};var ao=function(){return la(xc)(i.create)(f.value)}();var Xu=function(t){var e=z(t);return function(n){return ao(function(r){return e(r)(n)})}},Ku=function(t){var e=Xu(t);return function(n){return function(r){return On(e(n)(r))}}};var Mn=function(t){return function(e){return U1([t])(e)}};var hf=K(x(ko));var uo=tn(Pc);var va=tn(Ac);var H1=ae(rr);var Rf=function(t){var e=x(Fn(t)),n=or(t),r=H1(t);return function(u){return function(a){return function(o){return e(n(Pe(o)(u)))(function(l){return e(r(a(l)))(function(c){return n(Qu(u)(j(c))(o))})})}}}};var Zu=function(t){return ge(ju(0)(vt(t)))(t)};var $1=Wt(ue),q1=Au(mt)(Ke),O1=Yr(bt)(mt),B1=ae(rr),z1=q(k);var yf=function(t){var e=t.Applicative0(),n=t.Bind1().Apply0().Functor0(),r=qe(n),u=$1(e),a=Qo(n),o=Ve(a),l=s(n),c=_n(a),d=xe(a),p=x(Fn(t)),g=B1(t),y=or(t),C=Ee(a),b=Rf(t),tt=Qe(a),yt=F(Jr(t)),$e=Xe(a),Ht=Ye(a);return{position:j(F(e)({x:0,y:0})),translate:function(ut){return function(rt){return r(u(o(ut))(rt.layers))(function($t){return{dragIndex:rt.dragIndex,layers:$t}})}},containsPoint:function(ut){return function(rt){return l(q1)(u(c(ut))(rt.layers))}},draw:function(ut){return function(rt){return O1(function(){var $t=St(ut),cn=d(ut);return function(Hn){return $t(cn(Hn))}}())(ar(rt.layers))}},dragStart:function(ut){return function(rt){return l(xt(rt))(yn(p(g(u(c({x:ut.offsetX,y:ut.offsetY}))(rt.layers)))(function($t){return p(y(ao(z1)($t)))(function(cn){return p(y(Pe(rt.layers)(cn)))(function(Hn){return p(g(C(Hn)))(function(Eo){return p(b(cn)(tt({offsetX:ut.offsetX-Eo.x,offsetY:ut.offsetY-Eo.y}))(rt.layers))(function(_d){return yt({dragIndex:new i(cn),layers:_d})})})})})})))}},drag:function(ut){return function(rt){return l(xt(rt))(yn(p(y(rt.dragIndex))(function($t){return p(y(Pe(rt.layers)($t)))(function(cn){return p(g(C(cn)))(function(Hn){return p(b($t)($e({translateX:ut.translateX-Hn.x,translateY:ut.translateY-Hn.y}))(rt.layers))(function(Eo){return yt({dragIndex:rt.dragIndex,layers:Eo})})})})})))}},dragEnd:function(ut){return l(xt({layers:ut.layers,dragIndex:f.value}))(yn(p(y(ut.dragIndex))(function(rt){return p(b(rt)(Ht)(ut.layers))(function($t){return yt({dragIndex:f.value,layers:$t})})})))}}},Ff=function(t){return{layers:t,dragIndex:f.value}};var tl=function(t){var e=F(t),n=je(t);return{position:function(r){return e({x:r.rect.x,y:r.rect.y})},translate:function(r){return function(u){return e({fillStyle:u.fillStyle,dragOffset:u.dragOffset,rect:{width:u.rect.width,height:u.rect.height,x:u.rect.x+r.translateX,y:u.rect.y+r.translateY}})}},containsPoint:function(r){return function(u){return e(u.rect.x<=r.x&&r.x<=u.rect.x+u.rect.width&&u.rect.y<=r.y&&r.y<=u.rect.y+u.rect.height)}},draw:function(r){return function(u){return function(){return Ce(r)(u.fillStyle)(),tc(r)(cu(r)(u.rect))()}}},dragStart:function(r){return function(u){return e({rect:u.rect,fillStyle:u.fillStyle,dragOffset:new i(r)})}},drag:function(r){return function(u){return n(tl(t))(u.dragOffset)(r)(u)}},dragEnd:function(r){return e({rect:r.rect,fillStyle:r.fillStyle,dragOffset:f.value})}}},wf=function(t){return function(e){return{rect:t,fillStyle:e,dragOffset:f.value}}};var G1=pn(vn),el=function(t){var e=t.Monad0(),n=e.Bind1(),r=x(n),u=Nt(t),a=G1(n),o=F(e.Applicative0());return function(l){return function(c){return r(u(Kt(c)))(function(d){return r(l(d))(function(p){return a(u(Hr(p)(c)))(function(){return o(p)})})})}}},bf=function(t){var e=Oe(t.Monad0().Bind1().Apply0().Functor0()),n=el(t);return function(r){return function(u){return e(void 0)(n(r)(u))}}};var Q1=pe(zn),Y1=function(t){return t};var ma=function(t){var e=t.Monad0().Bind1(),n=pe(e),r=Nt(t),u=Oe(e.Apply0().Functor0()),a=el(t);return function(o){var l=Ee(o),c=Ve(o),d=_n(o),p=Qe(o),g=Xe(o),y=Ye(o),C=xe(o);return{position:function(b){return n(l)(r(Kt(b)))},translate:function(b){return function(tt){return u(tt)(a(c(b))(tt))}},containsPoint:function(b){return function(tt){return n(d(b))(r(Kt(tt)))}},dragStart:function(b){return function(tt){return u(tt)(a(p(b))(tt))}},drag:function(b){return function(tt){return u(tt)(a(g(b))(tt))}},dragEnd:function(b){return u(b)(a(y)(b))},draw:function(b){return function(tt){return Q1(C(b))(Kt(tt))}}}}};var Cf=function(t){var e=bf(t);return function(n){return function(r){return e(n)(r)}}};var _a=function(t){var e=s(t.Monad0().Bind1().Apply0().Functor0()),n=Nt(t);return function(r){return e(Y1)(n(Kn(r)))}};var Z=function(t){return t};var ga=isFinite;function Ef(t,e,n,r){var u=parseFloat(t);return e(u)?n(u):r}var ha=function(t){return Ef(t,ga,i.create,f.value)};function xf(t){return t.split(/\r\n|[\n\v\f\r\u0085\u2028\u2029]/)}function Lf(t){return t.split(/[\u000a-\u000d\u0085\u2028\u2029\u0009\u0020\u00a0\u1680\u2000-\u200a\u202f\u205f\u3000]+/)}var c8=typeof Array.from=="function",lm=typeof Symbol<"u"&&Symbol!=null&&typeof Symbol.iterator<"u"&&typeof String.prototype[Symbol.iterator]=="function",f8=typeof String.prototype.fromCodePoint=="function",im=typeof String.prototype.codePointAt=="function",If=function(t){return im?function(e){return e.codePointAt(0)}:t},Nf=function(t){return function(e){return function(n){return function(r){return function(u){return function(a){var o=a.length;if(u<0||u>=o)return n;if(lm)for(var l=a[Symbol.iterator](),c=u;;--c){var d=l.next();if(d.done)return n;if(c===0)return e(r(d.value))}return t(u)(a)}}}}}};function nn(t){return t.charCodeAt(0)}function Sf(t){return String.fromCharCode(t)}var Wf=Be(Ir),Uf=Fe(Ir);var Ae=function(t){return t.toEnum};var rn=function(t){return t.fromEnum};var xn=function(t){return function(e){return function(n){return t(e(n)+1|0)}}},Ln=function(t){return function(e){return function(n){return t(e(n)-1|0)}}};var nl=function(t){return t>=nn(Wf)&&t<=nn(Uf)?new i(Sf(t)):f.value},mm={succ:xn(nl)(nn),pred:Ln(nl)(nn),Ord0:function(){return Uo}};var io=function(){return{cardinality:nn(Uf)-nn(Wf)|0,toEnum:nl,fromEnum:nn,Bounded0:function(){return Ir},Enum1:function(){return mm}}}();var rl=function(t){return t.join("")};var on=function(t){return t.length};var In=function(t){return function(e){return e.substring(t)}};var an=function(t){return function(e){if(t>=0&&t<e.length)return e.charAt(t);throw new Error("Data.String.Unsafe.charAt: Invalid index.")}};var wm=function(t,e,n){var r=0,u;return function(a){if(r===2)return u;if(r===1)throw new ReferenceError(t+" was needed before it finished initializing (module "+e+", line "+a+")",e,a);return r=1,u=n(),r=2,u}},co=rn(io);var bm=$(zt);var qf=function(t){return function(e){return(((t-55296|0)*1024|0)+(e-56320|0)|0)+65536|0}};var Of=function(t){return 56320<=t&&t<=57343},Bf=function(t){return 55296<=t&&t<=56319},Da=function(t){var e=on(t);if(e===0)return f.value;if(e===1)return new i({head:co(an(0)(t)),tail:""});var n=co(an(1)(t)),r=co(an(0)(t)),u=Bf(r)&&Of(n);return u?new i({head:qf(r)(n),tail:In(2)(t)}):new i({head:r,tail:In(1)(t)})};var Cm=function(t){var e=co(an(0)(t)),n=Bf(e)&&on(t)>1;if(n){var r=co(an(1)(t)),u=Of(r);return u?qf(e)(r):e}return e},$f=If(Cm);var al={eq:function(t){return function(e){return t===e}}},ul={compare:function(t){return function(e){return bm(t)(e)}},Eq0:function(){return al}};var Tm=function(t){return function(e){var n=t,r=!1,u;function a(o,l){var c=Da(l);if(c instanceof i){var d=o===0;if(d)return r=!0,new i(c.value0.head);n=o-1|0,e=c.value0.tail;return}return r=!0,f.value}for(;!r;)u=a(n,e);return u}},zf=function(t){return function(e){return t<0?f.value:t===0&&e===""?f.value:t===0?new i($f(e)):Nf(Tm)(i.create)(f.value)($f)(t)(e)}},Em={bottom:0,top:1114111,Ord0:function(){return ul}},Nn=function(){return{cardinality:1114112,fromEnum:function(t){return t},toEnum:function(t){if(t>=0&&t<=1114111)return new i(t);if(Ft)return f.value;throw new Error("Failed pattern match at Data.String.CodePoints (line 63, column 1 - line 68, column 26): "+[t.constructor.name])},Bounded0:function(){return Em},Enum1:function(){return Mm(0)}}}(),Mm=wm("enumCodePoint","Data.String.CodePoints",function(){return{succ:xn(Ae(Nn))(rn(Nn)),pred:Ln(Ae(Nn))(rn(Nn)),Ord0:function(){return ul}}});var Fa=function(t){return Lf(t)};var vr=function(t){return xf(t)};var wa=t=>e=>()=>t.measureText(e);var ba=Wt(ue)(bt),qm=ft(mt),Om=s(ht),Qf=s(P),Bm=Kr(Lr)(mt),Gf=T(Ho),zm=Xr(bt)(mt);var Yf=function(t){return function(e){return{position:e.position,maxWidth:e.maxWidth,fillStyle:e.fillStyle,fontName:e.fontName,fontSize:e.fontSize,fontStyle:e.fontStyle,fontWeight:e.fontWeight,align:e.align,baseline:e.baseline,lineHeight:e.lineHeight,letterSpacing:e.letterSpacing,dragOffset:e.dragOffset,context:e.context,text:t}}};var fo=function(t){return function(e){return function(){var r=wa(t)(e)();return r.width}}},km=function(t){return function(e){return function(n){var r=Fa(n);return function(){var a=ba(fo(t))(r)(),o=fo(t)(" ")(),l=function(p){return function(g){if(p.value1.value0.length===0)return new E(p.value0,new E([g.value0],g.value1));var y=p.value1.value1+o+g.value1>e;return y?new E(Dt(p.value0)(p.value1.value0),new E([g.value0],g.value1)):new E(p.value0,new E(Dt(p.value1.value0)(g.value0),p.value1.value1+o+g.value1))}},c=qm(l)(new E([],new E([],0)))(ge(r)(a)),d=Om(sn(" "))(c.value0);return c.value1.value0.length===0?d:Dt(d)(sn(" ")(c.value1.value0))}}}},Vf=function(t){return function(e){return function(n){return Qf(Ze)(ba(km(t)(e))(vr(n)))}}},fl=function(t){return function(e){return function(){var r=wa(t)(e)();return r.actualBoundingBoxAscent+r.actualBoundingBoxDescent}}};var jf=function(t){return function(e){return Qf(function(){var n=xt(0);return function(r){return n(Bm(r))}}())(ba(fl(t))(e))}},sl=function(t){var e=t.Monad0().Applicative0(),n=F(e),r=Nt(t),u=je(e);return{position:function(a){return n(a.position)},translate:function(a){return function(o){return n({text:o.text,maxWidth:o.maxWidth,fillStyle:o.fillStyle,fontName:o.fontName,fontSize:o.fontSize,fontStyle:o.fontStyle,fontWeight:o.fontWeight,align:o.align,baseline:o.baseline,lineHeight:o.lineHeight,letterSpacing:o.letterSpacing,dragOffset:o.dragOffset,context:o.context,position:Xn(a)(o.position)})}},containsPoint:function(a){return function(o){return r(St(o.context)(function(){Ce(o.context)(o.fillStyle)(),kn(o.context)(o.fontStyle+(" "+(o.fontWeight+(" "+(Gf(o.fontSize)+("px "+o.fontName))))))(),Qn(o.context)(o.baseline)(),Yn(o.context)(o.align)(),gn(o.context)(o.letterSpacing)();var c=function(){if(o.maxWidth instanceof i)return Vf(o.context)(o.maxWidth.value0)(o.text)();if(o.maxWidth instanceof f)return vr(o.text);throw new Error("Failed pattern match at Template.Layer.Text (line 75, column 14 - line 77, column 44): "+[o.maxWidth.constructor.name])}(),d=ba(fo(o.context))(c)(),p=jf(o.context)(c)();return K(uo)(Zu(d))(function(g){var y=function(){return o.baseline instanceof ve?o.position.y+p*o.lineHeight*Z(g.value0):o.baseline instanceof Te?o.position.y-p-Z((vt(c)-g.value0|0)-1|0)*p*o.lineHeight:o.position.y+p*o.lineHeight*Z(g.value0)}();if(o.align instanceof Vn||o.align instanceof oe)return o.position.x<=a.x&&a.x<=o.position.x+g.value1&&y<=a.y&&a.y<=y+p;if(o.align instanceof jn||o.align instanceof Jn)return o.position.x-g.value1<=a.x&&a.x<=o.position.x&&y<=a.y&&a.y<=y+p;if(o.align instanceof Gn)return o.position.x-g.value1/2<=a.x&&a.x<=o.position.x+g.value1/2&&y<=a.y&&a.y<=y+p;throw new Error("Failed pattern match at Template.Layer.Text (line 89, column 7 - line 104, column 41): "+[o.align.constructor.name])})}))}},dragStart:function(a){return function(o){return n({text:o.text,position:o.position,maxWidth:o.maxWidth,fillStyle:o.fillStyle,fontName:o.fontName,fontSize:o.fontSize,fontStyle:o.fontStyle,fontWeight:o.fontWeight,align:o.align,baseline:o.baseline,lineHeight:o.lineHeight,letterSpacing:o.letterSpacing,context:o.context,dragOffset:new i(a)})}},drag:function(a){return function(o){return u(sl(t))(o.dragOffset)(a)(o)}},dragEnd:function(a){return n({text:a.text,position:a.position,maxWidth:a.maxWidth,fillStyle:a.fillStyle,fontName:a.fontName,fontSize:a.fontSize,fontStyle:a.fontStyle,fontWeight:a.fontWeight,align:a.align,baseline:a.baseline,lineHeight:a.lineHeight,letterSpacing:a.letterSpacing,context:a.context,dragOffset:f.value})},draw:function(a){return function(o){return St(a)(function(){Ce(a)(o.fillStyle)(),kn(a)(o.fontStyle+(" "+(o.fontWeight+(" "+(Gf(o.fontSize)+("px "+o.fontName))))))(),Qn(a)(o.baseline)(),Yn(a)(o.align)(),gn(a)(o.letterSpacing)();var c=function(){if(o.maxWidth instanceof i)return Vf(a)(o.maxWidth.value0)(o.text)();if(o.maxWidth instanceof f)return vr(o.text);throw new Error("Failed pattern match at Template.Layer.Text (line 117, column 14 - line 119, column 44): "+[o.maxWidth.constructor.name])}(),d=jf(a)(c)();return zm(Zu(c))(function(p){var g=function(){return o.baseline instanceof ve?o.position.y+Z(p.value0)*d*o.lineHeight:o.baseline instanceof Te?o.position.y-Z((vt(c)-p.value0|0)-1|0)*d*o.lineHeight:o.position.y+Z(p.value0)*d*o.lineHeight}();return Ur(a)(p.value1)(o.position.x)(g)})()})}}}};var Xf=function(t){return t};var t_=Xf;var pl=function(t){return t};var ns=function(t){if(vt(t)>0)return new i(t_(t));if(Ft)return f.value;throw new Error("Failed pattern match at Data.Array.NonEmpty (line 161, column 1 - line 161, column 58): "+[t.constructor.name])};var _r=function(t){var e=null;return function(){return t===void 0||(e=t(),t=void 0),e}},vo=function(t){return t()};var i_=function(t,e,n){var r=0,u;return function(a){if(r===2)return u;if(r===1)throw new ReferenceError(t+" was needed before it finished initializing (module "+e+", line "+a+")",e,a);return r=1,u=n(),r=2,u}};var c_=wn();var We=function(){function t(e,n,r){this.value0=e,this.value1=n,this.value2=r}return t.create=function(e){return function(n){return function(r){return new t(e,n,r)}}},t}(),Ue=function(){function t(e,n){this.value0=e,this.value1=n}return t.create=function(e){return function(n){return new t(e,n)}},t}();var rs=function(){function t(e){this.value0=e}return t.create=function(e){return new t(e)},t}(),os=function(){function t(e){this.value0=e}return t.create=function(e){return new t(e)},t}(),_l=function(){function t(e,n){this.value0=e,this.value1=n}return t.create=function(e){return function(n){return new t(e,n)}},t}();var as={defer:function(t){var e=_r(t);return function(n,r,u,a,o){var l=vo(e);return l(n,r,u,a,o)}}};var Sn={map:function(t){return function(e){return function(n,r,u,a,o){return r(function(l){return e(n,r,u,a,function(c,d){return r(function(p){return o(c,t(d))})})})}}}};var un={alt:function(t){return function(e){return function(n,r,u,a,o){return r(function(l){return t(new We(n.value0,n.value1,!1),r,u,function(c,d){return r(function(p){return c.value2?a(c,d):e(n,r,u,a,o)})},o)})}}},Functor0:function(){return Sn}},f_=function(t){return function(e,n,r,u,a){var o=t(e);return a(o.value1,o.value0)}};var s_=function(t){var e=t.Monad0(),n=s(e.Bind1().Apply0().Functor0()),r=F(e.Applicative0()),u=Ie(t);return function(a){return function(o){var l=function(c){var d=!1,p;function g(y){var C=y(void 0);if(C instanceof rs){c=C.value0;return}if(C instanceof os)return d=!0,n(Pt.create)(C.value0);if(C instanceof _l)return d=!0,r(new At(new E(C.value1,C.value0)));throw new Error("Failed pattern match at Parsing (line 160, column 13 - line 166, column 32): "+[C.constructor.name])}for(;!d;)p=g(c);return p};return u(l)(function(c){return o(a,rs.create,os.create,function(d,p){return new _l(d,new st(p))},function(d,p){return new _l(d,new ct(p))})})}}},us=f_(function(t){return new E(t.value1,t)});var d_={index:0,line:1,column:1},p_=function(t){var e=s(t.Monad0().Bind1().Apply0().Functor0()),n=s_(t);return function(r){return function(u){var a=new We(r,d_,!1);return e(Dn)(n(a)(u))}}},v_=p_(pc),ls=function(t){var e=v_(t);return function(n){return c_(e(n))}};var Ta=function(t){return function(e){return t.value2&&!e.value2?new We(e.value0,e.value1,!0):e}},ln={apply:function(t){return function(e){return function(n,r,u,a,o){return r(function(l){return t(n,r,u,a,function(c,d){return r(function(p){var g=Ta(n)(c);return e(g,r,u,a,function(y,C){return r(function(b){return o(Ta(g)(y),d(C))})})})})})}}},Functor0:function(){return Sn}};var gr={pure:function(t){return function(e,n,r,u,a){return a(e,t)}},Apply0:function(){return ln}};var Pn={bind:function(t){return function(e){return function(n,r,u,a,o){return r(function(l){return t(n,r,u,a,function(c,d){return r(function(p){var g=e(d);return g(Ta(n)(c),r,u,a,o)})})})}}},Apply0:function(){return ln}},m_=pe(Pn);var is={Applicative0:function(){return gr},Bind1:function(){return Pn}};var hl={throwError:function(t){return function(e,n,r,u,a){return u(e,t)}},Monad0:function(){return is}},__=hn(hl),g_=function(t){return function(e){return __(new Ue(t,e))}},hr=function(t){return m_(g_(t))(us)};var Ea={tailRecM:function(t){return function(e){return function(n,r,u,a,o){var l=i_("loop","Parsing",function(){return function(d,p,g){var y=t(p);return y(d,r,u,a,function(C,b){var tt=Ta(d)(C);if(b instanceof Pt){var yt=g===0;return yt?r(function($e){return l(288)(tt,b.value0,30)}):l(290)(tt,b.value0,g-1|0)}if(b instanceof At)return o(tt,b.value0);throw new Error("Failed pattern match at Parsing (line 284, column 19 - line 292, column 46): "+[b.constructor.name])})}}),c=l(279);return c(n,e,30)}}},Monad0:function(){return is}};var he=function(){function t(){}return t.value=new t,t}(),Re=function(){function t(e,n){this.value0=e,this.value1=n}return t.create=function(e){return function(n){return new t(e,n)}},t}();var Rr={foldr:function(t){return function(e){var n=function(){var u=function(a){return function(o){var l=a,c=!1,d;function p(g,y){if(y instanceof he)return c=!0,g;if(y instanceof Re){l=new Re(y.value0,g),o=y.value1;return}throw new Error("Failed pattern match at Data.List.Types (line 107, column 7 - line 107, column 23): "+[g.constructor.name,y.constructor.name])}for(;!c;)d=p(l,o);return d}};return u(he.value)}(),r=ft(Rr)(K(t))(e);return function(u){return r(n(u))}}},foldl:function(t){var e=function(n){return function(r){var u=n,a=!1,o;function l(c,d){if(d instanceof he)return a=!0,c;if(d instanceof Re){u=t(c)(d.value0),r=d.value1;return}throw new Error("Failed pattern match at Data.List.Types (line 111, column 12 - line 113, column 30): "+[d.constructor.name])}for(;!a;)o=l(u,r);return o}};return e},foldMap:function(t){var e=W(t.Semigroup0()),n=it(t);return function(r){return ft(Rr)(function(u){var a=e(u);return function(o){return a(r(o))}})(n)}}};var ms=dt(un),V_=Rn(as);var j_=ne(ln);var Q_=ti(ln);var _s=function(t){return function(e){return ms(t)(V_(function(n){return hr("Expected "+e(void 0))}))}},Rl=function(t){return function(e){return ms(t)(hr("Expected "+e))}};var Dr=function(t){return function(e,n,r,u,a){return t(e,n,r,function(o,l){return u(new We(o.value0,o.value1,e.value2),l)},a)}};var go=function(t){return function(e){return function(n){return Q_(j_(t)(n))(e)}}};var yl=x(Pn),Y_=Ie(Ea),X_=dt(un),Ma=F(gr),K_=Yu(Rr);var Z_=function(t){return yl(K(Y_)(he.value)(function(e){return X_(yl(t)(function(n){return Ma(new Pt(new Re(n,e)))}))(Ma(new At(e)))}))(function(e){return Ma(ar(K_(e)))})},Fl=function(t){return yl(Z_(t))(function(e){var n=ns(e);if(n instanceof f)return hr("Expected at least 1");if(n instanceof i)return Ma(n.value0);throw new Error("Failed pattern match at Parsing.Combinators.Array (line 55, column 3 - line 57, column 25): "+[n.constructor.name])})};var wl=rn(Nn),eg=Sr(Jo),ng=ze(),rg=Ae(io);var og=T($o);var bl=function(t){return function(e){return function(n){var r=wl(e);if(r===10)return{index:t.index+1|0,line:t.line+1|0,column:1};if(r===13){var u=zf(0)(n);return u instanceof i&&wl(u.value0)===10?{index:t.index+1|0,line:t.line,column:t.column}:{index:t.index+1|0,line:t.line+1|0,column:1}}return r===9?{index:t.index+1|0,line:t.line,column:(t.column+8|0)-eg(t.column-1|0)(8)|0}:{index:t.index+1|0,line:t.line,column:t.column+1|0}}}},ag=function(t){return function(e){return function(n){var r=t,u=e,a=!1,o;function l(c,d,p){var g=Da(d);if(g instanceof f)return a=!0,c;if(g instanceof i){var y=function(){if(Bn(g.value0.tail))return bl(c)(g.value0.head)(p);if(Ft)return bl(c)(g.value0.head)(g.value0.tail);throw new Error("Failed pattern match at Parsing.String (line 165, column 7 - line 167, column 52): ")}();r=y,u=g.value0.tail,n=p;return}throw new Error("Failed pattern match at Parsing.String (line 161, column 36 - line 168, column 38): "+[g.constructor.name])}for(;!a;)o=l(r,u,n);return o}}};var Cl=function(t){return Zr(function(e){return function(n){return function(r){return function(u){return function(a){var o=Da(e.value0);if(o instanceof f)return u(e,new Ue("Unexpected EOF",e.value1));if(o instanceof i){var l=wl(o.value0.head),c=l<0||l>65535;if(c)return u(e,new Ue("Expected Char",e.value1));var d=ng(rg(l)),p=t(d);return p?a(new We(o.value0.tail,bl(e.value1)(o.value0.head)(o.value0.tail),!0),d):u(e,new Ue("Predicate unsatisfied",e.value1))}throw new Error("Failed pattern match at Parsing.String (line 114, column 7 - line 129, column 75): "+[o.constructor.name])}}}}})};var Tl=Zr(function(t){return function(e){return function(n){return function(r){return function(u){var a=Bn(t.value0);return a?u(new We(t.value0,t.value1,!0),void 0):r(t,new Ue("Expected EOF",t.value1))}}}}}),hs=function(t){return Zr(function(e){return function(n){return function(r){return function(u){return function(a){var o=t(e.value0);if(o instanceof st)return u(e,new Ue(o.value0,e.value1));if(o instanceof ct)return a(new We(o.value0.remainder,ag(e.value1)(o.value0.consumed)(o.value0.remainder),!Bn(o.value0.consumed)),o.value0.value);throw new Error("Failed pattern match at Parsing.String (line 286, column 7 - line 290, column 121): "+[o.constructor.name])}}}}})};var El=hs(function(t){return new ct({value:t,consumed:t,remainder:""})});var Jt=function(t){return Rl(Cl(function(e){return e===t}))(og(t))};var dg=T(tu($o));var pg=Ku(No);var ys=function(t){return _s(Cl(K(pg)(t)))(function(e){return"none of "+dg(t)})};function xa(t,e){var n={};for(var r in e)({}).hasOwnProperty.call(e,r)&&(n[r]=e[r]);for(var u in t)({}).hasOwnProperty.call(t,u)&&(n[u]=t[u]);return n}var La=function(){return function(){return function(t){return function(e){return xa(t,e)}}}};var gg=T(Ho),Ia=W(se),ho=qe(ht),Ms=ft(mt),Ll=s(P),hg=Kr(Lr)(mt),An=Wt(ue)(bt),Na=Pu(mt)(fn),De=s(ht),Rg=F(bt);var Zt=s(Sn),ye=dt(un),Aa=ne(ln),Dg=La()(),yg=sf(bt)(ue),Fg=q(k),Ml=Xr(bt)(mt),xs=Oe(Sn);var Wa=function(){function t(){}return t.value=new t,t}(),Ls=function(){function t(){}return t.value=new t,t}(),Ua=function(){function t(){}return t.value=new t,t}(),Is=function(){function t(){}return t.value=new t,t}();var Ns=function(t){return t.text},wg=function(t){return function(e){return function(n){return{line:Dt(e.line)(n),width:e.width+t+n.width}}}},Il=function(t){return function(e){return function(n){var r=function(){if(n.weight instanceof Wa)return e.weight.normal;if(n.weight instanceof Ls)return e.weight.bold;throw new Error("Failed pattern match at Template.Layer.Text.Markup (line 300, column 14 - line 302, column 37): "+[n.weight.constructor.name])}(),u=function(){if(n.style instanceof Ua)return e.style.normal;if(n.style instanceof Is)return e.style.italic;throw new Error("Failed pattern match at Template.Layer.Text.Markup (line 297, column 13 - line 299, column 39): "+[n.style.constructor.name])}();return kn(t)(u+(" "+(r+(" "+(gg(e.size)+("px "+e.name))))))}}},Ss=function(t){return function(e){return{text:e.text,position:e.position,maxWidth:e.maxWidth,fillStyle:e.fillStyle,align:e.align,baseline:e.baseline,lineHeight:e.lineHeight,emptyLineHeight:e.emptyLineHeight,letterSpacing:e.letterSpacing,dragOffset:e.dragOffset,context:e.context,font:{name:e.font.name,style:e.font.style,weight:e.font.weight,size:t}}}};var bg=function(t){return Bn(Ns(t.fragment))},Cg=function(t){return va(bg)(t.word)},Tg=function(t){return va(Cg)(t.line)};var Ps=function(t){return function(e){var n=function(u){return function(a){var o=oo(1)(t(a.text));if(o.before.length===1&&o.before[0]===""&&o.after.length===0)return{splits:u.splits,split:u.split};if(o.before.length===1&&o.after.length===0)return{splits:u.splits,split:Dt(u.split)({style:a.style,weight:a.weight,text:o.before[0]})};if(o.before.length===1&&o.before[0]===""){var l=oo(vt(o.after)-1|0)(o.after);return l.after.length===1&&l.after[0]===""?{splits:Ia(Dt(u.splits)(u.split))(ho(l.before)(function(c){return[{style:a.style,weight:a.weight,text:c}]})),split:[]}:l.after.length===1?{splits:Ia(Dt(u.splits)(u.split))(ho(l.before)(function(c){return[{style:a.style,weight:a.weight,text:c}]})),split:[{style:a.style,weight:a.weight,text:l.after[0]}]}:{splits:u.splits,split:u.split}}if(o.before.length===1){var l=oo(vt(o.after)-1|0)(o.after);return l.after.length===1&&l.after[0]===""?{splits:Ia(Dt(u.splits)(Dt(u.split)({style:a.style,weight:a.weight,text:o.before[0]})))(ho(l.before)(function(d){return[{style:a.style,weight:a.weight,text:d}]})),split:[]}:l.after.length===1?{splits:Ia(Dt(u.splits)(Dt(u.split)({style:a.style,weight:a.weight,text:o.before[0]})))(ho(l.before)(function(d){return[{style:a.style,weight:a.weight,text:d}]})),split:[{style:a.style,weight:a.weight,text:l.after[0]}]}:{splits:u.splits,split:u.split}}return{splits:u.splits,split:u.split}}},r=Ms(n)({splits:[],split:[]})(e);return Dt(r.splits)(r.split)}},As=Ps(Fa),Nl=function(t){return{text:t,style:Ua.value,weight:Wa.value}};var Eg=function(t){return function(e){return{fragment:t,width:e}}},Ws=function(t){return function(e){return function(n){return St(t)(function(){return Il(t)(e)(n)(),fo(t)(n.text)()})}}},Sl=function(t){return function(e){return Ws(t)(e)({style:Ua.value,weight:Wa.value,text:" "})}},Mg=function(t){return function(e){return function(n){return St(t)(function(){return Il(t)(e)(n)(),fl(t)(n.text)()})}}},xg=function(t){return function(e){return function(n){return Ll(function(){var r=xt(0);return function(u){return r(hg(u))}}())(An(Mg(t)(e))(n))}}},Lg=function(t){return function(e){return function(n){return Ll(Eg(n))(Ws(t)(e)(n))}}},Us=function(t){return function(e){return function(n){return function(){var u=An(Lg(t)(e))(n)(),a=Na(De(function(o){return o.width})(u));return{word:u,width:a}}}}},ws=function(t){return function(e){return function(n){var r=As(n);return function(){var a=An(Us(t)(e))(r)(),o=Sl(t)(e)(),l=o*Z(vt(a)-1|0)+Na(De(function(c){return c.width})(a));return{line:a,width:l}}}}},Ig=function(t){return function(e){return function(n){return function(r){var u=As(r);return function(){var o=An(Us(t)(e))(u)(),l=Sl(t)(e)(),c=function(p){return function(g){if(p.value1.line.length===0)return new E(p.value0,{line:[g],width:g.width});var y=p.value1.width+l+g.width>n;return y?new E(Dt(p.value0)(p.value1),{line:[g],width:g.width}):new E(p.value0,wg(l)(p.value1)(g))}},d=Ms(c)(new E([],{line:[],width:0}))(o);return d.value1.line.length===0?d.value0:Dt(d.value0)(d.value1)}}}}};var Ro=function(){var t=Zt(pl);return function(e){return t(Fl(e))}}(),Do=Zt(function(t){return Nl(rl(t))})(Ro(ys(["_","*"]))),xl=Ps(vr),bs=function(t){return function(e){return function(n){return function(r){return Ll(Ze)(An(Ig(t)(e)(n))(xl(r)))}}}},Sa=function(t){return{text:t.text,weight:t.weight,style:Is.value}},Cs=ye(Dr(go(Jt("_"))(Jt("_"))(Zt(Sa)(Do))))(ye(Do)(Aa(Jt("_"))(Zt(function(t){return Sa(Nl(t))})(El)))),Ng=function(t){return t.fragment},Sg=function(t){return De(Ng)(t.word)},Pg=function(t){return De(Sg)(t.line)},Ts=function(t){return function(e){return function(n){return function(r){return function(){var a=xg(t)(e)(Ze(hf(Pg)(r)))();return ho(r)(function(o){return Dg(o)({height:function(){var l=Tg(o);return l?n*e.size:a}()})})}}}}},Pl=function(t){var e=t.Monad0().Applicative0(),n=F(e),r=Nt(t),u=je(e);return{position:function(a){return n(a.position)},translate:function(a){return function(o){return n({text:o.text,maxWidth:o.maxWidth,fillStyle:o.fillStyle,font:o.font,align:o.align,baseline:o.baseline,lineHeight:o.lineHeight,emptyLineHeight:o.emptyLineHeight,letterSpacing:o.letterSpacing,dragOffset:o.dragOffset,context:o.context,position:Xn(a)(o.position)})}},containsPoint:function(a){return function(o){return r(St(o.context)(function(){Ce(o.context)(o.fillStyle)(),Qn(o.context)(o.baseline)(),Yn(o.context)(o.align)(),gn(o.context)(o.letterSpacing)();var c=function(){if(o.maxWidth instanceof i)return bs(o.context)(o.font)(o.maxWidth.value0)(o.text)();if(o.maxWidth instanceof f)return An(ws(o.context)(o.font))(xl(o.text))();throw new Error("Failed pattern match at Template.Layer.Text.Markup (line 204, column 15 - line 206, column 89): "+[o.maxWidth.constructor.name])}(),d=Ts(o.context)(o.font)(o.emptyLineHeight)(c)(),p=Na(De(function(C){return C.height})(d))+(o.lineHeight-1)*o.font.size*Z(vt(d)-1|0),g=Mn(0)(dr(function(C){return function(b){return C+b.height+(o.lineHeight-1)*o.font.size}})(0)(d)),y=yg(ge(d)(g))(function(C){var b=function(){return o.baseline instanceof ve?o.position.y+C.value1:o.baseline instanceof Te?o.position.y+C.value1-p:o.position.y+C.value1}();return Rg(function(){if(o.align instanceof Vn||o.align instanceof oe)return o.position.x<=a.x&&a.x<=o.position.x+C.value0.width&&b<=a.y&&a.y<=b+C.value0.height;if(o.align instanceof jn||o.align instanceof Jn)return o.position.x-C.value0.width<=a.x&&a.x<=o.position.x&&b<=a.y&&a.y<=b+C.value0.height;if(o.align instanceof Gn)return o.position.x-C.value0.width/2<=a.x&&a.x<=o.position.x+C.value0.width/2&&b<=a.y&&a.y<=b+C.value0.height;throw new Error("Failed pattern match at Template.Layer.Text.Markup (line 222, column 14 - line 242, column 33): "+[o.align.constructor.name])}())})();return uo(Fg)(y)}))}},dragStart:function(a){return function(o){return n({text:o.text,position:o.position,maxWidth:o.maxWidth,fillStyle:o.fillStyle,font:o.font,align:o.align,baseline:o.baseline,lineHeight:o.lineHeight,emptyLineHeight:o.emptyLineHeight,letterSpacing:o.letterSpacing,context:o.context,dragOffset:new i(a)})}},drag:function(a){return function(o){return u(Pl(t))(o.dragOffset)(a)(o)}},dragEnd:function(a){return n({text:a.text,position:a.position,maxWidth:a.maxWidth,fillStyle:a.fillStyle,font:a.font,align:a.align,baseline:a.baseline,lineHeight:a.lineHeight,emptyLineHeight:a.emptyLineHeight,letterSpacing:a.letterSpacing,context:a.context,dragOffset:f.value})},draw:function(a){return function(o){return St(a)(function(){Ce(a)(o.fillStyle)(),Qn(a)(o.baseline)(),Yn(a)(oe.value)(),gn(a)(o.letterSpacing)();var c=function(){if(o.maxWidth instanceof i)return bs(a)(o.font)(o.maxWidth.value0)(o.text)();if(o.maxWidth instanceof f)return An(ws(a)(o.font))(xl(o.text))();throw new Error("Failed pattern match at Template.Layer.Text.Markup (line 257, column 15 - line 259, column 83): "+[o.maxWidth.constructor.name])}(),d=Ts(a)(o.font)(o.emptyLineHeight)(c)(),p=Na(De(function(y){return y.height})(d))+(o.lineHeight-1)*o.font.size*Z(vt(d)-1|0),g=Mn(0)(dr(function(y){return function(C){return y+C.height+(o.lineHeight-1)*o.font.size}})(0)(d));return Ml(ge(d)(g))(function(y){var C=function(){return o.baseline instanceof ve?o.position.y+y.value1:o.baseline instanceof Te?o.position.y+y.value1-p+y.value0.height:o.position.y+y.value1}(),b=function(){if(o.align instanceof Vn||o.align instanceof oe)return o.position.x;if(o.align instanceof jn||o.align instanceof Jn)return o.position.x-y.value0.width;if(o.align instanceof Gn)return o.position.x-y.value0.width/2;throw new Error("Failed pattern match at Template.Layer.Text.Markup (line 278, column 16 - line 283, column 57): "+[o.align.constructor.name])}();return function(){var yt=Sl(a)(o.font)(),$e=Mn(0)(dr(function(Ht){return function(ut){return Ht+yt+ut.width}})(0)(y.value0.line));return Ml(ge(y.value0.line)($e))(function(Ht){var ut=Mn(0)(dr(function(rt){return function($t){return rt+$t.width}})(0)(Ht.value0.word));return Ml(ge(Ht.value0.word)(ut))(function(rt){return function(){return Il(a)(o.font)(rt.value0.fragment)(),Ur(a)(Ns(rt.value0.fragment))(b+Ht.value1+rt.value1)(C)()}})})()}})()})}}}},Pa=function(t){return{text:t.text,style:t.style,weight:Ls.value}},Ag=ye(Dr(go(Jt("*"))(Jt("*"))(Zt(De(Pa))(Ro(Cs)))))(Aa(Jt("*"))(ye(xs([])(Tl))(Zt(De(Pa))(Ro(Cs))))),Es=ye(Dr(go(Jt("*"))(Jt("*"))(Zt(Pa)(Do))))(ye(Do)(Aa(Jt("*"))(Zt(function(t){return Pa(Nl(t))})(El)))),Wg=ye(Dr(go(Jt("_"))(Jt("_"))(Zt(De(Sa))(Ro(Es)))))(Aa(Jt("_"))(ye(xs([])(Tl))(Zt(De(Sa))(Ro(Es))))),Ug=Zt(function(t){return Ze(pl(t))})(Fl(ye(Wg)(ye(Ag)(Zt(Vu)(Do)))));var Al=function(t){return function(e){var n=ls(t)(Ug);if(n instanceof ct)return{position:e.position,maxWidth:e.maxWidth,fillStyle:e.fillStyle,font:e.font,align:e.align,baseline:e.baseline,lineHeight:e.lineHeight,emptyLineHeight:e.emptyLineHeight,letterSpacing:e.letterSpacing,dragOffset:e.dragOffset,context:e.context,text:n.value0};if(n instanceof st)return{position:e.position,maxWidth:e.maxWidth,fillStyle:e.fillStyle,font:e.font,align:e.align,baseline:e.baseline,lineHeight:e.lineHeight,emptyLineHeight:e.emptyLineHeight,letterSpacing:e.letterSpacing,dragOffset:e.dragOffset,context:e.context,text:[{text:t,style:Ua.value,weight:Wa.value}]};throw new Error("Failed pattern match at Template.Layer.Text.Markup (line 179, column 37 - line 181, column 106): "+[n.constructor.name])}};var $s=function(t){return t};var Hg={mapLayerWrapper:function(t){return function(e){var n=s(e.Bind1().Apply0().Functor0());return function(r){return function(u){return n($s)(r(u))}}}}},$g=nc(Hg);var qs=function(t){var e=F(t.Applicative0());return function(n){var r=Ee(n),u=_n(n),a=xe(n);return{position:function(o){return r(o)},translate:function(){var o=$g(n)(t),l=Ve(n);return function(c){return o(l(c))}}(),containsPoint:function(o){return function(l){return u(o)(l)}},dragStart:j(e),drag:j(e),dragEnd:e,draw:function(o){return function(l){return a(o)(l)}}}}};var Os=$s;var Wn=function(t){return function(e){return function(){return e[t]}}},Og=Wn("URL"),Bg=Wn("documentURI"),zg=Wn("origin"),kg=Wn("compatMode"),Jg=Wn("characterSet"),Gg=Wn("contentType");var Vg=Wn("documentElement");function Wl(t){return function(e){return function(){return e.createElement(t)}}}function Bs(t,e,n){return t==null?e:n(t)}var nt=function(t){return Bs(t,f.value,i.create)};function zs(t,e,n,r){if(typeof window<"u"){var u=window[n];if(u!=null&&r instanceof u)return e(r)}for(var a=r;a!=null;){var o=Object.getPrototypeOf(a),l=o.constructor.name;if(l===n)return e(r);if(l==="Object")return t;a=o}return t}var h=function(t){return function(e){return zs(f.value,i.create,t,e)}};var Ha=function(t){return function(e){return e[t]}},th=Ha("namespaceURI"),eh=Ha("prefix"),nh=Ha("localName"),rh=Ha("tagName");function $a(t){return function(e){return function(n){return function(){n.setAttribute(t,e)}}}}function Ul(t){return function(){var e=t.getBoundingClientRect();return{top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.width,height:e.height,x:e.x,y:e.y}}}var qa=function(t){return function(e){return function(){return e[t]}}},ah=qa("children"),uh=qa("firstElementChild"),lh=qa("lastElementChild"),ih=qa("childElementCount");var ie=v;var ce=function(t){return function(e){return function(){return e[t]}}};var ph=ce("baseURI"),vh=ce("ownerDocument"),mh=ce("parentNode"),_h=ce("parentElement");var gh=ce("childNodes"),hh=ce("firstChild"),Rh=ce("lastChild"),Dh=ce("previousSibling"),yh=ce("nextSibling"),Fh=ce("nodeValue");var wh=ce("textContent");function Js(t){return function(e){return function(){return e.getElementById(t)}}}var Lh=s(P),yr=function(t){var e=Lh(nt),n=Js(t);return function(r){return e(n(r))}};function Gt(t){return function(){return function(e){return t(e)()}}}function Vt(t){return function(e){return function(n){return function(r){return function(){return r.addEventListener(t,e,n)}}}}}var Hl=function(){return window};var Fr=v;var Gs=v,Vs=v;function js(t,e,n){var r=Object.prototype.toString.call(n);return r.indexOf("[object HTML")===0&&r.indexOf("Element]")===r.length-8?e(n):t}function $l(t){return function(){return t.click()}}function ql(t){return function(){return t.offsetWidth}}function Ol(t){return function(){return t.offsetHeight}}var Qs=v;var Bl=function(t){return js(f.value,i.create,t)};function wr(t){return function(){return t.value}}var zl=h("HTMLInputElement");function Oa(t){return function(){return t.value}}var Zs=h("HTMLTextAreaElement");function kl(t){return function(){return t.document}}function yo(t){return t.clientX}function Fo(t){return t.clientY}function wo(t){return t.touches}var Ba=h("TouchEvent");function td(t,e){return e.item(t)}var za=function(t){return function(e){return nt(td(t,e))}};function bo(t){return t.clientX}function Co(t){return t.clientY}var ka=h("MouseEvent");var He=F(bt),eR=pn(vn),To=ma(re)(Qo(P)),nR=xe(To),Tr=Ee(To),ed=Qe(To),Ga=Xe(To),nd=Ye(To),Gl=Fn(It),br=x(Gl),Jl=pe(Gl),Ja=or(It),Un=ae(rr)(It),rd=eR(Gl),rR=pe(zn),od=F(Jr(It)),oR=_a(re),aR=La()(),Cr=Cf(re);var Er=function(t){return function(e){return function(n){return function(){var u=Ul(Qs(e))(),a=ql(e)(),o=Ol(e)(),l=Ar(t)(),c=Wr(t)();return{x:(n.x-u.left)*l/a,y:(n.y-u.top)*c/o}}}}},te=function(t){return function(){var n=Pr(t.canvas)(),r=Zi(t.canvas)();return fu(n)({x:0,y:0,width:r.width,height:r.height})(),St(n)(nR(n)(t.layer))()}},uR=function(t){return Gt(function(e){var n=Ba(e);if(n instanceof f)return He(void 0);if(n instanceof i){var r=za(0)(wo(n.value0));if(r instanceof f)return te(t);if(r instanceof i)return function(){var a=Tr(t.layer)(),o=Er(t.canvas)(t.canvasHtmlElement)({x:Z(yo(r.value0)),y:Z(Fo(r.value0))})(),l={offsetX:o.x-a.x,offsetY:o.y-a.y};return ed(l)(t.layer)(),te(t)()};throw new Error("Failed pattern match at Template.Main (line 199, column 22 - line 209, column 22): "+[r.constructor.name])}throw new Error("Failed pattern match at Template.Main (line 197, column 63 - line 209, column 22): "+[n.constructor.name])})},lR=function(t){return Gt(function(e){var n=Ba(e);if(n instanceof f)return He(void 0);if(n instanceof i){var r=za(0)(wo(n.value0));if(r instanceof f)return te(t);if(r instanceof i)return function(){var a=Tr(t.layer)(),o=Er(t.canvas)(t.canvasHtmlElement)({x:Z(yo(r.value0)),y:Z(Fo(r.value0))})(),l={translateX:o.x-a.x,translateY:o.y-a.y};return Ga(l)(t.layer)(),te(t)()};throw new Error("Failed pattern match at Template.Main (line 227, column 22 - line 237, column 22): "+[r.constructor.name])}throw new Error("Failed pattern match at Template.Main (line 225, column 62 - line 237, column 22): "+[n.constructor.name])})},iR=function(t){return Gt(function(e){var n=Ba(e);if(n instanceof f)return He(void 0);if(n instanceof i){var r=za(0)(wo(n.value0));if(r instanceof f)return te(t);if(r instanceof i)return function(){var a=Tr(t.layer)(),o=Er(t.canvas)(t.canvasHtmlElement)({x:Z(yo(r.value0)),y:Z(Fo(r.value0))})(),l={translateX:o.x-a.x,translateY:o.y-a.y};return Ga(l)(t.layer)(),nd(t.layer)(),te(t)()};throw new Error("Failed pattern match at Template.Main (line 256, column 22 - line 267, column 22): "+[r.constructor.name])}throw new Error("Failed pattern match at Template.Main (line 254, column 61 - line 267, column 22): "+[n.constructor.name])})},ad=function(t){return function(e){return yn(br(Jl(Ja)(Un(Ki(t))))(function(n){return rd(Un(Xi(n)(e)))(function(){return br(Un(rR(kl)(Hl)))(function(r){return br(Jl(Ja)(Un(yr(t)(Fr(r)))))(function(u){return br(Ja(Bl(u)))(function(a){return od({canvas:n,canvasElement:u,canvasHtmlElement:a,document:r})})})})})}))}},ud=function(t){var e=Me(t);return function(n){return function(r){return function(){var a=oR(e(r))();return aR(n)({layer:a})}}}},cR=function(t){return Gt(function(e){var n=ka(e);if(n instanceof f)return He(void 0);if(n instanceof i)return function(){var u=Tr(t.layer)(),a=Er(t.canvas)(t.canvasHtmlElement)({x:Z(bo(n.value0)),y:Z(Co(n.value0))})(),o={translateX:a.x-u.x,translateY:a.y-u.y};return Ga(o)(t.layer)(),nd(t.layer)(),te(t)()};throw new Error("Failed pattern match at Template.Main (line 240, column 60 - line 251, column 20): "+[n.constructor.name])})},fR=function(t){return Gt(function(e){var n=ka(e);if(n instanceof f)return He(void 0);if(n instanceof i)return function(){var u=Tr(t.layer)(),a=Er(t.canvas)(t.canvasHtmlElement)({x:Z(bo(n.value0)),y:Z(Co(n.value0))})(),o={translateX:a.x-u.x,translateY:a.y-u.y};return Ga(o)(t.layer)(),te(t)()};throw new Error("Failed pattern match at Template.Main (line 212, column 62 - line 222, column 20): "+[n.constructor.name])})},sR=function(t){return Gt(function(e){var n=ka(e);if(n instanceof f)return He(void 0);if(n instanceof i)return function(){var u=Tr(t.layer)(),a=Er(t.canvas)(t.canvasHtmlElement)({x:Z(bo(n.value0)),y:Z(Co(n.value0))})(),o={offsetX:a.x-u.x,offsetY:a.y-u.y};return ed(o)(t.layer)(),te(t)()};throw new Error("Failed pattern match at Template.Main (line 184, column 62 - line 194, column 20): "+[n.constructor.name])})},dR=function(t){return Gt(function(e){return te(t)})};var ld=function(t){return function(e){return function(n){return yn(function(){var r=Fr(n.document);return br(Jl(Ja)(Un(yr(t)(r))))(function(u){return br(Un(Gt(function(a){return function(){var l=uu(n.canvas)(),c=Wl("a")(Vs(n.document))();$a("href")(l)(c)(),$a("download")(e)(c)();var d=Bl(c);if(d instanceof i)return $l(d.value0)();throw new Error("Failed pattern match at Template.Main (line 149, column 9 - line 149, column 53): "+[d.constructor.name])}})))(function(a){return rd(Un(Vt("click")(a)(!1)(ie(u))))(function(){return od(u)})})})}())}}},pR=function(t){return function(e){return function(n){return function(r){return function(){var a=yr(e)(Fr(t.document))();if(a instanceof i){var o=Zs(a.value0);if(o instanceof i){var l=Oa(o.value0)();Cr(r(l))(n)();var c=Gt(function(d){return function(){var g=Oa(o.value0)();return Cr(r(g))(n)()}})();return Vt("input")(c)(!1)(ie(a.value0))()}throw new Error("Failed pattern match at Template.Main (line 303, column 7 - line 303, column 55): "+[o.constructor.name])}throw new Error("Failed pattern match at Template.Main (line 302, column 3 - line 302, column 79): "+[a.constructor.name])}}}}},Vl=function(t){return function(e){return function(n){return function(r){return pR(t)(e)(n)(function(u){return function(a){return function(o){return He(a(o))}}(r(u))})}}}};var vR=function(t){return function(e){return function(n){return function(r){return function(){var a=yr(e)(Fr(t.document))();if(a instanceof i){var o=zl(a.value0);if(o instanceof i){var l=wr(o.value0)();(function(){var d=ha(l);if(d instanceof i)return Cr(r(d.value0))(n)();if(d instanceof f)return void 0;throw new Error("Failed pattern match at Template.Main (line 354, column 3 - line 356, column 25): "+[d.constructor.name])})();var c=Gt(function(d){return function(){var g=wr(o.value0)(),y=ha(g);if(y instanceof i)return Cr(r(y.value0))(n)();if(y instanceof f)return void 0;throw new Error("Failed pattern match at Template.Main (line 360, column 5 - line 362, column 27): "+[y.constructor.name])}})();return Vt("input")(c)(!1)(ie(a.value0))()}throw new Error("Failed pattern match at Template.Main (line 351, column 7 - line 351, column 52): "+[o.constructor.name])}throw new Error("Failed pattern match at Template.Main (line 350, column 3 - line 350, column 79): "+[a.constructor.name])}}}}},mR=function(t){return function(e){return function(n){return function(r){return vR(t)(e)(n)(function(u){return function(a){return function(o){return He(a(o))}}(r(u))})}}}};var id=function(t){return function(e){return function(n){return mR(t)(e)(n)(Ss)}}},_R=function(t){return function(e){return function(n){return function(r){return function(){var a=yr(e)(Fr(t.document))();if(a instanceof i){var o=zl(a.value0);if(o instanceof i){var l=wr(o.value0)();Cr(r(l))(n)();var c=Gt(function(d){return function(){var g=wr(o.value0)();return Cr(r(g))(n)()}})();return Vt("input")(c)(!1)(ie(a.value0))()}throw new Error("Failed pattern match at Template.Main (line 287, column 7 - line 287, column 52): "+[o.constructor.name])}throw new Error("Failed pattern match at Template.Main (line 286, column 3 - line 286, column 79): "+[a.constructor.name])}}}}},cd=function(t){return function(e){return function(n){return function(r){return _R(t)(e)(n)(function(u){return function(a){return function(o){return He(a(o))}}(r(u))})}}}};var fd=function(t){return function(){var n=sR(t)(),r=fR(t)(),u=cR(t)(),a=uR(t)(),o=lR(t)(),l=iR(t)(),c=dR(t)();return Vt("mousedown")(n)(!1)(ie(t.canvasElement))(),Vt("mousemove")(r)(!1)(ie(t.canvasElement))(),Vt("mouseup")(u)(!1)(ie(t.canvasElement))(),Vt("touchstart")(a)(!1)(ie(t.canvasElement))(),Vt("touchmove")(o)(!1)(ie(t.canvasElement))(),Vt("touchend")(l)(!1)(ie(t.canvasElement))(),Vt("input")(c)(!1)(Gs(t.document))()}};var sd=cc(re),jl=_a(re),dd=Me(_u(re)),vd=ma(re),hR=Me(vd(sl(re))),pd=Me(vd(Pl(re))),RR=Me(tl(bt)),DR=ud(qs(It)(yf(It))),_t=2,yR={scaleX:_t,scaleY:_t},FR=function(){return{width:1080,height:1080*5/4}}(),Ql=Ot(Ao()(xr({reflectSymbol:function(){return"height"}})()(xr({reflectSymbol:function(){return"width"}})()(So)(fn))(fn)))({width:_t,height:_t})(FR),Va=function(){return Ql.height}(),ja=function(){return Ql.width}(),md=gt(P)(function(){var e=ad("canvas")(Ql)();if(e instanceof i){var n=Pr(e.value0.canvas)(),r=sd("./img/guillotine.svg")({x:60*_t,y:60*_t})(yR)(Vo.value)(),u=sd("./img/jacobinlogo80x200.png")({x:ja-100*_t,y:Va-160*_t})({scaleX:1,scaleY:1})(Vo.value)(),a=jl({text:[],lineHeight:1.1,position:{x:60*_t,y:150*_t},fillStyle:"#f00",font:{name:"Oswald",style:{normal:"normal",italic:"italic"},weight:{normal:"500",bold:"700"},size:90*_t},align:oe.value,baseline:ve.value,letterSpacing:"-3px",emptyLineHeight:.25,dragOffset:f.value,maxWidth:new i(ja-2*60*_t),context:n})();Vl(e.value0)("bodytext")(a)(Al)(),id(e.value0)("bodytext-size")(a)();var o=jl({text:"AUTEUR",lineHeight:.95,position:{x:60*_t,y:Va-160*_t},fillStyle:"#f00",fontName:"Oswald",fontStyle:"normal",fontWeight:"400",fontSize:50*_t,align:oe.value,baseline:Te.value,letterSpacing:"-3px",dragOffset:f.value,maxWidth:f.value,context:n})();cd(e.value0)("author")(o)(function(g){return Yf(Bo(g))})();var l=jl({text:[],lineHeight:.9,position:{x:60*_t,y:Va-160*_t},maxWidth:new i(ja-4*60*_t),fillStyle:"#f00",font:{name:"Oswald",style:{normal:"normal",italic:"italic"},weight:{normal:"700",bold:"700"},size:50*_t},align:oe.value,baseline:ve.value,letterSpacing:"-2px",emptyLineHeight:.25,dragOffset:f.value,context:n})();Vl(e.value0)("title")(l)(Al)();var c=Os(Ff([dd(r),dd(u),hR(o),pd(l),pd(a),RR(wf({x:0,y:0,width:ja,height:Va})("#fff"))])),d=DR(e.value0)(c)();te(d)(),fd(d)();var p=ld("download")("jacobin-tekst.png")(d)();if(p instanceof i)return void 0;throw new Error("Failed pattern match at Jacobin.TextSlide (line 132, column 3 - line 132, column 69): "+[p.constructor.name])}throw new Error("Failed pattern match at Jacobin.TextSlide (line 42, column 3 - line 42, column 72): "+[e.constructor.name])});md();})();
